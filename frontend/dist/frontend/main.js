"use strict";var gre=Object.defineProperty,_re=Object.defineProperties,yre=Object.getOwnPropertyDescriptors,Q6=Object.getOwnPropertySymbols,vre=Object.prototype.hasOwnProperty,bre=Object.prototype.propertyIsEnumerable,J6=(Ke,ye,L)=>ye in Ke?gre(Ke,ye,{enumerable:!0,configurable:!0,writable:!0,value:L}):Ke[ye]=L,X6=(Ke,ye)=>{for(var L in ye||(ye={}))vre.call(ye,L)&&J6(Ke,L,ye[L]);if(Q6)for(var L of Q6(ye))bre.call(ye,L)&&J6(Ke,L,ye[L]);return Ke},eq=(Ke,ye)=>_re(Ke,yre(ye));(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{2011:(Ke,ye,L)=>{L.d(ye,{Dh:()=>re,GT:()=>te,cc:()=>_e,hO:()=>le,on:()=>V,pX:()=>de,xv:()=>ie});var a=L(5e3),G=L(127),N=L(6351);Ke=L.hmd(Ke);const ce=["ngOnDestroy"],de=(Se,Be,st,Ht={})=>new Proxy(Se,{get:(un,Nt)=>st.runOutsideAngular(()=>{var Fn;if(Se[Nt])return(null===(Fn=null==Ht?void 0:Ht.spy)||void 0===Fn?void 0:Fn.get)&&Ht.spy.get(Nt,Se[Nt]),Se[Nt];if(ce.indexOf(Nt)>-1)return()=>{};const vt=Be.toPromise().then(Oe=>{const Me=Oe&&Oe[Nt];return"function"==typeof Me?Me.bind(Oe):Me&&Me.then?Me.then(Ze=>st.run(()=>Ze)):st.run(()=>Me)});return new Proxy(()=>{},{get:(Oe,Me)=>vt[Me],apply:(Oe,Me,Ze)=>vt.then(yt=>{var tt;const Et=yt&&yt(...Ze);return(null===(tt=null==Ht?void 0:Ht.spy)||void 0===tt?void 0:tt.apply)&&Ht.spy.apply(Nt,Ze,Et),Et})})})}),te=(Se,Be)=>{Be.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Ht=>{Object.defineProperty(Se.prototype,Ht,Object.getOwnPropertyDescriptor(st.prototype||st,Ht))})})};class se{constructor(Be){return Be}}const re=new a.OlP("angularfire2.app.options"),ie=new a.OlP("angularfire2.app.name");function V(Se,Be,st){const un="object"==typeof st&&st||{};un.name=un.name||"string"==typeof st&&st||"[DEFAULT]";const Fn=G.Z.apps.filter(vt=>vt&&vt.name===un.name)[0]||Be.runOutsideAngular(()=>G.Z.initializeApp(Se,un));try{JSON.stringify(Se)!==JSON.stringify(Fn.options)&&$("error",`${Fn.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new se(Fn)}const $=(Se,...Be)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Se](...Be)},H={provide:se,useFactory:V,deps:[re,a.R0b,[new a.FiY,ie]]};let le=(()=>{class Se{constructor(st){G.Z.registerVersion("angularfire",N.q4.full,"core"),G.Z.registerVersion("angularfire",N.q4.full,"app-compat"),G.Z.registerVersion("angular",a.q4F.full,st.toString())}static initializeApp(st,Ht){return{ngModule:Se,providers:[{provide:re,useValue:st},{provide:ie,useValue:Ht}]}}}return Se.\u0275fac=function(st){return new(st||Se)(a.LFG(a.Lbi))},Se.\u0275mod=a.oAB({type:Se}),Se.\u0275inj=a.cJS({providers:[H]}),Se})();function _e(Se,Be,st,Ht,un){const[,Nt,Fn]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===Se)||[];if(Nt)return function ge(Se,Be){try{return Se.toString()===Be.toString()}catch(st){return Se===Be}}(un,Fn)||(ve("error",`${Be} was already initialized on the ${st} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:un,was:Fn})),Nt;{const vt=Ht();return globalThis.\u0275AngularfireInstanceCache.push([Se,vt,un]),vt}}const be=!!Ke.hot,ve=(Se,...Be)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Se](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ke,ye,L)=>{L.d(ye,{q4:()=>Il,iC:()=>xs,fc:()=>Al,HU:()=>Qm,vb:()=>Du,JM:()=>Fo});var a=L(5e3),G=L(5867),N=L(5861),ce=L(9681),de=L(2090),te=L(4859),se=L(1877),re=L(8766);const ie="@firebase/installations",V="0.5.12",H=`w:${V}`,le="FIS_v2",Be=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(T){return T instanceof de.ZR&&T.code.includes("request-failed")}function Ht({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function un(T){return{token:T.token,requestStatus:2,expiresIn:yt(T.expiresIn),creationTime:Date.now()}}function Nt(T,I){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,N.Z)(function*(T,I){const j=(yield I.json()).error;return Be.create("request-failed",{requestName:T,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function vt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Oe(T,{refreshToken:I}){const O=vt(T);return O.append("Authorization",function tt(T){return`${le} ${T}`}(I)),O}function Me(T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,N.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function yt(T){return Number(T.replace("s","000"))}function Et(T,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:O}){const j=Ht(T),ne=vt(T),he=I.getImmediate({optional:!0});if(he){const It=yield he.getHeartbeatsHeader();It&&ne.append("x-firebase-client",It)}const Re={method:"POST",headers:ne,body:JSON.stringify({fid:O,authVersion:le,appId:T.appId,sdkVersion:H})},pt=yield Me(()=>fetch(j,Re));if(pt.ok){const It=yield pt.json();return{fid:It.fid||O,registrationStatus:2,refreshToken:It.refreshToken,authToken:un(It.authToken)}}throw yield Nt("Create Installation",pt)})).apply(this,arguments)}function Zi(T){return new Promise(I=>{setTimeout(I,T)})}const ws=/^[cdef][\w-]{21}$/;function Gt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const O=function vr(T){return function Oi(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return ws.test(O)?O:""}catch(T){return""}}function br(T){return`${T.appName}!${T.appId}`}const ns=new Map;function Sn(T,I){const O=br(T);On(O,I),function Ln(T,I){const O=function Pi(){return!Dn&&"BroadcastChannel"in self&&(Dn=new BroadcastChannel("[Firebase] FID Change"),Dn.onmessage=T=>{On(T.data.key,T.data.fid)}),Dn}();O&&O.postMessage({key:T,fid:I}),function Fr(){0===ns.size&&Dn&&(Dn.close(),Dn=null)}()}(O,I)}function On(T,I){const O=ns.get(T);if(O)for(const j of O)j(I)}let Dn=null;const Tn="firebase-installations-store";let si=null;function ft(){return si||(si=(0,re.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Tn)}})),si}function Bn(T,I){return zn.apply(this,arguments)}function zn(){return(zn=(0,N.Z)(function*(T,I){const O=br(T),ne=(yield ft()).transaction(Tn,"readwrite"),he=ne.objectStore(Tn),Te=yield he.get(O);return yield he.put(I,O),yield ne.done,(!Te||Te.fid!==I.fid)&&Sn(T,I.fid),I})).apply(this,arguments)}function dn(T){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,N.Z)(function*(T){const I=br(T),j=(yield ft()).transaction(Tn,"readwrite");yield j.objectStore(Tn).delete(I),yield j.done})).apply(this,arguments)}function Cr(T,I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,N.Z)(function*(T,I){const O=br(T),ne=(yield ft()).transaction(Tn,"readwrite"),he=ne.objectStore(Tn),Te=yield he.get(O),Re=I(Te);return void 0===Re?yield he.delete(O):yield he.put(Re,O),yield ne.done,Re&&(!Te||Te.fid!==Re.fid)&&Sn(T,Re.fid),Re})).apply(this,arguments)}function Vn(T){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,N.Z)(function*(T){let I;const O=yield Cr(T.appConfig,j=>{const ne=is(j),he=qt(T,ne);return I=he.registrationPromise,he.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function is(T){return Lr(T||{fid:Gt(),registrationStatus:0})}function qt(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Be.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},j=function lt(T,I){return ct.apply(this,arguments)}(T,O);return{installationEntry:O,registrationPromise:j}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Cs(T)}:{installationEntry:I}}function ct(){return(ct=(0,N.Z)(function*(T,I){try{const O=yield Et(T,I);return Bn(T.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield dn(T.appConfig):yield Bn(T.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Cs(T){return hn.apply(this,arguments)}function hn(){return(hn=(0,N.Z)(function*(T){let I=yield ht(T.appConfig);for(;1===I.registrationStatus;)yield Zi(100),I=yield ht(T.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:j}=yield Vn(T);return j||O}return I})).apply(this,arguments)}function ht(T){return Cr(T,I=>{if(!I)throw Be.create("installation-not-found");return Lr(I)})}function Lr(T){return function pi(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Cn(T,I){return et.apply(this,arguments)}function et(){return(et=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:I},O){const j=cr(T,O),ne=Oe(T,O),he=I.getImmediate({optional:!0});if(he){const It=yield he.getHeartbeatsHeader();It&&ne.append("x-firebase-client",It)}const Re={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:H,appId:T.appId}})},pt=yield Me(()=>fetch(j,Re));if(pt.ok)return un(yield pt.json());throw yield Nt("Generate Auth Token",pt)})).apply(this,arguments)}function cr(T,{fid:I}){return`${Ht(T)}/${I}/authTokens:generate`}function W(T){return q.apply(this,arguments)}function q(){return(q=(0,N.Z)(function*(T,I=!1){let O;const j=yield Cr(T.appConfig,he=>{if(!gt(he))throw Be.create("not-registered");const Te=he.authToken;if(!I&&on(Te))return he;if(1===Te.requestStatus)return O=z(T,I),he;{if(!navigator.onLine)throw Be.create("app-offline");const Re=Br(he);return O=Ae(T,Re),Re}});return O?yield O:j.authToken})).apply(this,arguments)}function z(T,I){return Y.apply(this,arguments)}function Y(){return(Y=(0,N.Z)(function*(T,I){let O=yield K(T.appConfig);for(;1===O.authToken.requestStatus;)yield Zi(100),O=yield K(T.appConfig);const j=O.authToken;return 0===j.requestStatus?W(T,I):j})).apply(this,arguments)}function K(T){return Cr(T,I=>{if(!gt(I))throw Be.create("not-registered");return function oe(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ae(T,I){return je.apply(this,arguments)}function je(){return(je=(0,N.Z)(function*(T,I){try{const O=yield Cn(T,I),j=Object.assign(Object.assign({},I),{authToken:O});return yield Bn(T.appConfig,j),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const j=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Bn(T.appConfig,j)}else yield dn(T.appConfig);throw O}})).apply(this,arguments)}function gt(T){return void 0!==T&&2===T.registrationStatus}function on(T){return 2===T.requestStatus&&!function Xt(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function Br(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function Q(){return(Q=(0,N.Z)(function*(T){const I=T,{installationEntry:O,registrationPromise:j}=yield Vn(I);return j?j.catch(console.error):W(I).catch(console.error),O.fid})).apply(this,arguments)}function ze(){return(ze=(0,N.Z)(function*(T,I=!1){const O=T;return yield Xe(O),(yield W(O,I)).token})).apply(this,arguments)}function Xe(T){return bt.apply(this,arguments)}function bt(){return(bt=(0,N.Z)(function*(T){const{registrationPromise:I}=yield Vn(T);I&&(yield I)})).apply(this,arguments)}function sl(T){return Be.create("missing-app-config-values",{valueName:T})}const Er="installations",Rt=T=>{const I=T.getProvider("app").getImmediate(),O=function Fi(T){if(!T||!T.options)throw sl("App Configuration");if(!T.name)throw sl("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!T.options[O])throw sl(O);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,ce._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},en=T=>{const I=T.getProvider("app").getImmediate(),O=(0,ce._getProvider)(I,Er).getImmediate();return{getId:()=>function J(T){return Q.apply(this,arguments)}(O),getToken:ne=>function Ee(T){return ze.apply(this,arguments)}(O,ne)}};(function oi(){(0,ce._registerComponent)(new te.wA(Er,Rt,"PUBLIC")),(0,ce._registerComponent)(new te.wA("installations-internal",en,"PRIVATE"))})(),(0,ce.registerVersion)(ie,V),(0,ce.registerVersion)(ie,V,"esm2017");const wo="@firebase/remote-config",ei=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jm{constructor(I,O,j,ne){this.client=I,this.storage=O,this.storageCache=j,this.logger=ne}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-O,ne=j<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ne}.`),ne}fetch(I){var O=this;return(0,N.Z)(function*(){const[j,ne]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ne&&O.isCachedDataFresh(I.cacheMaxAgeMillis,j))return ne;I.eTag=ne&&ne.eTag;const he=yield O.client.fetch(I),Te=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Te.push(O.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Te),he})()}}function Sf(T=navigator){return T.languages&&T.languages[0]||T.language}class rs{constructor(I,O,j,ne,he,Te){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=j,this.projectId=ne,this.apiKey=he,this.appId=Te}fetch(I){var O=this;return(0,N.Z)(function*(){var j,ne,he;const[Te,Re]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ut={sdk_version:O.sdkVersion,app_instance_id:Te,app_instance_id_token:Re,app_id:O.appId,language_code:Sf()},di={method:"POST",headers:Mt,body:JSON.stringify(ut)},ir=fetch(It,di),Ks=new Promise((ls,Qs)=>{I.signal.addEventListener(()=>{const Ba=new Error("The operation was aborted.");Ba.name="AbortError",Qs(Ba)})});let os;try{yield Promise.race([ir,Ks]),os=yield ir}catch(ls){let Qs="fetch-client-network";throw"AbortError"===(null===(j=ls)||void 0===j?void 0:j.name)&&(Qs="fetch-timeout"),ei.create(Qs,{originalErrorMessage:null===(ne=ls)||void 0===ne?void 0:ne.message})}let as=os.status;const aa=os.headers.get("ETag")||void 0;let Hi,hi;if(200===os.status){let ls;try{ls=yield os.json()}catch(Qs){throw ei.create("fetch-client-parse",{originalErrorMessage:null===(he=Qs)||void 0===he?void 0:he.message})}Hi=ls.entries,hi=ls.state}if("INSTANCE_STATE_UNSPECIFIED"===hi?as=500:"NO_CHANGE"===hi?as=304:("NO_TEMPLATE"===hi||"EMPTY_CONFIG"===hi)&&(Hi={}),304!==as&&200!==as)throw ei.create("fetch-status",{httpStatus:as});return{status:as,eTag:aa,config:Hi}})()}}class xd{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,N.Z)(function*(){const j=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,j)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:j}){var ne=this;return(0,N.Z)(function*(){yield function ll(T,I){return new Promise((O,j)=>{const ne=Math.max(I-Date.now(),0),he=setTimeout(O,ne);T.addEventListener(()=>{clearTimeout(he),j(ei.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const he=yield ne.client.fetch(I);return yield ne.storage.deleteThrottleMetadata(),he}catch(he){if(!function Df(T){if(!(T instanceof de.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(he))throw he;const Te={throttleEndTimeMillis:Date.now()+(0,de.$s)(j),backoffCount:j+1};return yield ne.storage.setThrottleMetadata(Te),ne.attemptFetch(I,Te)}})()}}class Gm{constructor(I,O,j,ne,he){this.app=I,this._client=O,this._storageCache=j,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cl(T,I){var O;const j=T.target.error||void 0;return ei.create(I,{originalErrorMessage:j&&(null===(O=j)||void 0===O?void 0:O.message)})}const Da="app_namespace_store";class zm{constructor(I,O,j,ne=function Rd(){return new Promise((T,I)=>{var O;try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=ne=>{I(cl(ne,"storage-open"))},j.onsuccess=ne=>{T(ne.target.result)},j.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Da,{keyPath:"compositeKey"})}}catch(j){I(ei.create("storage-open",{originalErrorMessage:null===(O=j)||void 0===O?void 0:O.message}))}})}()){this.appId=I,this.appName=O,this.namespace=j,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,N.Z)(function*(){const j=yield O.openDbPromise;return new Promise((ne,he)=>{var Te;const pt=j.transaction([Da],"readonly").objectStore(Da),It=O.createCompositeKey(I);try{const Mt=pt.get(It);Mt.onerror=ut=>{he(cl(ut,"storage-get"))},Mt.onsuccess=ut=>{const di=ut.target.result;ne(di?di.value:void 0)}}catch(Mt){he(ei.create("storage-get",{originalErrorMessage:null===(Te=Mt)||void 0===Te?void 0:Te.message}))}})})()}set(I,O){var j=this;return(0,N.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((he,Te)=>{var Re;const It=ne.transaction([Da],"readwrite").objectStore(Da),Mt=j.createCompositeKey(I);try{const ut=It.put({compositeKey:Mt,value:O});ut.onerror=di=>{Te(cl(di,"storage-set"))},ut.onsuccess=()=>{he()}}catch(ut){Te(ei.create("storage-set",{originalErrorMessage:null===(Re=ut)||void 0===Re?void 0:Re.message}))}})})()}delete(I){var O=this;return(0,N.Z)(function*(){const j=yield O.openDbPromise;return new Promise((ne,he)=>{var Te;const pt=j.transaction([Da],"readwrite").objectStore(Da),It=O.createCompositeKey(I);try{const Mt=pt.delete(It);Mt.onerror=ut=>{he(cl(ut,"storage-delete"))},Mt.onsuccess=()=>{ne()}}catch(Mt){he(ei.create("storage-delete",{originalErrorMessage:null===(Te=Mt)||void 0===Te?void 0:Te.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Od{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const O=I.storage.getLastFetchStatus(),j=I.storage.getLastSuccessfulFetchTimestampMillis(),ne=I.storage.getActiveConfig(),he=yield O;he&&(I.lastFetchStatus=he);const Te=yield j;Te&&(I.lastSuccessfulFetchTimestampMillis=Te);const Re=yield ne;Re&&(I.activeConfig=Re)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Pd(){return ru.apply(this,arguments)}function ru(){return(ru=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(T){return!1}})).apply(this,arguments)}!function $m(){(0,ce._registerComponent)(new te.wA("remote-config",function T(I,{instanceIdentifier:O}){const j=I.getProvider("app").getImmediate(),ne=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ei.create("registration-window");if(!(0,de.hl)())throw ei.create("indexed-db-unavailable");const{projectId:he,apiKey:Te,appId:Re}=j.options;if(!he)throw ei.create("registration-project-id");if(!Te)throw ei.create("registration-api-key");if(!Re)throw ei.create("registration-app-id");const pt=new zm(Re,j.name,O=O||"firebase"),It=new Od(pt),Mt=new se.Yd(wo);Mt.logLevel=se.in.ERROR;const ut=new rs(ne,ce.SDK_VERSION,O,he,Te,Re),di=new xd(ut,pt),ir=new jm(di,pt,It,Mt),Ks=new Gm(j,ir,It,pt,Mt);return function In(T){const I=(0,de.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ks),Ks},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(wo,"0.3.11"),(0,ce.registerVersion)(wo,"0.3.11","esm2017")}();const Nd="/firebase-messaging-sw.js",Qo="/firebase-cloud-messaging-push-scope",dl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jo="google.c.a.c_id",fl="google.c.a.c_l",Co="google.c.a.ts",hr="google.c.a.e";var Ji=(()=>{return(T=Ji||(Ji={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Ji;var T})();function ss(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function su(T){const O=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(O),ne=new Uint8Array(j.length);for(let he=0;he<j.length;++he)ne[he]=j.charCodeAt(he);return ne}const fr="fcm_token_details_db",If="fcm_token_object_Store";function Jl(T){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,N.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(fr))return null;let I=null;return(yield(0,re.X3)(fr,5,{upgrade:(j=(0,N.Z)(function*(ne,he,Te,Re){var pt;if(he<2||!ne.objectStoreNames.contains(If))return;const It=Re.objectStore(If),Mt=yield It.index("fcmSenderId").get(T);if(yield It.clear(),Mt)if(2===he){const ut=Mt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;I={token:ut.fcmToken,createTime:null!==(pt=ut.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:ss(ut.vapidKey)}}}else if(3===he){const ut=Mt;I={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:ss(ut.auth),p256dh:ss(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:ss(ut.vapidKey)}}}else if(4===he){const ut=Mt;I={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:ss(ut.auth),p256dh:ss(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:ss(ut.vapidKey)}}}}),function(he,Te,Re,pt){return j.apply(this,arguments)})})).close(),yield(0,re.Lj)(fr),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),Mf(I)?I:null;var j}),Ld.apply(this,arguments)}function Mf(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const zs="firebase-messaging-store";let Af=null;function gn(){return Af||(Af=(0,re.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(zs)}})),Af}function Bd(T){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,N.Z)(function*(T){const I=Xi(T),j=yield(yield gn()).transaction(zs).objectStore(zs).get(I);if(j)return j;{const ne=yield Jl(T.appConfig.senderId);if(ne)return yield Jt(T,ne),ne}})).apply(this,arguments)}function Jt(T,I){return So.apply(this,arguments)}function So(){return(So=(0,N.Z)(function*(T,I){const O=Xi(T),ne=(yield gn()).transaction(zs,"readwrite");return yield ne.objectStore(zs).put(I,O),yield ne.done,I})).apply(this,arguments)}function ea(T){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,N.Z)(function*(T){const I=Xi(T),j=(yield gn()).transaction(zs,"readwrite");yield j.objectStore(zs).delete(I),yield j.done})).apply(this,arguments)}function Xi({appConfig:T}){return T.appId}const ai=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dr(T,I){return er.apply(this,arguments)}function er(){return(er=(0,N.Z)(function*(T,I){var O;const j=yield ta(T),ne=na(I),he={method:"POST",headers:j,body:JSON.stringify(ne)};let Te;try{Te=yield(yield fetch(li(T.appConfig),he)).json()}catch(Re){throw ai.create("token-subscribe-failed",{errorInfo:null===(O=Re)||void 0===O?void 0:O.toString()})}if(Te.error)throw ai.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw ai.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function Do(T,I){return To.apply(this,arguments)}function To(){return(To=(0,N.Z)(function*(T,I){var O;const j=yield ta(T),ne=na(I.subscriptionOptions),he={method:"PATCH",headers:j,body:JSON.stringify(ne)};let Te;try{Te=yield(yield fetch(`${li(T.appConfig)}/${I.token}`,he)).json()}catch(Re){throw ai.create("token-update-failed",{errorInfo:null===(O=Re)||void 0===O?void 0:O.toString()})}if(Te.error)throw ai.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw ai.create("token-update-no-token");return Te.token})).apply(this,arguments)}function Xl(T,I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,N.Z)(function*(T,I){var O;const ne={method:"DELETE",headers:yield ta(T)};try{const Te=yield(yield fetch(`${li(T.appConfig)}/${I}`,ne)).json();if(Te.error)throw ai.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(he){throw ai.create("token-unsubscribe-failed",{errorInfo:null===(O=he)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function li({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function ta(T){return wt.apply(this,arguments)}function wt(){return(wt=(0,N.Z)(function*({appConfig:T,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function na({p256dh:T,auth:I,endpoint:O,vapidKey:j}){const ne={web:{endpoint:O,auth:I,p256dh:T}};return j!==dl&&(ne.web.applicationPubKey=j),ne}const ec=6048e5;function ou(T){return tc.apply(this,arguments)}function tc(){return(tc=(0,N.Z)(function*(T){const I=yield Aa(T.swRegistration,T.vapidKey),O={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:ss(I.getKey("auth")),p256dh:ss(I.getKey("p256dh"))},j=yield Bd(T.firebaseDependencies);if(j){if(lu(j.subscriptionOptions,O))return Date.now()>=j.createTime+ec?au(T,{token:j.token,createTime:Date.now(),subscriptionOptions:O}):j.token;try{yield Xl(T.firebaseDependencies,j.token)}catch(ne){console.warn(ne)}return De(T.firebaseDependencies,O)}return De(T.firebaseDependencies,O)})).apply(this,arguments)}function Vd(T){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*(T){const I=yield Bd(T.firebaseDependencies);I&&(yield Xl(T.firebaseDependencies,I.token),yield ea(T.firebaseDependencies));const O=yield T.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function au(T,I){return Io.apply(this,arguments)}function Io(){return(Io=(0,N.Z)(function*(T,I){try{const O=yield Do(T.firebaseDependencies,I),j=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield Jt(T.firebaseDependencies,j),O}catch(O){throw yield Vd(T),O}})).apply(this,arguments)}function De(T,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,N.Z)(function*(T,I){const j={token:yield Dr(T,I),createTime:Date.now(),subscriptionOptions:I};return yield Jt(T,j),j.token})).apply(this,arguments)}function Aa(T,I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:su(I)})})).apply(this,arguments)}function lu(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function $s(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Ir(T,I){if(!I.notification)return;T.notification={};const O=I.notification.title;O&&(T.notification.title=O);const j=I.notification.body;j&&(T.notification.body=j);const ne=I.notification.image;ne&&(T.notification.image=ne)}(I,T),function ml(T,I){!I.data||(T.data=I.data)}(I,T),function nc(T,I){var O,j,ne,he,Te;if(!I.fcmOptions&&!(null===(O=I.notification)||void 0===O?void 0:O.click_action))return;T.fcmOptions={};const Re=null!==(ne=null===(j=I.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==ne?ne:null===(he=I.notification)||void 0===he?void 0:he.click_action;Re&&(T.fcmOptions.link=Re);const pt=null===(Te=I.fcmOptions)||void 0===Te?void 0:Te.analytics_label;pt&&(T.fcmOptions.analyticsLabel=pt)}(I,T),I}function cu(T){return"object"==typeof T&&!!T&&Jo in T}function uu(T,I){const O=[];for(let j=0;j<T.length;j++)O.push(T.charAt(j)),j<I.length&&O.push(I.charAt(j));return O.join("")}function ia(T){return ai.create("missing-app-config-values",{valueName:T})}uu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ti{constructor(I,O,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function Ud(T){if(!T||!T.options)throw ia("App Configuration Object");if(!T.name)throw ia("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=T;for(const j of I)if(!O[j])throw ia(j);return{appName:T.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ne,installations:O,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Ss(T){return xa.apply(this,arguments)}function xa(){return(xa=(0,N.Z)(function*(T){var I;try{T.swRegistration=yield navigator.serviceWorker.register(Nd,{scope:Qo}),T.swRegistration.update().catch(()=>{})}catch(O){throw ai.create("failed-service-worker-registration",{browserErrorMessage:null===(I=O)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function qs(T,I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,N.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield Ss(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ai.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function ic(T,I){return rc.apply(this,arguments)}function rc(){return(rc=(0,N.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=dl)})).apply(this,arguments)}function du(){return(du=(0,N.Z)(function*(T,I){if(!navigator)throw ai.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ai.create("permission-blocked");return yield ic(T,null==I?void 0:I.vapidKey),yield qs(T,null==I?void 0:I.serviceWorkerRegistration),ou(T)})).apply(this,arguments)}function ka(T,I,O){return oc.apply(this,arguments)}function oc(){return(oc=(0,N.Z)(function*(T,I,O){const j=ac(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:O[Jo],message_name:O[fl],message_time:O[Co],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ac(T){switch(T){case Ji.NOTIFICATION_CLICKED:return"notification_open";case Ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function lc(){return(lc=(0,N.Z)(function*(T,I){const O=I.data;if(!O.isFirebaseMessaging)return;T.onMessageHandler&&O.messageType===Ji.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler($s(O)):T.onMessageHandler.next($s(O)));const j=O.data;cu(j)&&"1"===j[hr]&&(yield ka(T,O.messageType,j))})).apply(this,arguments)}const fu="@firebase/messaging",Hd=T=>{const I=new Ti(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function hu(T,I){return lc.apply(this,arguments)}(I,O)),I},pu=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:j=>function sc(T,I){return du.apply(this,arguments)}(I,j)}};function cc(){return tr.apply(this,arguments)}function tr(){return(tr=(0,N.Z)(function*(){try{yield(0,de.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kf(){(0,ce._registerComponent)(new te.wA("messaging",Hd,"PUBLIC")),(0,ce._registerComponent)(new te.wA("messaging-internal",pu,"PRIVATE")),(0,ce.registerVersion)(fu,"0.9.16"),(0,ce.registerVersion)(fu,"0.9.16","esm2017")}();const gl="analytics",Nf="firebase_id",_l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yl="https://www.googletagmanager.com/gtag/js",ti=new se.Yd("@firebase/analytics");function Gd(T){return Promise.all(T.map(I=>I.catch(O=>O)))}function qm(T,I){const O=document.createElement("script");O.src=`${yl}?l=${T}&id=${I}`,O.async=!0,document.head.appendChild(O)}function Ra(T,I,O,j,ne,he){return zd.apply(this,arguments)}function zd(){return(zd=(0,N.Z)(function*(T,I,O,j,ne,he){const Te=j[ne];try{if(Te)yield I[Te];else{const pt=(yield Gd(O)).find(It=>It.measurementId===ne);pt&&(yield I[pt.appId])}}catch(Re){ti.error(Re)}T("config",ne,he)})).apply(this,arguments)}function Ws(T,I,O,j,ne){return xo.apply(this,arguments)}function xo(){return(xo=(0,N.Z)(function*(T,I,O,j,ne){try{let he=[];if(ne&&ne.send_to){let Te=ne.send_to;Array.isArray(Te)||(Te=[Te]);const Re=yield Gd(O);for(const pt of Te){const It=Re.find(ut=>ut.measurementId===pt),Mt=It&&I[It.appId];if(!Mt){he=[];break}he.push(Mt)}}0===he.length&&(he=Object.values(I)),yield Promise.all(he),T("event",j,ne||{})}catch(he){ti.error(he)}})).apply(this,arguments)}function nt(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(yl))return I;return null}const Mn=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),dc=new class Zn{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ff(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Je(T){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,N.Z)(function*(T){var I;const{appId:O,apiKey:j}=T,ne={method:"GET",headers:Ff(j)},he=_l.replace("{app-id}",O),Te=yield fetch(he,ne);if(200!==Te.status&&304!==Te.status){let Re="";try{const pt=yield Te.json();(null===(I=pt.error)||void 0===I?void 0:I.message)&&(Re=pt.error.message)}catch(pt){}throw Mn.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Re})}return Te.json()})).apply(this,arguments)}function Lf(T){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(T,I=dc,O){const{appId:j,apiKey:ne,measurementId:he}=T.options;if(!j)throw Mn.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:j};throw Mn.create("no-api-key")}const Te=I.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new yu;return setTimeout((0,N.Z)(function*(){Re.abort()}),void 0!==O?O:6e4),Ds({appId:j,apiKey:ne,measurementId:he},Te,Re,I)})).apply(this,arguments)}function Ds(T,I,O){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,N.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:O},j,ne=dc){var he,Te;const{appId:Re,measurementId:pt}=T;try{yield Ym(j,I)}catch(It){if(pt)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${null===(he=It)||void 0===he?void 0:he.message}]`),{appId:Re,measurementId:pt};throw It}try{const It=yield Je(T);return ne.deleteThrottleMetadata(Re),It}catch(It){const Mt=It;if(!$d(Mt)){if(ne.deleteThrottleMetadata(Re),pt)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${null==Mt?void 0:Mt.message}]`),{appId:Re,measurementId:pt};throw It}const ut=503===Number(null===(Te=null==Mt?void 0:Mt.customData)||void 0===Te?void 0:Te.httpStatus)?(0,de.$s)(O,ne.intervalMillis,30):(0,de.$s)(O,ne.intervalMillis),di={throttleEndTimeMillis:Date.now()+ut,backoffCount:O+1};return ne.setThrottleMetadata(Re,di),ti.debug(`Calling attemptFetch again in ${ut} millis`),Ds(T,di,j,ne)}})).apply(this,arguments)}function Ym(T,I){return new Promise((O,j)=>{const ne=Math.max(I-Date.now(),0),he=setTimeout(O,ne);T.addEventListener(()=>{clearTimeout(he),j(Mn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function $d(T){if(!(T instanceof de.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class yu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let hc,bl;function Po(){return(Po=(0,N.Z)(function*(T,I,O,j,ne){if(ne&&ne.global)T("event",O,j);else{const he=yield I;T("event",O,Object.assign(Object.assign({},j),{send_to:he}))}})).apply(this,arguments)}function Pa(T){bl=T}function wl(T){hc=T}function Cl(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,N.Z)(function*(){var T;if(!(0,de.hl)())return ti.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(I){return ti.warn(Mn.create("indexeddb-unavailable",{errorInfo:null===(T=I)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(T,I,O,j,ne,he,Te){var Re;const pt=Lf(T);pt.then(ir=>{O[ir.measurementId]=ir.appId,T.options.measurementId&&ir.measurementId!==T.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>ti.error(ir)),I.push(pt);const It=Cl().then(ir=>{if(ir)return j.getId()}),[Mt,ut]=yield Promise.all([pt,It]);nt()||qm(he,Mt.measurementId),bl&&(ne("consent","default",bl),Pa(void 0)),ne("js",new Date);const di=null!==(Re=null==Te?void 0:Te.config)&&void 0!==Re?Re:{};return di.origin="firebase",di.update=!0,null!=ut&&(di[Nf]=ut),ne("config",Mt.measurementId,di),hc&&(ne("set",hc),wl(void 0)),Mt.measurementId})).apply(this,arguments)}class bu{constructor(I){this.app=I}_delete(){return delete Vi[this.app.options.appId],Promise.resolve()}}let Vi={},Wd=[];const Sl={};let oa,xr,Dl="dataLayer",Fa=!1;function wu(T,I,O){!function Is(){const T=[];if((0,de.ru)()&&T.push("This is a browser extension environment."),(0,de.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((j,ne)=>`(${ne+1}) ${j}`).join(" "),O=Mn.create("invalid-analytics-context",{errorInfo:I});ti.warn(O.message)}}();const j=T.options.appId;if(!j)throw Mn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Mn.create("no-api-key");ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vi[j])throw Mn.create("already-exists",{id:j});if(!Fa){!function Ao(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(Dl);const{wrappedGtag:he,gtagCore:Te}=function Wm(T,I,O,j,ne){let he=function(...Te){window[j].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function uc(T,I,O,j){function he(){return(he=(0,N.Z)(function*(Te,Re,pt){try{"event"===Te?yield Ws(T,I,O,Re,pt):"config"===Te?yield Ra(T,I,O,j,Re,pt):"consent"===Te?T("consent","update",pt):T("set",Re)}catch(It){ti.error(It)}})).apply(this,arguments)}return function ne(Te,Re,pt){return he.apply(this,arguments)}}(he,T,I,O),{gtagCore:he,wrappedGtag:window[ne]}}(Vi,Wd,Sl,Dl,"gtag");xr=he,oa=Te,Fa=!0}return Vi[j]=function El(T,I,O,j,ne,he,Te){return Gn.apply(this,arguments)}(T,Wd,Sl,I,oa,Dl,O),new bu(T)}function pc(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,N.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(T){return!1}})).apply(this,arguments)}const ui="@firebase/analytics";!function Ui(){(0,ce._registerComponent)(new te.wA(gl,(I,{options:O})=>wu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ce._registerComponent)(new te.wA("analytics-internal",function T(I){try{const O=I.getProvider(gl).getImmediate();return{logEvent:(j,ne,he)=>function mc(T,I,O,j){T=(0,de.m9)(T),function Ts(T,I,O,j,ne){return Po.apply(this,arguments)}(xr,Vi[T.app.options.appId],I,O,j).catch(ne=>ti.error(ne))}(O,j,ne,he)}}catch(O){throw Mn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ce.registerVersion)(ui,"0.8.0"),(0,ce.registerVersion)(ui,"0.8.0","esm2017")}();var Zd=L(341),Vf=L(353),jt=L(2868),nr=L(2102),Kd=L(3334);const Il=new a.GfV("7.4.1"),kr="__angularfire_symbol__analyticsIsSupportedValue",Ml="__angularfire_symbol__analyticsIsSupported",Ys="__angularfire_symbol__remoteConfigIsSupportedValue",Rr="__angularfire_symbol__remoteConfigIsSupported",gc="__angularfire_symbol__messagingIsSupportedValue",Su="__angularfire_symbol__messagingIsSupported";function Fo(T,I,O){if(I){if(1===I.length)return I[0];const he=I.filter(Te=>Te.app===O);if(1===he.length)return he[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ml]||(globalThis[Ml]=pc().then(T=>globalThis[kr]=T).catch(()=>globalThis[kr]=!1)),globalThis[Su]||(globalThis[Su]=cc().then(T=>globalThis[gc]=T).catch(()=>globalThis[gc]=!1)),globalThis[Rr]||(globalThis[Rr]=Pd().then(T=>globalThis[Ys]=T).catch(()=>globalThis[Ys]=!1));const Du=(T,I)=>{const O=I?[I]:(0,G.C6)(),j=[];return O.forEach(ne=>{ne.container.getProvider(T).instances.forEach(Te=>{j.includes(Te)||j.push(Te)})}),j};function Kn(){}class Zs{constructor(I,O=Zd.N){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,j){const ne=this.zone;return this.delegate.schedule(function(Te){ne.runGuarded(()=>{I.apply(this,[Te])})},O,j)}}class Tu{constructor(I){this.zone=I,this.task=null}call(I,O){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kn,{},Kn,Kn)),O.pipe((0,jt.b)({next:j,complete:j,error:j})).subscribe(I).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qm=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Zs(Zone.current)),this.insideAngular=O.run(()=>new Zs(Zone.current,Vf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function As(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Al(T){return T.pipe((0,nr.QV)(As().outsideAngular))}function xs(T){return As(),function La(T){return function(O){return(O=O.lift(new Tu(T.ngZone))).pipe((0,Kd.R)(T.outsideAngular),(0,nr.QV)(T.insideAngular))}}(As())(T)}},6803:(Ke,ye,L)=>{L.d(ye,{$:()=>Ss,A:()=>yn,B:()=>br,G:()=>Es,H:()=>ll,J:()=>Ji,L:()=>Yn,M:()=>Xo,N:()=>Ia,P:()=>T,Q:()=>Xi,R:()=>Kn,T:()=>xf,U:()=>ea,V:()=>Do,W:()=>To,X:()=>wt,Y:()=>Ir,Z:()=>nc,_:()=>uu,a:()=>Pa,a0:()=>rc,a1:()=>du,a2:()=>oc,a3:()=>hu,a4:()=>fu,a5:()=>Hd,a6:()=>kf,a7:()=>cc,a8:()=>Rf,a9:()=>mu,aA:()=>Rl,aB:()=>Va,aC:()=>yc,aD:()=>Mu,aE:()=>Di,aI:()=>Ar,aL:()=>Dr,aa:()=>gu,ab:()=>Pf,ac:()=>Nf,af:()=>yl,ag:()=>Gd,ah:()=>qm,ak:()=>Vd,al:()=>Mn,an:()=>Ym,ao:()=>vu,ap:()=>ol,aq:()=>si,ar:()=>js,as:()=>Sa,at:()=>Ln,au:()=>og,av:()=>Js,aw:()=>Dn,ax:()=>Pe,ay:()=>Bn,az:()=>Sr,b:()=>Hn,c:()=>It,d:()=>ir,e:()=>ut,f:()=>Au,g:()=>KC,h:()=>Sy,i:()=>Km,j:()=>eh,k:()=>Kf,l:()=>Iu,m:()=>ky,o:()=>Zi,r:()=>Al,s:()=>Qm,u:()=>xl});var a=L(5861),G=L(2090),N=L(9681);function se(b,m){var _={};for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&m.indexOf(w)<0&&(_[w]=b[w]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(w=Object.getOwnPropertySymbols(b);A<w.length;A++)m.indexOf(w[A])<0&&Object.prototype.propertyIsEnumerable.call(b,w[A])&&(_[w[A]]=b[w[A]])}return _}var tt=L(1877),Et=L(4859);const Zi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},yn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const br=function Gt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ns=function vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Sn=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qi=new tt.Yd("@firebase/auth");function On(b,...m){Qi.logLevel<=tt.in.ERROR&&Qi.error(`Auth (${N.SDK_VERSION}): ${b}`,...m)}function Ln(b,...m){throw wr(b,...m)}function Dn(b,...m){return wr(b,...m)}function Pi(b,m,_){const w=Object.assign(Object.assign({},ns()),{[m]:_});return new G.LL("auth","Firebase",w).create(m,{appName:b.name})}function Fr(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ln(b,"argument-error"),Pi(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wr(b,...m){if("string"!=typeof b){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return Sn.create(b,...m)}function Pe(b,m,..._){if(!b)throw wr(m,..._)}function Tn(b){const m="INTERNAL ASSERTION FAILED: "+b;throw On(m),new Error(m)}function si(b,m){b||Tn(m)}const ft=new Map;function Bn(b){si(b instanceof Function,"Expected a class definition");let m=ft.get(b);return m?(si(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,ft.set(b,m),m)}function Jn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Cr(){return"http:"===Xn()||"https:"===Xn()}function Xn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class is{constructor(m,_){this.shortDelay=m,this.longDelay=_,si(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Vn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cr()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qt(b,m){si(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class lt{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cs=new is(3e4,6e4);function hn(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function ht(b,m,_,w){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,a.Z)(function*(b,m,_,w,A={}){return pi(b,A,(0,a.Z)(function*(){let R={},X={};w&&("GET"===m?X=w:R={body:JSON.stringify(w)});const pe=(0,G.xO)(Object.assign({key:b.config.apiKey},X)).slice(1),Ge=yield b._getAdditionalHeaders();return Ge["Content-Type"]="application/json",b.languageCode&&(Ge["X-Firebase-Locale"]=b.languageCode),lt.fetch()(W(b,b.config.apiHost,_,pe),Object.assign({method:m,headers:Ge,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function pi(b,m,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(b,m,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},ct),m);try{const A=new q(b),R=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const X=yield R.json();if("needConfirmation"in X)throw z(b,"account-exists-with-different-credential",X);if(R.ok&&!("errorMessage"in X))return X;{const pe=R.ok?X.errorMessage:X.error.message,[Ge,Ne]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw z(b,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ge)throw z(b,"email-already-in-use",X);if("USER_DISABLED"===Ge)throw z(b,"user-disabled",X);const mt=w[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw Pi(b,mt,Ne);Ln(b,mt)}}catch(A){if(A instanceof G.ZR)throw A;Ln(b,"network-request-failed")}})).apply(this,arguments)}function et(b,m,_,w){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(b,m,_,w,A={}){const R=yield ht(b,m,_,w,A);return"mfaPendingCredential"in R&&Ln(b,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function W(b,m,_,w){const A=`${m}${_}?${w}`;return b.config.emulator?qt(b.config,A):`${b.config.apiScheme}://${A}`}class q{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Dn(this.auth,"network-request-failed")),Cs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(b,m,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const A=Dn(b,m,w);return A.customData._tokenResponse=_,A}function K(){return(K=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ae(b,m){return je.apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function gt(b,m){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Xt(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function J(){return(J=(0,a.Z)(function*(b,m=!1){const _=(0,G.m9)(b),w=yield _.getIdToken(m),A=Ee(w);Pe(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,X=null==R?void 0:R.sign_in_provider;return{claims:A,token:w,authTime:Xt(Q(A.auth_time)),issuedAtTime:Xt(Q(A.iat)),expirationTime:Xt(Q(A.exp)),signInProvider:X||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Q(b){return 1e3*Number(b)}function Ee(b){var m;const[_,w,A]=b.split(".");if(void 0===_||void 0===w||void 0===A)return On("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,G.tV)(w);return R?JSON.parse(R):(On("Failed to decode base64 JWT payload"),null)}catch(R){return On("Caught error parsing JWT payload as JSON",null===(m=R)||void 0===m?void 0:m.toString()),null}}function Xe(b,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof G.ZR&&Yt(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Yt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Qt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,a.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(_=w)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Wn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Si(b){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(b){var m;const _=b.auth,w=yield b.getIdToken(),A=yield Xe(b,gt(_,{idToken:w}));Pe(null==A?void 0:A.users.length,_,"internal-error");const R=A.users[0];b._notifyReloadListener(R);const X=(null===(m=R.providerUserInfo)||void 0===m?void 0:m.length)?sl(R.providerUserInfo):[],pe=Fi(b.providerData,X),mt=!!b.isAnonymous&&!(b.email&&R.passwordHash||(null==pe?void 0:pe.length)),vn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:pe,metadata:new Wn(R.createdAt,R.lastLoginAt),isAnonymous:mt};Object.assign(b,vn)})).apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(b){const m=(0,G.m9)(b);yield Si(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Fi(b,m){return[...b.filter(w=>!m.some(A=>A.providerId===w.providerId)),...m]}function sl(b){return b.map(m=>{var{providerId:_}=m,w=se(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function We(){return(We=(0,a.Z)(function*(b,m){const _=yield pi(b,{},(0,a.Z)(function*(){const w=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:R}=b.config,X=W(b,A,"/v1/token",`key=${R}`),pe=yield b._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",lt.fetch()(X,{method:"POST",headers:pe,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Pe(m.idToken,"internal-error"),Pe(void 0!==m.idToken,"internal-error"),Pe(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ze(b){const m=Ee(b);return Pe(m,"internal-error"),Pe(void 0!==m.exp,"internal-error"),Pe(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,a.Z)(function*(){return Pe(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,a.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:X}=yield function Er(b,m){return We.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(A,R,Number(X))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:A,expirationTime:R}=_,X=new Rt;return w&&(Pe("string"==typeof w,"internal-error",{appName:m}),X.refreshToken=w),A&&(Pe("string"==typeof A,"internal-error",{appName:m}),X.accessToken=A),R&&(Pe("number"==typeof R,"internal-error",{appName:m}),X.expirationTime=R),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function en(b,m){Pe("string"==typeof b||void 0===b,"internal-error",{appName:m})}class oi{constructor(m){var{uid:_,auth:w,stsTokenManager:A}=m,R=se(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Wn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,a.Z)(function*(){const w=yield Xe(_,_.stsTokenManager.getToken(_.auth,m));return Pe(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function oe(b){return J.apply(this,arguments)}(this,m)}reload(){return function ur(b){return Vr.apply(this,arguments)}(this)}_assign(m){this!==m&&(Pe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new oi(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,a.Z)(function*(){let A=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),A=!0),_&&(yield Si(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,a.Z)(function*(){const _=yield m.getIdToken();return yield Xe(m,function Y(b,m){return K.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,A,R,X,pe,Ge,Ne,mt;const vn=null!==(w=_.displayName)&&void 0!==w?w:void 0,Nn=null!==(A=_.email)&&void 0!==A?A:void 0,jr=null!==(R=_.phoneNumber)&&void 0!==R?R:void 0,cs=null!==(X=_.photoURL)&&void 0!==X?X:void 0,ji=null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,Tc=null!==(Ge=_._redirectEventId)&&void 0!==Ge?Ge:void 0,oh=null!==(Ne=_.createdAt)&&void 0!==Ne?Ne:void 0,Xf=null!==(mt=_.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Ii,emailVerified:Ic,isAnonymous:Ha,providerData:ep,stsTokenManager:ah}=_;Pe(Ii&&ah,m,"internal-error");const lg=Rt.fromJSON(this.name,ah);Pe("string"==typeof Ii,m,"internal-error"),en(vn,m.name),en(Nn,m.name),Pe("boolean"==typeof Ic,m,"internal-error"),Pe("boolean"==typeof Ha,m,"internal-error"),en(jr,m.name),en(cs,m.name),en(ji,m.name),en(Tc,m.name),en(oh,m.name),en(Xf,m.name);const Fu=new oi({uid:Ii,auth:m,email:Nn,emailVerified:Ic,displayName:vn,isAnonymous:Ha,photoURL:cs,phoneNumber:jr,tenantId:ji,stsTokenManager:lg,createdAt:oh,lastLoginAt:Xf});return ep&&Array.isArray(ep)&&(Fu.providerData=ep.map(tp=>Object.assign({},tp))),Tc&&(Fu._redirectEventId=Tc),Fu}static _fromIdTokenResponse(m,_,w=!1){return(0,a.Z)(function*(){const A=new Rt;A.updateFromServerResponse(_);const R=new oi({uid:_.localId,auth:m,stsTokenManager:A,isAnonymous:w});return yield Si(R),R})()}}const Yn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,w){var A=this;return(0,a.Z)(function*(){A.storage[_]=w})()}_get(_){var w=this;return(0,a.Z)(function*(){const A=w.storage[_];return void 0===A?null:A})()}_remove(_){var w=this;return(0,a.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function Sr(b,m,_){return`firebase:${b}:${m}:${_}`}class mn{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=Sr(this.userKey,A.apiKey,R),this.fullPersistenceKey=Sr("persistence",A.apiKey,R),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?oi._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,a.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,a.Z)(function*(){if(!_.length)return new mn(Bn(Yn),m,w);const A=(yield Promise.all(_.map(function(){var Ne=(0,a.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let R=A[0]||Bn(Yn);const X=Sr(w,m.config.apiKey,m.name);let pe=null;for(const Ne of _)try{const mt=yield Ne._get(X);if(mt){const vn=oi._fromJSON(m,mt);Ne!==R&&(pe=vn),R=Ne;break}}catch(mt){}const Ge=A.filter(Ne=>Ne._shouldAllowMigration);return R._shouldAllowMigration&&Ge.length?(R=Ge[0],pe&&(yield R._set(X,pe.toJSON())),yield Promise.all(_.map(function(){var Ne=(0,a.Z)(function*(mt){if(mt!==R)try{yield mt._remove(X)}catch(vn){}});return function(mt){return Ne.apply(this,arguments)}}())),new mn(R,m,w)):new mn(R,m,w)})()}}function Zo(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Hs(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ei(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ko(m))return"Blackberry";if(mi(m))return"Webos";if(At(m))return"Safari";if((m.includes("chrome/")||Ea(m))&&!m.includes("edge/"))return"Chrome";if(Sa(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function ei(b=(0,G.z$)()){return/firefox\//i.test(b)}function At(b=(0,G.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ea(b=(0,G.z$)()){return/crios\//i.test(b)}function Hs(b=(0,G.z$)()){return/iemobile/i.test(b)}function Sa(b=(0,G.z$)()){return/android/i.test(b)}function Ko(b=(0,G.z$)()){return/blackberry/i.test(b)}function mi(b=(0,G.z$)()){return/webos/i.test(b)}function js(b=(0,G.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ol(b=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Xc(b=(0,G.z$)()){return js(b)||Sa(b)||mi(b)||Ko(b)||/windows phone/i.test(b)||Hs(b)}function Li(b,m=[]){let _;switch(b){case"Browser":_=Zo((0,G.z$)());break;case"Worker":_=`${Zo((0,G.z$)())}-${b}`;break;default:_=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${w}`}class dr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=R=>new Promise((X,pe)=>{try{X(m(R))}catch(Ge){pe(Ge)}});w.onAbort=_,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,a.Z)(function*(){var w;if(_.auth.currentUser===m)return;const A=[];try{for(const R of _.queue)yield R(m),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const X of A)try{X()}catch(pe){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class eu{constructor(m,_,w){this.app=m,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=Bn(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield mn.create(w,m),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(X){}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,a.Z)(function*(){var w;const A=yield _.assertedPersistence.getCurrentUser();let R=A,X=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const pe=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Ge=null==R?void 0:R._redirectEventId,Ne=yield _.tryRedirectSignIn(m);(!pe||pe===Ge)&&(null==Ne?void 0:Ne.user)&&(R=Ne.user,X=!0)}if(!R)return _.directlySetCurrentUser(null);if(!R._redirectEventId){if(X)try{yield _.beforeStateQueue.runMiddleware(R)}catch(pe){R=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(pe))}return R?_.reloadAndSetCurrentUserOrClear(R):_.directlySetCurrentUser(null)}return Pe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===R._redirectEventId?_.directlySetCurrentUser(R):_.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(m){var _=this;return(0,a.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(A){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,a.Z)(function*(){var w;try{yield Si(m)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ni(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,a.Z)(function*(){const w=m?(0,G.m9)(m):null;return w&&Pe(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,a.Z)(function*(){if(!w._deleted)return m&&Pe(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,a.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(Bn(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,a.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(_);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&Bn(m)||_._popupRedirectResolver;Pe(w,_,"argument-error"),_.redirectPersistenceManager=yield mn.create(_,[Bn(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,a.Z)(function*(){var w,A;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,a.Z)(function*(){if(m===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,A){if(this._deleted)return()=>{};const R="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(X,this,"internal-error"),X.then(()=>R(this.currentUser)),"function"==typeof _?m.addObserver(_,w,A):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Di(b){return(0,G.m9)(b)}class Gs{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Es(b,m,_){const w=Di(b);Pe(w._canInitEmulator,w,"emulator-config-failed"),Pe(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const A=!!(null==_?void 0:_.disableWarnings),R=Ad(m),{host:X,port:pe}=function jm(b){const m=Ad(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:Sf(w.substr(R.length+1))}}{const[R,X]=w.split(":");return{host:R,port:Sf(X)}}}(m);w.config.emulator={url:`${R}//${X}${null===pe?"":`:${pe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:pe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function rs(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ad(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Sf(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ll{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Tn("not implemented")}_getIdTokenResponse(m){return Tn("not implemented")}_linkToIdToken(m,_){return Tn("not implemented")}_getReauthenticationResolver(m){return Tn("not implemented")}}function Df(b,m){return xd.apply(this,arguments)}function xd(){return(xd=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:resetPassword",hn(b,m))})).apply(this,arguments)}function Tf(b,m){return tu.apply(this,arguments)}function tu(){return(tu=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Gm(b,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",hn(b,m))})).apply(this,arguments)}function kd(){return(kd=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithPassword",hn(b,m))})).apply(this,arguments)}function nu(b,m){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:sendOobCode",hn(b,m))})).apply(this,arguments)}function zm(b,m){return Od.apply(this,arguments)}function Od(){return(Od=(0,a.Z)(function*(b,m){return nu(b,m)})).apply(this,arguments)}function $m(b,m){return iu.apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(b,m){return nu(b,m)})).apply(this,arguments)}function ul(b,m){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,a.Z)(function*(b,m){return nu(b,m)})).apply(this,arguments)}function ru(b,m){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,a.Z)(function*(b,m){return nu(b,m)})).apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithEmailLink",hn(b,m))})).apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithEmailLink",hn(b,m))})).apply(this,arguments)}class fl extends ll{constructor(m,_,w,A=null){super("password",w),this._email=m,this._password=_,this._tenantId=A}static _fromEmailAndPassword(m,_){return new fl(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new fl(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function Da(b,m){return kd.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Qo(b,m){return dl.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ln(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return Tf(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function hl(b,m){return Jo.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:Ln(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Co(b,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithIdp",hn(b,m))})).apply(this,arguments)}class Ji extends ll{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Ji(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ln("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A}=_,R=se(_,["providerId","signInMethod"]);if(!w||!A)return null;const X=new Ji(w,A);return X.idToken=R.idToken||void 0,X.accessToken=R.accessToken||void 0,X.secret=R.secret,X.nonce=R.nonce,X.pendingToken=R.pendingToken||null,X}_getIdTokenResponse(m){return Co(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Co(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Co(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,G.xO)(_)}return m}}function ss(b,m){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:sendVerificationCode",hn(b,m))})).apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithPhoneNumber",hn(b,m))})).apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(b,m){const _=yield et(b,"POST","/v1/accounts:signInWithPhoneNumber",hn(b,m));if(_.temporaryProof)throw z(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ld={USER_NOT_FOUND:"user-not-found"};function pl(){return(pl=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithPhoneNumber",hn(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ld)})).apply(this,arguments)}class Eo extends ll{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Eo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Eo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function fr(b,m){return Ta.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function If(b,m){return Jl.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Mf(b,m){return pl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:A}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:R}=m;return w||_||A||R?new Eo({verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class gn{constructor(m){var _,w,A,R,X,pe;const Ge=(0,G.zd)((0,G.pd)(m)),Ne=null!==(_=Ge.apiKey)&&void 0!==_?_:null,mt=null!==(w=Ge.oobCode)&&void 0!==w?w:null,vn=function zs(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ge.mode)&&void 0!==A?A:null);Pe(Ne&&mt&&vn,"argument-error"),this.apiKey=Ne,this.operation=vn,this.code=mt,this.continueUrl=null!==(R=Ge.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(X=Ge.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=Ge.tenantId)&&void 0!==pe?pe:null}static parseLink(m){const _=function Af(b){const m=(0,G.zd)((0,G.pd)(b)).link,_=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,w=(0,G.zd)((0,G.pd)(b)).deep_link_id;return(w?(0,G.zd)((0,G.pd)(w)).link:null)||w||_||m||b}(m);try{return new gn(_)}catch(w){return null}}}let Xo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return fl._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const A=gn.parseLink(w);return Pe(A,"argument-error"),fl._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Jt{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class So extends Jt{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ea extends So{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Pe("providerId"in _&&"signInMethod"in _,"argument-error"),Ji._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Pe(m.idToken||m.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ea.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ea.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:X,providerId:pe}=m;if(!w&&!A&&!_&&!R||!pe)return null;try{return new ea(pe)._credential({idToken:_,accessToken:w,nonce:X,pendingToken:R})}catch(Ge){return null}}}let Ia=(()=>{class b extends So{constructor(){super("facebook.com")}static credential(_){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Xi=(()=>{class b extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:A}=_;if(!w&&!A)return null;try{return b.credential(w,A)}catch(R){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),xf=(()=>{class b extends So{constructor(){super("github.com")}static credential(_){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Dr extends ll{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Co(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Co(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Co(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A,pendingToken:R}=_;return w&&A&&R&&w===A?new Dr(w,R):null}static _create(m,_){return new Dr(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Do extends Jt{constructor(m){Pe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Do.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Do.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Dr.fromJSON(m);return Pe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return Dr._create(w,_)}catch(A){return null}}}let To=(()=>{class b extends So{constructor(){super("twitter.com")}static credential(_,w){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=_;if(!w||!A)return null;try{return b.credential(w,A)}catch(R){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Xl(b,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signUp",hn(b,m))})).apply(this,arguments)}class li{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,A=!1){return(0,a.Z)(function*(){const R=yield oi._fromIdTokenResponse(m,w,A),X=ta(w);return new li({user:R,providerId:X,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const A=ta(w);return new li({user:m,providerId:A,_tokenResponse:w,operationType:_})})()}}function ta(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function wt(b){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(b){var m;const _=Di(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new li({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Xl(_,{returnSecureToken:!0}),A=yield li._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class ec extends G.ZR{constructor(m,_,w,A){var R;super(_.code,_.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:m.name,tenantId:null!==(R=m.tenantId)&&void 0!==R?R:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,A){return new ec(m,_,w,A)}}function ou(b,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ec._fromErrorAndOperation(b,R,m,w):R})}function tc(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Vd(b,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(b,m){const _=(0,G.m9)(b);yield De(!0,_,m);const{providerUserInfo:w}=yield Ae(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),A=tc(w||[]);return _.providerData=_.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function au(b,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(b,m,_=!1){const w=yield Xe(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return li._forOperation(b,"link",w)})).apply(this,arguments)}function De(b,m,_){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(b,m,_){yield Si(m);const A=!1===b?"provider-already-linked":"no-such-provider";Pe(tc(m.providerData).has(_)===b,m.auth,A)})).apply(this,arguments)}function Aa(b,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(b,m,_=!1){var w;const{auth:A}=b,R="reauthenticate";try{const X=yield Xe(b,ou(A,R,m,b),_);Pe(X.idToken,A,"internal-error");const pe=Ee(X.idToken);Pe(pe,A,"internal-error");const{sub:Ge}=pe;return Pe(b.uid===Ge,A,"user-mismatch"),li._forOperation(b,R,X)}catch(X){throw"auth/user-not-found"===(null===(w=X)||void 0===w?void 0:w.code)&&Ln(A,"user-mismatch"),X}})).apply(this,arguments)}function lu(b,m){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(b,m,_=!1){const w="signIn",A=yield ou(b,w,m),R=yield li._fromIdTokenResponse(b,w,A);return _||(yield b._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ir(b,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(b,m){return lu(Di(b),m)})).apply(this,arguments)}function nc(b,m){return cu.apply(this,arguments)}function cu(){return(cu=(0,a.Z)(function*(b,m){const _=(0,G.m9)(b);return yield De(!1,_,m.providerId),au(_,m)})).apply(this,arguments)}function uu(b,m){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,a.Z)(function*(b,m){return Aa((0,G.m9)(b),m)})).apply(this,arguments)}function ia(b,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(b,m){return et(b,"POST","/v1/accounts:signInWithCustomToken",hn(b,m))})).apply(this,arguments)}function Ss(b,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(b,m){const _=Di(b),w=yield ia(_,{token:m,returnSecureToken:!0}),A=yield li._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class qs{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Mr._fromServerResponse(m,_):Ln(m,"internal-error")}}class Mr extends qs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Mr(_)}}function ic(b,m,_){var w;Pe((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Pe(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Pe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Pe(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function rc(b,m,_){return sc.apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b),A={requestType:"PASSWORD_RESET",email:m};_&&ic(w,A,_),yield $m(w,A)})).apply(this,arguments)}function du(b,m,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(b,m,_){yield Df((0,G.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function oc(b,m){return ac.apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(b,m){yield Gm((0,G.m9)(b),{oobCode:m})})).apply(this,arguments)}function hu(b,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.Z)(function*(b,m){const _=(0,G.m9)(b),w=yield Df(_,{oobCode:m}),A=w.requestType;switch(Pe(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(w.mfaInfo,_,"internal-error");default:Pe(w.email,_,"internal-error")}let R=null;return w.mfaInfo&&(R=qs._fromServerResponse(Di(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function fu(b,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(b,m){const{data:_}=yield hu((0,G.m9)(b),m);return _.email})).apply(this,arguments)}function Hd(b,m,_){return pu.apply(this,arguments)}function pu(){return(pu=(0,a.Z)(function*(b,m,_){const w=Di(b),A=yield Xl(w,{returnSecureToken:!0,email:m,password:_}),R=yield li._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function kf(b,m,_){return Ir((0,G.m9)(b),Xo.credential(m,_))}function cc(b,m,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b),A={requestType:"EMAIL_SIGNIN",email:m};Pe(_.handleCodeInApp,w,"argument-error"),_&&ic(w,A,_),yield ul(w,A)})).apply(this,arguments)}function Rf(b,m){const _=gn.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function mu(b,m,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b),A=Xo.credentialWithLink(m,_||Jn());return Pe(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ir(w,A)})).apply(this,arguments)}function Mo(b,m){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:createAuthUri",hn(b,m))})).apply(this,arguments)}function gu(b,m){return Of.apply(this,arguments)}function Of(){return(Of=(0,a.Z)(function*(b,m){const w={identifier:m,continueUri:Cr()?Jn():"http://localhost"},{signinMethods:A}=yield Mo((0,G.m9)(b),w);return A||[]})).apply(this,arguments)}function Pf(b,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(b,m){const _=(0,G.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&ic(_.auth,A,m);const{email:R}=yield zm(_.auth,A);R!==b.email&&(yield b.reload())})).apply(this,arguments)}function Nf(b,m,_){return jd.apply(this,arguments)}function jd(){return(jd=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&ic(w.auth,R,_);const{email:X}=yield ru(w.auth,R);X!==b.email&&(yield b.reload())})).apply(this,arguments)}function _u(b,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function yl(b,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,G.m9)(b),R={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},X=yield Xe(w,_u(w.auth,R));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const pe=w.providerData.find(({providerId:Ge})=>"password"===Ge);pe&&(pe.displayName=w.displayName,pe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)})).apply(this,arguments)}function Gd(b,m){return Ao((0,G.m9)(b),m,null)}function qm(b,m){return Ao((0,G.m9)(b),null,m)}function Ao(b,m,_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(b,m,_){const{auth:w}=b,R={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(R.email=m),_&&(R.password=_);const X=yield Xe(b,Tf(w,R));yield b._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Ws{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class xo extends Ws{constructor(m,_,w,A){super(m,_,w),this.username=A}}class uc extends Ws{constructor(m,_){super(m,"facebook.com",_)}}class Wm extends xo{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class nt extends Ws{constructor(m,_){super(m,"google.com",_)}}class gi extends xo{constructor(m,_,w){super(m,"twitter.com",_,w)}}function Mn(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function zd(b){var m,_;if(!b)return null;const{providerId:w}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},R=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const X=null===(_=null===(m=Ee(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Ws(R,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new uc(R,A);case"github.com":return new Wm(R,A);case"google.com":return new nt(R,A);case"twitter.com":return new gi(R,A,b.screenName||null);case"custom":case"anonymous":return new Ws(R,null);default:return new Ws(R,w,A)}}(_)}class Ds{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Ds("enroll",m)}static _fromMfaPendingCredential(m){return new Ds("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ds._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(w=m.multiFactorSession)||void 0===w?void 0:w.idToken)return Ds._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Oo{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=Di(m),A=_.customData._serverResponse,R=(A.mfaInfo||[]).map(pe=>qs._fromServerResponse(w,pe));Pe(A.mfaPendingCredential,w,"internal-error");const X=Ds._fromMfaPendingCredential(A.mfaPendingCredential);return new Oo(X,R,function(){var pe=(0,a.Z)(function*(Ge){const Ne=yield Ge._process(w,X);delete A.mfaInfo,delete A.mfaPendingCredential;const mt=Object.assign(Object.assign({},A),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(_.operationType){case"signIn":const vn=yield li._fromIdTokenResponse(w,_.operationType,mt);return yield w._updateCurrentUser(vn.user),vn;case"reauthenticate":return Pe(_.user,w,"internal-error"),li._forOperation(_.user,_.operationType,mt);default:Ln(w,"internal-error")}});return function(Ge){return pe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,a.Z)(function*(){return _.signInResolver(m)})()}}function Ym(b,m){var _;const w=(0,G.m9)(b),A=m;return Pe(m.customData.operationType,w,"argument-error"),Pe(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Oo._fromError(w,A)}function $d(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:start",hn(b,m))}class Ts{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>qs._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new Ts(m)}getSession(){var m=this;return(0,a.Z)(function*(){return Ds._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var w=this;return(0,a.Z)(function*(){const A=m,R=yield w.getSession(),X=yield Xe(w.user,A._process(w.user.auth,R,_));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(m){var _=this;return(0,a.Z)(function*(){var w;const A="string"==typeof m?m:m.uid,R=yield _.user.getIdToken(),X=yield Xe(_.user,function hc(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(b,m))}(_.user.auth,{idToken:R,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:pe})=>pe!==A),yield _.user._updateTokensIfNecessary(X);try{yield _.user.reload()}catch(pe){if("auth/user-token-expired"!==(null===(w=pe)||void 0===w?void 0:w.code))throw pe}})()}}const Po=new WeakMap;function vu(b){const m=(0,G.m9)(b);return Po.has(m)||Po.set(m,Ts._fromUser(m)),Po.get(m)}const No="__sak";class Oa{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hn=(()=>{class b extends Oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sa(){const b=(0,G.z$)();return At(b)||js(b)}()&&function al(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Xc(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&_(w,R,A)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((pe,Ge,Ne)=>{this.notifyListeners(pe,Ne)});const A=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(A);if(_.newValue!==pe)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!w)return}const R=()=>{const pe=this.storage.getItem(A);!w&&this.localCache[A]===pe||this.notifyListeners(A,pe)},X=this.storage.getItem(A);!function In(){return(0,G.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?R():setTimeout(R,10)}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var A=()=>super._set,R=this;return(0,a.Z)(function*(){yield A().call(R,_,w),R.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,A=this;return(0,a.Z)(function*(){const R=yield w().call(A,_);return A.localCache[_]=JSON.stringify(R),R})()}_remove(_){var w=()=>super._remove,A=this;return(0,a.Z)(function*(){yield w().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),Pa=(()=>{class b extends Oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Cl=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(R=>R.isListeningto(_));if(w)return w;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,a.Z)(function*(){const A=_,{eventId:R,eventType:X,data:pe}=A.data,Ge=w.handlersMap[X];if(!(null==Ge?void 0:Ge.size))return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:X});const Ne=Array.from(Ge).map(function(){var vn=(0,a.Z)(function*(Nn){return Nn(A.origin,pe)});return function(Nn){return vn.apply(this,arguments)}}()),mt=yield function wl(b){return Promise.all(b.map(function(){var m=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(Ne);A.ports[0].postMessage({status:"done",eventId:R,eventType:X,response:mt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ar(b="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return b+_}class El{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var A=this;return(0,a.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let X,pe;return new Promise((Ge,Ne)=>{const mt=Ar("",20);R.port1.start();const vn=setTimeout(()=>{Ne(new Error("unsupported_event"))},w);pe={messageChannel:R,onMessage(Nn){const jr=Nn;if(jr.data.eventId===mt)switch(jr.data.status){case"ack":clearTimeout(vn),X=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ge(jr.data.response);break;default:clearTimeout(vn),clearTimeout(X),Ne(new Error("invalid_response"))}}},A.handlers.add(pe),R.port1.addEventListener("message",pe.onMessage),A.target.postMessage({eventType:m,eventId:mt,data:_},[R.port2])}).finally(()=>{pe&&A.removeMessageHandler(pe)})})()}}function Gn(){return window}function Vi(){return void 0!==Gn().WorkerGlobalScope&&"function"==typeof Gn().importScripts}function Sl(){return(Sl=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const oa="firebaseLocalStorageDb",Fa="firebaseLocalStorage",Yd="fbase_key";class Is{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function wu(b,m){return b.transaction([Fa],m?"readwrite":"readonly").objectStore(Fa)}function An(){const b=indexedDB.open(oa,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Fa,{keyPath:Yd})}catch(A){_(A)}}),b.addEventListener("success",(0,a.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Fa)?m(w):(w.close(),yield function Bf(){const b=indexedDB.deleteDatabase(oa);return new Is(b).toPromise()}(),m(yield An()))}))})}function pc(b,m,_){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(b,m,_){const w=wu(b,!0).put({[Yd]:m,value:_});return new Is(w).toPromise()})).apply(this,arguments)}function Cu(){return(Cu=(0,a.Z)(function*(b,m){const _=wu(b,!1).get(m),w=yield new Is(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Zm(b,m){const _=wu(b,!0).delete(m);return new Is(_).toPromise()}const Km=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield An()),_.db})()}_withRetries(_){var w=this;return(0,a.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield _(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return Vi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=Cl._getInstance(function Na(){return Vi()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(A,R){return{keyProcessed:(yield _._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var w,A;if(_.activeServiceWorker=yield function Wd(){return Sl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new El(_.activeServiceWorker);const R=yield _.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Dl(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield An();return yield pc(_,No,"1"),yield Zm(_,No),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(R=>pc(R,_,w)),A.localCache[_]=w,A.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,a.Z)(function*(){const A=yield w._withRetries(R=>function Ey(b,m){return Cu.apply(this,arguments)}(R,_));return w.localCache[_]=A,A})()}_remove(_){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(A=>Zm(A,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const w=yield _._withRetries(X=>{const pe=wu(X,!1).getAll();return new Is(pe).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:X,value:pe}of w)R.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(pe)&&(_.notifyListeners(X,pe),A.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!R.has(X)&&(_.notifyListeners(X,null),A.push(X));return A})()}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const R of Array.from(A))R(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ui(b,m){return ht(b,"POST","/v2/accounts/mfaSignIn:start",hn(b,m))}function Zd(){return(Zd=(0,a.Z)(function*(b){return(yield ht(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jt(b){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=A=>{const R=Dn("internal-error");R.customData=A,_(R)},w.type="text/javascript",w.charset="UTF-8",function Vf(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function nr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const kr=1e12;class Ml{constructor(m){this.auth=m,this.counter=kr,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new Ys(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||kr;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||kr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,a.Z)(function*(){var w;return null===(w=_._widgets.get(m||kr))||void 0===w||w.execute(),""})()}}class Ys{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;Pe(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rr(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gc=nr("rcb"),Su=new is(3e4,6e4);class Ur{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(m=Gn().grecaptcha)||void 0===m?void 0:m.render)}load(m,_=""){return Pe(function Qd(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Gn().grecaptcha):new Promise((w,A)=>{const R=Gn().setTimeout(()=>{A(Dn(m,"network-request-failed"))},Su.get());Gn()[gc]=()=>{Gn().clearTimeout(R),delete Gn()[gc];const pe=Gn().grecaptcha;if(!pe)return void A(Dn(m,"internal-error"));const Ge=pe.render;pe.render=(Ne,mt)=>{const vn=Ge(Ne,mt);return this.counter++,vn},this.hostLanguage=_,w(pe)},jt(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:gc,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(R),A(Dn(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!!(null===(_=Gn().grecaptcha)||void 0===_?void 0:_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ms{load(m){return(0,a.Z)(function*(){return new Ml(m)})()}clearedOneInstance(){}}const Fo="recaptcha",Du={theme:"light",type:"image"};class Kn{constructor(m,_=Object.assign({},Du),w){this.parameters=_,this.type=Fo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Di(w),this.isInvisible="invisible"===this.parameters.size,Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;Pe(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ms:new Ur,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(R=>{const X=pe=>{!pe||(m.tokenChangeListeners.delete(X),R(pe))};m.tokenChangeListeners.add(X),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=Gn()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){Pe(Cr()&&!Vi(),m.auth,"internal-error"),yield function Zs(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Ui(b){return Zd.apply(this,arguments)}(m.auth);Pe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tu{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Eo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Qm(b,m,_){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(b,m,_){const w=Di(b),A=yield xs(w,m,(0,G.m9)(_));return new Tu(A,R=>Ir(w,R))})).apply(this,arguments)}function Iu(b,m,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b);yield De(!1,w,"phone");const A=yield xs(w.auth,m,(0,G.m9)(_));return new Tu(A,R=>nc(w,R))})).apply(this,arguments)}function Al(b,m,_){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b),A=yield xs(w.auth,m,(0,G.m9)(_));return new Tu(A,R=>uu(w,R))})).apply(this,arguments)}function xs(b,m,_){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(b,m,_){var w;const A=yield _.verify();try{let R;if(Pe("string"==typeof A,b,"argument-error"),Pe(_.type===Fo,b,"argument-error"),R="string"==typeof m?{phoneNumber:m}:m,"session"in R){const X=R.session;if("phoneNumber"in R)return Pe("enroll"===X.type,b,"internal-error"),(yield $d(b,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Pe("signin"===X.type,b,"internal-error");const pe=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return Pe(pe,b,"missing-multi-factor-info"),(yield ui(b,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ss(b,{phoneNumber:R.phoneNumber,recaptchaToken:A});return X}}finally{_._reset()}})).apply(this,arguments)}function xl(b,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(b,m){yield au((0,G.m9)(b),m)})).apply(this,arguments)}let T=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Di(_)}verifyPhoneNumber(_,w){return xs(this.auth,_,(0,G.m9)(w))}static credential(_,w){return Eo._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:A}=_;return w&&A?Eo._fromTokenResponse(w,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function I(b,m){return m?Bn(m):(Pe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class O extends ll{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Co(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Co(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Co(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function j(b){return lu(b.auth,new O(b),b.bypassAuthState)}function ne(b){const{auth:m,user:_}=b;return Pe(_,m,"internal-error"),Aa(_,new O(b),b.bypassAuthState)}function he(b){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(b){const{auth:m,user:_}=b;return Pe(_,m,"internal-error"),au(_,new O(b),b.bypassAuthState)})).apply(this,arguments)}class Re{constructor(m,_,w,A,R=!1){this.auth=m,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,a.Z)(function*(w,A){m.pendingPromise={resolve:w,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(R){m.reject(R)}});return function(w,A){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:X,error:pe,type:Ge}=m;if(pe)return void _.reject(pe);const Ne={auth:_.auth,requestUri:w,sessionId:A,tenantId:X||void 0,postBody:R||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ge)(Ne))}catch(mt){_.reject(mt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return j;case"linkViaPopup":case"linkViaRedirect":return he;case"reauthViaPopup":case"reauthViaRedirect":return ne;default:Ln(this.auth,"internal-error")}}resolve(m){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pt=new is(2e3,1e4);function It(b,m,_){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(b,m,_){const w=Di(b);Fr(b,m,Jt);const A=I(w,_);return new os(w,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function ut(b,m,_){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b);Fr(w.auth,m,Jt);const A=I(w.auth,_);return new os(w.auth,"reauthViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}function ir(b,m,_){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b);Fr(w.auth,m,Jt);const A=I(w.auth,_);return new os(w.auth,"linkViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}let os=(()=>{class b extends Re{constructor(_,w,A,R,X){super(_,w,R,X),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const w=yield _.execute();return Pe(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,a.Z)(function*(){si(1===_.filter.length,"Popup operations only handle one event");const w=Ar();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(Dn(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,pt.get())};_()}}return b.currentPopupAction=null,b})();const aa=new Map;class Hi extends Re{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,a.Z)(function*(){let w=aa.get(_.auth._key());if(!w){try{const R=(yield function hi(b,m){return ls.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}aa.set(_.auth._key(),w)}return _.bypassAuthState||aa.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const A=yield w.auth._redirectUserForId(m.eventId);if(A)return w.user=A,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ls(){return(ls=(0,a.Z)(function*(b,m){const _=Lo(m),w=Xd(b);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(_));return yield w._remove(_),A})).apply(this,arguments)}function Qs(b,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(b,m){return Xd(b)._set(Lo(m),"true")})).apply(this,arguments)}function Mu(){aa.clear()}function yc(b,m){aa.set(b._key(),m)}function Xd(b){return Bn(b._redirectPersistence)}function Lo(b){return Sr("pendingRedirect",b.config.apiKey,b.name)}function Au(b,m,_){return function Uf(b,m,_){return Jm.apply(this,arguments)}(b,m,_)}function Jm(){return(Jm=(0,a.Z)(function*(b,m,_){const w=Di(b);Fr(b,m,Jt);const A=I(w,_);return yield Qs(A,w),A._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Sy(b,m,_){return function ZC(b,m,_){return Dy.apply(this,arguments)}(b,m,_)}function Dy(){return(Dy=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b);Fr(w.auth,m,Jt);const A=I(w.auth,_);yield Qs(A,w.auth);const R=yield eg(w);return A._openRedirect(w.auth,m,"reauthViaRedirect",R)})).apply(this,arguments)}function KC(b,m,_){return function QC(b,m,_){return Xm.apply(this,arguments)}(b,m,_)}function Xm(){return(Xm=(0,a.Z)(function*(b,m,_){const w=(0,G.m9)(b);Fr(w.auth,m,Jt);const A=I(w.auth,_);yield De(!1,w,m.providerId),yield Qs(A,w.auth);const R=yield eg(w);return A._openRedirect(w.auth,m,"linkViaRedirect",R)})).apply(this,arguments)}function eh(b,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,a.Z)(function*(b,m){return yield Di(b)._initializationPromise,Va(b,m,!1)})).apply(this,arguments)}function Va(b,m){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,a.Z)(function*(b,m,_=!1){const w=Di(b),A=I(w,m),X=yield new Hi(w,A,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,m)),X})).apply(this,arguments)}function eg(b){return xu.apply(this,arguments)}function xu(){return(xu=(0,a.Z)(function*(b){const m=Ar(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Rl{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function th(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jf(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!jf(m)){const A=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Dn(this.auth,A))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bc(m))}saveEventToCache(m){this.cachedEventUids.add(bc(m)),this.lastProcessedEventTime=Date.now()}}function bc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function jf({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Js(b){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,a.Z)(function*(b,m={}){return ht(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Ty=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tg=/^https?/;function nh(){return(nh=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Js(b);for(const _ of m)try{if(la(_))return}catch(w){}Ln(b,"unauthorized-domain")})).apply(this,arguments)}function la(b){const m=Jn(),{protocol:_,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const X=new URL(b);return""===X.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===w}if(!tg.test(_))return!1;if(Ty.test(b))return w===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const ku=new is(3e4,6e4);function zf(){const b=Gn().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let $f=null;function qf(b){return $f=$f||function ng(b){return new Promise((m,_)=>{var w,A,R;function X(){zf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{zf(),_(Dn(b,"network-request-failed"))},timeout:ku.get()})}if(null===(A=null===(w=Gn().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)m(gapi.iframes.getContext());else{if(!(null===(R=Gn().gapi)||void 0===R?void 0:R.load)){const pe=nr("iframefcb");return Gn()[pe]=()=>{gapi.load?X():_(Dn(b,"network-request-failed"))},jt(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ge=>_(Ge))}X()}}).catch(m=>{throw $f=null,m})}(b),$f}const My=new is(5e3,15e3),Wf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yf(b){const m=b.config;Pe(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?qt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:b.name,v:N.SDK_VERSION},A=JC.get(b.config.apiHost);A&&(w.eid=A);const R=b._getFrameworks();return R.length&&(w.fw=R.join(",")),`${_}?${(0,G.xO)(w).slice(1)}`}function Ou(){return Ou=(0,a.Z)(function*(b){const m=yield qf(b),_=Gn().gapi;return Pe(_,b,"internal-error"),m.open({where:document.body,url:Yf(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wf,dontclear:!0},w=>new Promise(function(){var A=(0,a.Z)(function*(R,X){yield w.restyle({setHideOnLeave:!1});const pe=Dn(b,"network-request-failed"),Ge=Gn().setTimeout(()=>{X(pe)},My.get());function Ne(){Gn().clearTimeout(Ge),R(w)}w.ping(Ne).then(Ne,()=>{X(pe)})});return function(R,X){return A.apply(this,arguments)}}()))}),Ou.apply(this,arguments)}const wc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function og(b,m,_,w,A,R){Pe(b.config.authDomain,b,"auth-domain-config-required"),Pe(b.config.apiKey,b,"invalid-api-key");const X={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:N.SDK_VERSION,eventId:A};if(m instanceof Jt){m.setDefaultLanguage(b.languageCode),X.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(X.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Ge,Ne]of Object.entries(R||{}))X[Ge]=Ne}if(m instanceof So){const Ge=m.getScopes().filter(Ne=>""!==Ne);Ge.length>0&&(X.scopes=Ge.join(","))}b.tenantId&&(X.tid=b.tenantId);const pe=X;for(const Ge of Object.keys(pe))void 0===pe[Ge]&&delete pe[Ge];return`${function rh({config:b}){return b.emulator?qt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,G.xO)(pe).slice(1)}`}const Ec="webStorageSupport",Kf=class sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pa,this._completeRedirectFn=Va,this._overrideRedirectResult=yc}_openPopup(m,_,w,A){var R=this;return(0,a.Z)(function*(){var X;si(null===(X=R.eventManagers[m._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=og(m,_,w,Jn(),A);return function Zf(b,m,_,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let pe="";const Ge=Object.assign(Object.assign({},wc),{width:w.toString(),height:A.toString(),top:R,left:X}),Ne=(0,G.z$)().toLowerCase();_&&(pe=Ea(Ne)?"_blank":_),ei(Ne)&&(m=m||"http://localhost",Ge.scrollbars="yes");const mt=Object.entries(Ge).reduce((Nn,[jr,cs])=>`${Nn}${jr}=${cs},`,"");if(function Un(b=(0,G.z$)()){var m;return js(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ne)&&"_self"!==pe)return function Nu(b,m){const _=document.createElement("a");_.href=b,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",pe),new Pu(null);const vn=window.open(m||"",pe,mt);Pe(vn,b,"popup-blocked");try{vn.focus()}catch(Nn){}return new Pu(vn)}(m,pe,Ar())})()}_openRedirect(m,_,w,A){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(m),function bu(b){Gn().location.href=b}(og(m,_,w,Jn(),A)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:A,promise:R}=this.eventManagers[_];return A?Promise.resolve(A):(si(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,a.Z)(function*(){const w=yield function Ru(b){return Ou.apply(this,arguments)}(m),A=new Rl(m);return w.register("authEvent",R=>(Pe(null==R?void 0:R.authEvent,m,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:A},_.iframes[m._key()]=w,A})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Ec,{type:Ec},A=>{var R;const X=null===(R=null==A?void 0:A[0])||void 0===R?void 0:R[Ec];void 0!==X&&_(!!X),Ln(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Iy(b){return nh.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Xc()||At()||js()}};class Sc extends class xy{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return Tn("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Sc(m)}_finalizeEnroll(m,_,w){return function yu(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:finalize",hn(b,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Eu(b,m){return ht(b,"POST","/v2/accounts/mfaSignIn:finalize",hn(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ky=(()=>{class b{constructor(){}static assertion(_){return Sc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var ag="@firebase/auth";class ua{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{var A;m((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Jf(b){(0,N._registerComponent)(new Et.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),{apiKey:R,authDomain:X}=w.options;return((pe,Ge)=>{Pe(R&&!R.includes(":"),"invalid-api-key",{appName:pe.name}),Pe(!(null==X?void 0:X.includes(":")),"argument-error",{appName:pe.name});const Ne={apiKey:R,authDomain:X,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Li(b)},mt=new eu(pe,Ge,Ne);return function dn(b,m){const _=(null==m?void 0:m.persistence)||[],w=(Array.isArray(_)?_:[_]).map(Bn);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,null==m?void 0:m.popupRedirectResolver)}(mt,_),mt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Et.wA("auth-internal",m=>{const _=Di(m.getProvider("auth").getImmediate());return new ua(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(ag,"0.20.5",function Qf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(ag,"0.20.5","esm2017")}("Browser")},2090:(Ke,ye,L)=>{L.d(ye,{$s:()=>pi,BH:()=>le,DV:()=>Qi,Dv:()=>Cr,G6:()=>vt,GJ:()=>Sn,L:()=>re,LL:()=>qe,Mn:()=>Nt,Pz:()=>yn,Sg:()=>_e,UG:()=>ve,UI:()=>Ln,US:()=>te,Wj:()=>Ni,Yr:()=>Fn,ZB:()=>$,ZR:()=>Et,b$:()=>st,cI:()=>ws,d:()=>Ht,dS:()=>qt,eu:()=>Me,g5:()=>N,gK:()=>Xn,gQ:()=>si,h$:()=>se,hl:()=>Oe,hu:()=>G,jU:()=>Se,lb:()=>is,m9:()=>cr,ne:()=>ft,p$:()=>V,pd:()=>Tn,r3:()=>Ki,ru:()=>Be,tV:()=>ie,uI:()=>be,ug:()=>lt,vZ:()=>Dn,w1:()=>un,w9:()=>ns,xO:()=>wr,xb:()=>On,z$:()=>ge,zI:()=>Ze,zd:()=>Pe});const G=function(W,q){if(!W)throw N(q)},N=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},ce=function(W){const q=[];let z=0;for(let Y=0;Y<W.length;Y++){let K=W.charCodeAt(Y);K<128?q[z++]=K:K<2048?(q[z++]=K>>6|192,q[z++]=63&K|128):55296==(64512&K)&&Y+1<W.length&&56320==(64512&W.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&W.charCodeAt(++Y)),q[z++]=K>>18|240,q[z++]=K>>12&63|128,q[z++]=K>>6&63|128,q[z++]=63&K|128):(q[z++]=K>>12|224,q[z++]=K>>6&63|128,q[z++]=63&K|128)}return q},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,q){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<W.length;K+=3){const Ae=W[K],je=K+1<W.length,gt=je?W[K+1]:0,on=K+2<W.length,Xt=on?W[K+2]:0;let J=(15&gt)<<2|Xt>>6,Q=63&Xt;on||(Q=64,je||(J=64)),Y.push(z[Ae>>2],z[(3&Ae)<<4|gt>>4],z[J],z[Q])}return Y.join("")},encodeString(W,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(W):this.encodeByteArray(ce(W),q)},decodeString(W,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(W):function(W){const q=[];let z=0,Y=0;for(;z<W.length;){const K=W[z++];if(K<128)q[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const Ae=W[z++];q[Y++]=String.fromCharCode((31&K)<<6|63&Ae)}else if(K>239&&K<365){const on=((7&K)<<18|(63&W[z++])<<12|(63&W[z++])<<6|63&W[z++])-65536;q[Y++]=String.fromCharCode(55296+(on>>10)),q[Y++]=String.fromCharCode(56320+(1023&on))}else{const Ae=W[z++],je=W[z++];q[Y++]=String.fromCharCode((15&K)<<12|(63&Ae)<<6|63&je)}}return q.join("")}(this.decodeStringToByteArray(W,q))},decodeStringToByteArray(W,q){this.init_();const z=q?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<W.length;){const Ae=z[W.charAt(K++)],gt=K<W.length?z[W.charAt(K)]:0;++K;const Xt=K<W.length?z[W.charAt(K)]:64;++K;const oe=K<W.length?z[W.charAt(K)]:64;if(++K,null==Ae||null==gt||null==Xt||null==oe)throw Error();Y.push(Ae<<2|gt>>4),64!==Xt&&(Y.push(gt<<4&240|Xt>>2),64!==oe&&Y.push(Xt<<6&192|oe))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},se=function(W){const q=ce(W);return te.encodeByteArray(q,!0)},re=function(W){return se(W).replace(/\./g,"")},ie=function(W){try{return te.decodeString(W,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function V(W){return $(void 0,W)}function $(W,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return q}for(const z in q)!q.hasOwnProperty(z)||!H(z)||(W[z]=$(W[z],q[z]));return W}function H(W){return"__proto__"!==W}class le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,z)=>{this.resolve=q,this.reject=z})}wrapCallback(q){return(z,Y)=>{z?this.reject(z):this.resolve(Y),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(z):q(z,Y))}}}function _e(W,q){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=q||"demo-project",K=W.iat||0,Ae=W.sub||W.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},W);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(je)),""].join(".")}function ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Be(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ht(){return ge().indexOf("Electron/")>=0}function un(){const W=ge();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Nt(){return ge().indexOf("MSAppHost/")>=0}function Fn(){return!1}function vt(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){return"object"==typeof indexedDB}function Me(){return new Promise((W,q)=>{try{let z=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),z||self.indexedDB.deleteDatabase(Y),W(!0)},K.onupgradeneeded=()=>{z=!1},K.onerror=()=>{var Ae;q((null===(Ae=K.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(z){q(z)}})}function Ze(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Et extends Error{constructor(q,z,Y){super(z),this.code=q,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(q,z,Y){this.service=q,this.serviceName=z,this.errors=Y}create(q,...z){const Y=z[0]||{},K=`${this.service}/${q}`,Ae=this.errors[q],je=Ae?function Zi(W,q){return W.replace(Oi,(z,Y)=>{const K=q[Y];return null!=K?String(K):`<${Y}?>`})}(Ae,Y):"Error";return new Et(K,`${this.serviceName}: ${je} (${K}).`,Y)}}const Oi=/\{\$([^}]+)}/g;function ws(W){return JSON.parse(W)}function yn(W){return JSON.stringify(W)}const Gt=function(W){let q={},z={},Y={},K="";try{const Ae=W.split(".");q=ws(ie(Ae[0])||""),z=ws(ie(Ae[1])||""),K=Ae[2],Y=z.d||{},delete z.d}catch(Ae){}return{header:q,claims:z,data:Y,signature:K}},ns=function(W){const z=Gt(W).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},Sn=function(W){const q=Gt(W).claims;return"object"==typeof q&&!0===q.admin};function Ki(W,q){return Object.prototype.hasOwnProperty.call(W,q)}function Qi(W,q){if(Object.prototype.hasOwnProperty.call(W,q))return W[q]}function On(W){for(const q in W)if(Object.prototype.hasOwnProperty.call(W,q))return!1;return!0}function Ln(W,q,z){const Y={};for(const K in W)Object.prototype.hasOwnProperty.call(W,K)&&(Y[K]=q.call(z,W[K],K,W));return Y}function Dn(W,q){if(W===q)return!0;const z=Object.keys(W),Y=Object.keys(q);for(const K of z){if(!Y.includes(K))return!1;const Ae=W[K],je=q[K];if(Pi(Ae)&&Pi(je)){if(!Dn(Ae,je))return!1}else if(Ae!==je)return!1}for(const K of Y)if(!z.includes(K))return!1;return!0}function Pi(W){return null!==W&&"object"==typeof W}function wr(W){const q=[];for(const[z,Y]of Object.entries(W))Array.isArray(Y)?Y.forEach(K=>{q.push(encodeURIComponent(z)+"="+encodeURIComponent(K))}):q.push(encodeURIComponent(z)+"="+encodeURIComponent(Y));return q.length?"&"+q.join("&"):""}function Pe(W){const q={};return W.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[K,Ae]=Y.split("=");q[decodeURIComponent(K)]=decodeURIComponent(Ae)}}),q}function Tn(W){const q=W.indexOf("?");if(!q)return"";const z=W.indexOf("#",q);return W.substring(q,z>0?z:void 0)}class si{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,z){z||(z=0);const Y=this.W_;if("string"==typeof q)for(let oe=0;oe<16;oe++)Y[oe]=q.charCodeAt(z)<<24|q.charCodeAt(z+1)<<16|q.charCodeAt(z+2)<<8|q.charCodeAt(z+3),z+=4;else for(let oe=0;oe<16;oe++)Y[oe]=q[z]<<24|q[z+1]<<16|q[z+2]<<8|q[z+3],z+=4;for(let oe=16;oe<80;oe++){const J=Y[oe-3]^Y[oe-8]^Y[oe-14]^Y[oe-16];Y[oe]=4294967295&(J<<1|J>>>31)}let Xt,Br,K=this.chain_[0],Ae=this.chain_[1],je=this.chain_[2],gt=this.chain_[3],on=this.chain_[4];for(let oe=0;oe<80;oe++){oe<40?oe<20?(Xt=gt^Ae&(je^gt),Br=1518500249):(Xt=Ae^je^gt,Br=1859775393):oe<60?(Xt=Ae&je|gt&(Ae|je),Br=2400959708):(Xt=Ae^je^gt,Br=3395469782);const J=(K<<5|K>>>27)+Xt+on+Br+Y[oe]&4294967295;on=gt,gt=je,je=4294967295&(Ae<<30|Ae>>>2),Ae=K,K=J}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Ae&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+gt&4294967295,this.chain_[4]=this.chain_[4]+on&4294967295}update(q,z){if(null==q)return;void 0===z&&(z=q.length);const Y=z-this.blockSize;let K=0;const Ae=this.buf_;let je=this.inbuf_;for(;K<z;){if(0===je)for(;K<=Y;)this.compress_(q,K),K+=this.blockSize;if("string"==typeof q){for(;K<z;)if(Ae[je]=q.charCodeAt(K),++je,++K,je===this.blockSize){this.compress_(Ae),je=0;break}}else for(;K<z;)if(Ae[je]=q[K],++je,++K,je===this.blockSize){this.compress_(Ae),je=0;break}}this.inbuf_=je,this.total_+=z}digest(){const q=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&z,z/=256;this.compress_(this.buf_);let Y=0;for(let K=0;K<5;K++)for(let Ae=24;Ae>=0;Ae-=8)q[Y]=this.chain_[K]>>Ae&255,++Y;return q}}function ft(W,q){const z=new Bn(W,q);return z.subscribe.bind(z)}class Bn{constructor(q,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{q(this)}).catch(Y=>{this.error(Y)})}next(q){this.forEachObserver(z=>{z.next(q)})}error(q){this.forEachObserver(z=>{z.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,z,Y){let K;if(void 0===q&&void 0===z&&void 0===Y)throw new Error("Missing Observer.");K=function dn(W,q){if("object"!=typeof W||null===W)return!1;for(const z of q)if(z in W&&"function"==typeof W[z])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:z,complete:Y},void 0===K.next&&(K.next=Jn),void 0===K.error&&(K.error=Jn),void 0===K.complete&&(K.complete=Jn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch(je){}}),this.observers.push(K),Ae}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,q)}sendOne(q,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{z(this.observers[q])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}const Cr=function(W,q,z,Y){let K;if(Y<q?K="at least "+q:Y>z&&(K=0===z?"none":"no more than "+z),K)throw new Error(W+" failed: Was called with "+Y+(1===Y?" argument.":" arguments.")+" Expects "+K+".")};function Xn(W,q){return`${W} failed: ${q} argument `}function Ni(W,q,z,Y){if((!Y||z)&&"function"!=typeof z)throw new Error(Xn(W,q)+"must be a valid function.")}function is(W,q,z,Y){if((!Y||z)&&("object"!=typeof z||null===z))throw new Error(Xn(W,q)+"must be a valid context object.")}const qt=function(W){const q=[];let z=0;for(let Y=0;Y<W.length;Y++){let K=W.charCodeAt(Y);if(K>=55296&&K<=56319){const Ae=K-55296;Y++,G(Y<W.length,"Surrogate pair missing trail surrogate."),K=65536+(Ae<<10)+(W.charCodeAt(Y)-56320)}K<128?q[z++]=K:K<2048?(q[z++]=K>>6|192,q[z++]=63&K|128):K<65536?(q[z++]=K>>12|224,q[z++]=K>>6&63|128,q[z++]=63&K|128):(q[z++]=K>>18|240,q[z++]=K>>12&63|128,q[z++]=K>>6&63|128,q[z++]=63&K|128)}return q},lt=function(W){let q=0;for(let z=0;z<W.length;z++){const Y=W.charCodeAt(z);Y<128?q++:Y<2048?q+=2:Y>=55296&&Y<=56319?(q+=4,z++):q+=3}return q};function pi(W,q=1e3,z=2){const Y=q*Math.pow(z,W),K=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+K)}function cr(W){return W&&W._delegate?W._delegate:W}},8346:(Ke,ye,L)=>{var a=L(5e3);let G=null;function N(){return G}const se=new a.OlP("DocumentToken");let re=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ie(){return(0,a.LFG)($)}()},providedIn:"platform"}),n})();const V=new a.OlP("Location Initialized");let $=(()=>{class n extends re{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){H()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){H()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function le(){return new $((0,a.LFG)(se))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ge(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function be(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Se(n){const t=(0,a.LFG)(se).location;return new st((0,a.LFG)(re),t&&t.origin||"")}()},providedIn:"root"}),n})();const Be=new a.OlP("appBaseHref");let st=(()=>{class n extends ve{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+be(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+be(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+be(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re),a.LFG(Be,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ht=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=_e(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+be(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+be(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re),a.LFG(Be,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),un=(()=>{class n{constructor(e,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ge(vt(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+be(i))}normalize(e){return n.stripTrailingSlash(function Fn(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,vt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+be(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+be(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=be,n.joinWithSlash=_e,n.stripTrailingSlash=ge,n.\u0275fac=function(e){return new(e||n)(a.LFG(ve),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Nt(){return new un((0,a.LFG)(ve),(0,a.LFG)(re))}()},providedIn:"root"}),n})();function vt(n){return n.replace(/\/index.html$/,"")}const Oe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Percent=1]="Percent",Me[Me.Currency=2]="Currency",Me[Me.Scientific=3]="Scientific",Me))(),qe=(()=>((qe=qe||{})[qe.Decimal=0]="Decimal",qe[qe.Group=1]="Group",qe[qe.List=2]="List",qe[qe.PercentSign=3]="PercentSign",qe[qe.PlusSign=4]="PlusSign",qe[qe.MinusSign=5]="MinusSign",qe[qe.Exponential=6]="Exponential",qe[qe.SuperscriptingExponent=7]="SuperscriptingExponent",qe[qe.PerMille=8]="PerMille",qe[qe.Infinity=9]="Infinity",qe[qe.NaN=10]="NaN",qe[qe.TimeSeparator=11]="TimeSeparator",qe[qe.CurrencyDecimal=12]="CurrencyDecimal",qe[qe.CurrencyGroup=13]="CurrencyGroup",qe))();function On(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(void 0===i){if(t===qe.CurrencyDecimal)return e[a.wAp.NumberSymbols][qe.Decimal];if(t===qe.CurrencyGroup)return e[a.wAp.NumberSymbols][qe.Group]}return i}const bt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Er(n,t,e,i,r){const c=function en(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],c=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],d=c[0],p=c[1]||"";e.posPre=d.substr(0,d.indexOf("#"));for(let C=0;C<p.length;C++){const D=p.charAt(C);"0"===D?e.minFrac=e.maxFrac=C+1:"#"===D?e.maxFrac=C+1:e.posSuf+=D}const y=d.split(",");if(e.gSize=y[1]?y[1].length:0,e.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,s){const C=r.length-e.posPre.length-e.posSuf.length,D=s.indexOf("#");e.negPre=s.substr(0,D).replace(/'/g,""),e.negSuf=s.substr(D+C).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Ln(n,t){return(0,a.cg1)(n)[a.wAp.NumberFormats][t]}(t,Me.Currency),On(t,qe.MinusSign));return c.minFrac=function Xn(n){let t;const e=Oe[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),c.maxFrac=c.minFrac,function sl(n,t,e,i,r,s,c=!1){let d="",p=!1;if(isFinite(n)){let y=function wo(n){let i,r,s,c,d,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(d=t.length))i=[0],r=1;else{for(d--;"0"===t.charAt(d);)d--;for(r-=s,i=[],c=0;s<=d;s++,c++)i[c]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);c&&(y=function oi(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(y));let C=t.minInt,D=t.minFrac,x=t.maxFrac;if(s){const Ue=s.match(bt);if(null===Ue)throw new Error(`${s} is not a valid digit info`);const Ve=Ue[1],He=Ue[3],Tt=Ue[5];null!=Ve&&(C=Sr(Ve)),null!=He&&(D=Sr(He)),null!=Tt?x=Sr(Tt):null!=He&&D>x&&(x=D)}!function Yn(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let c=s+n.integerLen,d=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let D=c;D<i.length;D++)i[D]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=s+1),i[0]=0;for(let D=1;D<c;D++)i[D]=0}if(d>=5)if(c-1<0){for(let D=0;D>c;D--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,s);r++)i.push(0);let p=0!==s;const y=t+n.integerLen,C=i.reduceRight(function(D,x,P,B){return B[P]=(x+=D)<10?x:x-10,p&&(0===B[P]&&P>=y?B.pop():p=!1),x>=10?1:0},0);C&&(i.unshift(C),n.integerLen++)}(y,D,x);let P=y.digits,B=y.integerLen;const ee=y.exponent;let ue=[];for(p=P.every(Ue=>!Ue);B<C;B++)P.unshift(0);for(;B<0;B++)P.unshift(0);B>0?ue=P.splice(B,P.length):(ue=P,P=[0]);const ke=[];for(P.length>=t.lgSize&&ke.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)ke.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&ke.unshift(P.join("")),d=ke.join(On(e,i)),ue.length&&(d+=On(e,r)+ue.join("")),ee&&(d+=On(e,qe.Exponential)+"+"+ee)}else d=On(e,qe.Infinity);return d=n<0&&!p?t.negPre+d+t.negSuf:t.posPre+d+t.posSuf,d}(n,c,t,qe.CurrencyGroup,qe.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function Sr(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Ea(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Un=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new In,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class In{constructor(){this.$implicit=null,this.ngIf=null}}function Xc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class al{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Li=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),dr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new al(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Li,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();let dl=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,c){if(!function hl(n){return!(null==n||""===n||n!=n)}(e))return null;c=c||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let d=i||this._defaultCurrencyCode;"code"!==r&&(d="symbol"===r||"symbol-narrow"===r?function Jn(n,t,e="en"){const i=function wr(n){return(0,a.cg1)(n)[a.wAp.Currencies]}(e)[n]||Oe[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(d,"symbol"===r?"wide":"narrow",c):r);try{return Er(function Jo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),c,d,i,s)}catch(p){throw function rs(n,t){return new a.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},n.\u0275pipe=a.Yjl({name:"currency",type:n,pure:!0}),n})();let hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Fd="browser";function Ta(n){return"server"===n}let Mf=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new pl((0,a.LFG)(se),window)}),n})();class pl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Eo(this.window.history)||Eo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Eo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gn{}class Xo extends class Bd extends class te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){G||(G=n)}(new Xo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function So(){return Jt=Jt||document.querySelector("base"),Jt?Jt.getAttribute("href"):null}();return null==e?null:function Ia(n){ea=ea||document.createElement("a"),ea.setAttribute("href",n);const t=ea.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Jt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ea(document.cookie,t)}}let ea,Jt=null;const Xi=new a.OlP("TRANSITION_ID"),ai=[{provide:a.ip1,useFactory:function xf(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Xi,se,a.zs3],multi:!0}];class Dr{static init(){(0,a.VLi)(new Dr)}addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let er=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Do=new a.OlP("EventManagerPlugins");let To=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Do),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Xl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Tr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),li=(()=>{class n extends Tr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ta),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ta))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ta(n){N().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},na=/%COMP%/g;function Io(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Io(n,r,e):(r=r.replace(na,n),e.push(r))}return e}function De(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Aa=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Pn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ir(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new ml(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Io(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(To),a.LFG(li),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Pn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=wt[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,De(i)):this.eventManager.addEventListener(t,e,De(i))}}class Ir extends Pn{constructor(t,e,i,r){super(t),this.component=i;const s=Io(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Ma(n){return"_ngcontent-%COMP%".replace(na,n)}(r+"-"+i.id),this.hostAttr=function au(n){return"_nghost-%COMP%".replace(na,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ml extends Pn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Io(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nc=(()=>{class n extends Xl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const cu=["alt","control","meta","shift"],Ud={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ia={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ti={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ss=(()=>{class n extends Xl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(cu.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function xa(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ia.hasOwnProperty(t)&&(t=ia[t]))}return Ud[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cu.forEach(s=>{s!=r&&Ti[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const sc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Fd},{provide:a.g9A,useValue:function qs(){Xo.makeCurrent(),Dr.init()},multi:!0},{provide:se,useFactory:function ic(){return(0,a.RDi)(document),document},deps:[]}]),du=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Mr(){return new a.qLn},deps:[]},{provide:Do,useClass:nc,multi:!0,deps:[se,a.R0b,a.Lbi]},{provide:Do,useClass:Ss,multi:!0,deps:[se]},{provide:Aa,useClass:Aa,deps:[To,li,a.AFp]},{provide:a.FYo,useExisting:Aa},{provide:Tr,useExisting:li},{provide:li,useClass:li,deps:[se]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:To,useClass:To,deps:[Do,a.R0b]},{provide:gn,useClass:er,deps:[]}];let ka=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Xi,useExisting:a.AFp},ai]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:du,imports:[hr,a.hGG]}),n})();"undefined"!=typeof window&&window;let Ws=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(uc),i},providedIn:"root"}),n})(),uc=(()=>{class n extends Ws{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(i),(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function xo(n){return new uc(n.get(se))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var nt=L(1086),gi=L(2916),Mn=L(1709);function ko(n,t){return(0,Mn.zg)(n,t,1)}var Bi=L(3489);function Zn(n,t){return function(i){return i.lift(new dc(n,t))}}class dc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ff(t,this.predicate,this.thisArg))}}class Ff extends Bi.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var Je=L(4850);class Ro{}class Lf{}class _i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof _i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new _i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof _i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ds{encodeKey(t){return yu(t)}encodeValue(t){return yu(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Ym=/%(\d[a-f0-9])/gi,$d={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function yu(n){return encodeURIComponent(n).replace(Ym,(t,e)=>{var i;return null!==(i=$d[e])&&void 0!==i?i:t})}function hc(n){return`${n}`}class Ts{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ds,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Oo(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ts({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(hc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(hc(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class vu{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Oa(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function sa(n){return"undefined"!=typeof Blob&&n instanceof Blob}function qd(n){return"undefined"!=typeof FormData&&n instanceof FormData}class vl{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function No(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new _i),this.context||(this.context=new vu),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Ts,this.urlWithParams=e}serializeBody(){return null===this.body?null:Oa(this.body)||sa(this.body)||qd(this.body)||function fc(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ts?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qd(this.body)?null:sa(this.body)?this.body.type||null:Oa(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ts?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,C=t.params||this.params;const D=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((x,P)=>x.set(P,t.setHeaders[P]),y)),t.setParams&&(C=Object.keys(t.setParams).reduce((x,P)=>x.set(P,t.setParams[P]),C)),new vl(i,r,c,{params:C,headers:y,context:D,reportProgress:p,responseType:s,withCredentials:d})}}var Hn=(()=>((Hn=Hn||{})[Hn.Sent=0]="Sent",Hn[Hn.UploadProgress=1]="UploadProgress",Hn[Hn.ResponseHeader=2]="ResponseHeader",Hn[Hn.DownloadProgress=3]="DownloadProgress",Hn[Hn.Response=4]="Response",Hn[Hn.User=5]="User",Hn))();class bl{constructor(t,e=200,i="OK"){this.headers=t.headers||new _i,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Pa extends bl{constructor(t={}){super(t),this.type=Hn.ResponseHeader}clone(t={}){return new Pa({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wl extends bl{constructor(t={}){super(t),this.type=Hn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cl extends bl{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ar(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let El=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof vl)s=e;else{let p,y;p=r.headers instanceof _i?r.headers:new _i(r.headers),r.params&&(y=r.params instanceof Ts?r.params:new Ts({fromObject:r.params})),s=new vl(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,nt.of)(s).pipe(ko(p=>this.handler.handle(p)));if(e instanceof vl||"events"===r.observe)return c;const d=c.pipe(Zn(p=>p instanceof wl));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Je.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Je.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Je.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Je.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ts).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Ar(r,i))}post(e,i,r={}){return this.request("POST",e,Ar(r,i))}put(e,i,r={}){return this.request("PUT",e,Ar(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ro))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Gn{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const bu=new a.OlP("HTTP_INTERCEPTORS");let Vi=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=/^\)\]\}',?\n/;let Bf=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,B)=>r.setRequestHeader(P,B.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const P=r.statusText||"OK",B=new _i(r.getAllResponseHeaders()),ee=function wu(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Pa({headers:B,status:r.status,statusText:P,url:ee}),c},p=()=>{let{headers:P,status:B,statusText:ee,url:ue}=d(),ke=null;204!==B&&(ke=void 0===r.response?r.responseText:r.response),0===B&&(B=ke?200:0);let Ue=B>=200&&B<300;if("json"===e.responseType&&"string"==typeof ke){const Ve=ke;ke=ke.replace(Is,"");try{ke=""!==ke?JSON.parse(ke):null}catch(He){ke=Ve,Ue&&(Ue=!1,ke={error:He,text:ke})}}Ue?(i.next(new wl({body:ke,headers:P,status:B,statusText:ee,url:ue||void 0})),i.complete()):i.error(new Cl({error:ke,headers:P,status:B,statusText:ee,url:ue||void 0}))},y=P=>{const{url:B}=d(),ee=new Cl({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(ee)};let C=!1;const D=P=>{C||(i.next(d()),C=!0);let B={type:Hn.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(B.total=P.total),"text"===e.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},x=P=>{let B={type:Hn.UploadProgress,loaded:P.loaded};P.lengthComputable&&(B.total=P.total),i.next(B)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",x)),r.send(s),i.next({type:Hn.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",x)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const An=new a.OlP("XSRF_COOKIE_NAME"),pc=new a.OlP("XSRF_HEADER_NAME");class Tl{}let Ey=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ea(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se),a.LFG(a.Lbi),a.LFG(An))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Cu=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Tl),a.LFG(pc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(bu,[]);this.chain=i.reduceRight((r,s)=>new Gn(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Lf),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),mc=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Cu,useClass:Vi}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:An,useValue:e.cookieName}:[],e.headerName?{provide:pc,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Cu,{provide:bu,useExisting:Cu,multi:!0},{provide:Tl,useClass:Ey},{provide:An,useValue:"XSRF-TOKEN"},{provide:pc,useValue:"X-XSRF-TOKEN"}]}),n})(),Km=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[El,{provide:Ro,useClass:Zm},Bf,{provide:Lf,useExisting:Bf}],imports:[[mc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Ui=void 0,Vf=["pt",[["AM","PM"],Ui,Ui],Ui,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Ui,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Ui,[["a.C.","d.C."],Ui,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ui,Ui,Ui],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],JPY:["JP\xa5","\xa5"],PHP:[Ui,"\u20b1"],PTE:["Esc."],RON:[Ui,"L"],SYP:[Ui,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Zd(n){const e=Math.floor(Math.abs(n));return e===Math.floor(e)&&e>=0&&e<=1?1:5}];var jt=L(5254),nr=L(6688),Kd=L(7830);function Il(...n){if(1===n.length){const t=n[0];if((0,nr.k)(t))return kr(t,null);if((0,Kd.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return kr(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return kr(n=1===n.length&&(0,nr.k)(n[0])?n[0]:n,null).pipe((0,Je.U)(e=>t(...e)))}return kr(n,null)}function kr(n,t){return new gi.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,c=0;for(let d=0;d<i;d++){const p=(0,jt.D)(n[d]);let y=!1;e.add(p.subscribe({next:C=>{y||(y=!0,c++),r[d]=C},error:C=>e.error(C),complete:()=>{s++,(s===i||!y)&&(c===i&&e.next(t?t.reduce((C,D,x)=>(C[D]=r[x],C),{}):r),e.complete())}}))}})}let Ml=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Ys=(()=>{class n extends Ml{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Rr=new a.OlP("NgValueAccessor"),_c={provide:Rr,useExisting:(0,a.Gpc)(()=>Ms),multi:!0},Qd=new a.OlP("CompositionEventMode");let Ms=(()=>{class n extends Ml{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ur(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Qd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([_c]),a.qOj]}),n})();const Kn=new a.OlP("NgValidators"),Zs=new a.OlP("NgAsyncValidators");function T(n){return null!=n}function I(n){const t=(0,a.QGY)(n)?(0,jt.D)(n):n;return(0,a.CqO)(t),t}function O(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function j(n,t){return t.map(e=>e(n))}function he(n){return n.map(t=>function ne(n){return!n.validate}(t)?t:e=>t.validate(e))}function Re(n){return null!=n?function Te(n){if(!n)return null;const t=n.filter(T);return 0==t.length?null:function(e){return O(j(e,t))}}(he(n)):null}function It(n){return null!=n?function pt(n){if(!n)return null;const t=n.filter(T);return 0==t.length?null:function(e){return Il(j(e,t).map(I)).pipe((0,Je.U)(O))}}(he(n)):null}function Mt(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ut(n){return n._rawValidators}function di(n){return n._rawAsyncValidators}function ir(n){return n?Array.isArray(n)?n:[n]:[]}function Ks(n,t){return Array.isArray(n)?n.includes(t):n===t}function os(n,t){const e=ir(t);return ir(n).forEach(r=>{Ks(e,r)||e.push(r)}),e}function as(n,t){return ir(t).filter(e=>!Ks(n,e))}class aa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Re(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Hi extends aa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hi extends aa{get formDirective(){return null}get path(){return null}}class ls{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Mu=(()=>{class n extends ls{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hi,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),yc=(()=>{class n extends ls{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function Ua(n,t){th(n,t),t.valueAccessor.writeValue(n.value),function Gf(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&tg(n,t)})}(n,t),function Iy(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ty(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&tg(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function jf(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Rl(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Js(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function th(n,t){const e=ut(n);null!==t.validator?n.setValidators(Mt(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=di(n);null!==t.asyncValidator?n.setAsyncValidators(Mt(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();bc(t._rawValidators,r),bc(t._rawAsyncValidators,r)}function Js(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ut(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=di(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return bc(t._rawValidators,i),bc(t._rawAsyncValidators,i),e}function tg(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nh(n,t){th(n,t)}function ig(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Wf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ru="VALID",Ou="INVALID",wc="PENDING",ca="DISABLED";function ks(n){return(Nu(n)?n.validators:n)||null}function Cc(n){return Array.isArray(n)?Re(n):n||null}function Pu(n,t){return(Nu(t)?t.asyncValidators:n)||null}function Zf(n){return Array.isArray(n)?It(n):n||null}function Nu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ay=n=>n instanceof xy,sg=n=>n instanceof Sc;function rh(n){return Ay(n)?n.value:n.getRawValue()}function Ec(n,t){const e=sg(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")}function sh(n,t){sg(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})}class Kf{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Cc(this._rawValidators),this._composedAsyncValidatorFn=Zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ru}get invalid(){return this.status===Ou}get pending(){return this.status==wc}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Cc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Zf(t)}addValidators(t){this.setValidators(os(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(os(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(as(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(as(t,this._rawAsyncValidators))}hasValidator(t){return Ks(this._rawValidators,t)}hasAsyncValidator(t){return Ks(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ca,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ru,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ru||this.status===wc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:Ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator=!0;const e=I(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function rg(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=sg(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof ky)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?Ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(Ou)?Ou:Ru}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xy extends Kf{constructor(t=null,e,i){super(ks(e),Pu(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nu(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Wf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Wf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Sc extends Kf{constructor(t,e,i){super(ks(e),Pu(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){sh(this,t),Object.keys(t).forEach(i=>{Ec(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=rh(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ky extends Kf{constructor(t,e,i){super(ks(e),Pu(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){sh(this,t),t.forEach((i,r)=>{Ec(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>rh(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ag={provide:hi,useExisting:(0,a.Gpc)(()=>ua)},Dc=(()=>Promise.resolve(null))();let ua=(()=>{class n extends hi{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Sc({},Re(e),It(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Dc.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ua(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Dc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Dc.then(()=>{const i=this._findContainer(e.path),r=new Sc({});nh(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Dc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Dc.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ig(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Kn,10),a.Y36(Zs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ag]),a.qOj]}),n})();const A={provide:Hi,useExisting:(0,a.Gpc)(()=>X)},R=(()=>Promise.resolve(null))();let X=(()=>{class n extends Hi{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new xy,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ih(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ms?e=s:function My(n){return Object.getPrototypeOf(n.constructor)===Ys}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function qf(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ua(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){R.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;R.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?function xu(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hi,9),a.Y36(Kn,10),a.Y36(Zs,10),a.Y36(Rr,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([A]),a.qOj,a.TTD]}),n})(),pe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Ic={provide:hi,useExisting:(0,a.Gpc)(()=>Ha)};let Ha=(()=>{class n extends hi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Js(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ua(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Rl(e.control||null,e,!1),Wf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,ig(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Rl(i||null,e),Ay(r)&&(Ua(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);nh(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function la(n,t){return Js(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){th(this.form,this),this._oldForm&&Js(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Kn,10),a.Y36(Zs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Ic]),a.qOj,a.TTD]}),n})(),np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Nn]]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[np]}),n})();var ot=L(8929),Gr=L(2654),ug=L(5279);class us extends ot.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ug.N;return this._value}next(t){super.next(this._value=t)}}var rr=L(2868),za=L(353);function Ol(n,t=za.P){return e=>e.lift(new ch(n,t))}class ch{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new BA(t,this.dueTime,this.scheduler))}}class BA extends Bi.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(P0,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function P0(n){n.debouncedNext()}const pg=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var Xs=L(8896);function Or(n){return t=>0===n?(0,Xs.c)():t.lift(new mg(n))}class mg{constructor(t){if(this.total=t,this.total<0)throw new pg}call(t,e){return e.subscribe(new UA(t,this.total))}}class UA extends Bi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function qy(n){return t=>t.lift(new PL(n))}class PL{constructor(t){this.total=t}call(t,e){return e.subscribe(new N0(t,this.total))}}class N0 extends Bi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Uu(n,t){return e=>e.lift(new HA(n,t))}class HA{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new F0(t,this.compare,this.keySelector))}}class F0 extends Bi.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var Bo=L(1177);function Lt(n){return t=>t.lift(new eo(n))}class eo{constructor(t){this.notifier=t}call(t,e){const i=new jA(t),r=(0,Bo.ft)(this.notifier,new Bo.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class jA extends Bo.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Vt(n){return null!=n&&"false"!=`${n}`}function Gi(n,t=0){return function NL(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function ap(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pl(n){return n instanceof a.SBq?n.nativeElement:n}let gg;try{gg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){gg=!1}let dh,cn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function fr(n){return n===Fd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.Lbi))},token:n,providedIn:"root"}),n})(),uh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Wy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function B0(){if(dh)return dh;if("object"!=typeof document||!document)return dh=new Set(Wy),dh;let n=document.createElement("input");return dh=new Set(Wy.filter(t=>(n.setAttribute("type",t),n.type===t))),dh}let hh,cp,kc,up;function lp(n){return function GA(){if(null==hh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hh=!0}))}finally{hh=hh||!1}return hh}()?n:!!n.capture}function V0(){if(null==kc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kc=!1,kc;if("scrollBehavior"in document.documentElement.style)kc=!0;else{const n=Element.prototype.scrollTo;kc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kc}function Os(){if("object"!=typeof document||!document)return 0;if(null==cp){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),cp=0,0===n.scrollLeft&&(n.scrollLeft=1,cp=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return cp}function U0(n){if(function zA(){if(null==up){const n="undefined"!=typeof document?document.head:null;up=!(!n||!n.createShadowRoot&&!n.attachShadow)}return up}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Rc(n){return n.composedPath?n.composedPath()[0]:n.target}function Yy(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let Zy=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),H0=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Pl(e);return new gi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ot.xQ,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zy))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Zy))},token:n,providedIn:"root"}),n})(),Ky=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Vt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Gi(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ol(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(H0),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),j0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zy]}),n})(),$a=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function qA(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function wg(n){try{return n.frameElement}catch(t){return null}}(function K0(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Y0(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Y0(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function nv(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Z0(n){return!function BL(n){return function W0(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function WA(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Cg(n){return function tv(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fh(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(cn))},token:n,providedIn:"root"}),n})();function fh(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Y0(n){if(!fh(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Q0{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Or(1)).subscribe(t)}}let J0=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Q0(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($a),a.LFG(a.R0b),a.LFG(se))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG($a),a.LFG(a.R0b),a.LFG(se))},token:n,providedIn:"root"}),n})();function nE(n){return 0===n.offsetX&&0===n.offsetY}function iE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const rE=new a.OlP("cdk-input-modality-detector-options"),qa={ignoreKeys:[18,17,224,91,16]},Hu=lp({passive:!0,capture:!0});let iv=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new us(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,p;(null===(p=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===p?void 0:p.some(y=>y===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Rc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nE(c)?"keyboard":"mouse"),this._mostRecentTarget=Rc(c))},this._onTouchstart=c=>{iE(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rc(c))},this._options=Object.assign(Object.assign({},qa),s),this.modalityDetected=this._modality.pipe(qy(1)),this.modalityChanged=this.modalityDetected.pipe(Uu()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Hu),r.addEventListener("mousedown",this._onMousedown,Hu),r.addEventListener("touchstart",this._onTouchstart,Hu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hu),document.removeEventListener("mousedown",this._onMousedown,Hu),document.removeEventListener("touchstart",this._onTouchstart,Hu))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cn),a.LFG(a.R0b),a.LFG(se),a.LFG(rE,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(cn),a.LFG(a.R0b),a.LFG(se),a.LFG(rE,8))},token:n,providedIn:"root"}),n})();const rv=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function sE(){return null}}),oE=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Sg=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(d=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,d(),"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s]);return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(rv,8),a.LFG(a.R0b),a.LFG(se),a.LFG(oE,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(rv,8),a.LFG(a.R0b),a.LFG(se),a.LFG(oE,8))},token:n,providedIn:"root"}),n})();const aE=new a.OlP("cdk-focus-monitor-default-options"),fp=lp({passive:!0,capture:!0});let ju=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ot.xQ,this._rootNodeFocusAndBlurListener=d=>{const p=Rc(d),y="focus"===d.type?this._onFocus:this._onBlur;for(let C=p;C;C=C.parentElement)y.call(this,d,C)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=Pl(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,nt.of)(null);const s=U0(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new ot.xQ,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Pl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Pl(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,r){r?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Rc(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,fp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,fp)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(cn),a.LFG(iv),a.LFG(se,8),a.LFG(aE,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(cn),a.LFG(iv),a.LFG(se,8),a.LFG(aE,8))},token:n,providedIn:"root"}),n})();const lE="cdk-high-contrast-black-on-white",cE="cdk-high-contrast-white-on-black",uE="cdk-high-contrast-active";let KA=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(uE),e.remove(lE),e.remove(cE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(uE),e.add(lE)):2===i&&(e.add(uE),e.add(cE))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cn),a.LFG(se))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(cn),a.LFG(se))},token:n,providedIn:"root"}),n})(),sv=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(KA))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[uh,j0]]}),n})();const dE=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function hE(){return(0,a.f3M)(se)}});let to=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dE,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(dE,8))},token:n,providedIn:"root"}),n})(),ds=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const QA=new a.GfV("12.2.13");var ov=L(9146);function pp(...n){return function fE(){return(0,ov.J)(1)}()((0,nt.of)(...n))}var mp=L(2866);function zr(...n){const t=n[n.length-1];return(0,mp.K)(t)?(n.pop(),e=>pp(n,e,t)):e=>pp(n,e)}class JA{}const fa="*";function Vo(n,t){return{type:7,name:n,definitions:t,options:{}}}function zi(n,t=null){return{type:4,styles:t,timings:n}}function mE(n,t=null){return{type:2,steps:n,options:t}}function Zt(n){return{type:6,styles:n,offset:null}}function yi(n,t,e){return{type:0,name:n,styles:t,options:e}}function $i(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function gE(n){Promise.resolve(null).then(n)}class zu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pa{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?gE(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const St=!1;function _p(n){return new a.vHH(3e3,St)}function uv(){return"undefined"!=typeof window&&void 0!==window.document}function dv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qu(n){switch(n.length){case 0:return new zu;case 1:return n[0];default:return new pa(n)}}function ox(n,t,e,i,r={},s={}){const c=[],d=[];let p=-1,y=null;if(i.forEach(C=>{const D=C.offset,x=D==p,P=x&&y||{};Object.keys(C).forEach(B=>{let ee=B,ue=C[B];if("offset"!==B)switch(ee=t.normalizePropertyName(ee,c),ue){case"!":ue=r[B];break;case fa:ue=s[B];break;default:ue=t.normalizeStyleValue(B,ee,ue,c)}P[ee]=ue}),x||d.push(P),y=P,p=D}),c.length)throw function IE(n){return new a.vHH(3502,St)}();return d}function kE(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&hv(e,"start",n)));break;case"done":n.onDone(()=>i(e&&hv(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&hv(e,"destroy",n)))}}function hv(n,t,e){const i=e.totalTime,s=Dg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function Dg(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Ho(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function RE(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Oc=(n,t)=>!1,OE=(n,t,e)=>[],fv=null;function pv(n){const t=n.parentNode||n.host;return t===fv?null:t}(dv()||"undefined"!=typeof Element)&&(uv()?(fv=(()=>document.documentElement)(),Oc=(n,t)=>{for(;t;){if(t===n)return!0;t=pv(t)}return!1}):Oc=(n,t)=>n.contains(t),OE=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Wu=null,mv=!1;function PE(n){Wu||(Wu=function lx(){return"undefined"!=typeof document?document.body:null}()||{},mv=!!Wu.style&&"WebkitAppearance"in Wu.style);let t=!0;return Wu.style&&!function Tg(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Wu.style,!t&&mv&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wu.style)),t}const NE=Oc,FE=OE;let gv=(()=>{class n{validateStyleProperty(e){return PE(e)}matchesElement(e,i){return!1}containsElement(e,i){return NE(e,i)}getParentElement(e){return pv(e)}query(e,i,r){return FE(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new zu(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),_v=(()=>{class n{}return n.NOOP=new gv,n})();const BE="ng-enter",Sh="ng-leave",Ig="ng-trigger",bv=".ng-trigger",Dh="ng-animating",Mg=".ng-animating";function Fl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vp(parseFloat(t[1]),t[2])}function vp(n,t){return"s"===t?1e3*n:n}function Ag(n,t,e){return n.hasOwnProperty("duration")?n:function xg(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(_p()),{duration:0,delay:0,easing:""};r=vp(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=vp(parseFloat(p),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function Uo(){return new a.vHH(3100,St)}()),d=!0),s<0&&(t.push(function lv(){return new a.vHH(3101,St)}()),d=!0),d&&t.splice(p,0,_p())}return{duration:r,delay:s,easing:c}}(n,t,e)}function Ll(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Yu(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Ll(n,e);return e}function VE(n,t,e){return e?t+":"+e+";":""}function bp(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=VE(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=VE(0,UE(e),n.style[e]));n.setAttribute("style",t)}function no(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Og(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),dv()&&bp(n))}function Bl(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Og(e);n.style[i]=""}),dv()&&bp(n))}function Th(n){return Array.isArray(n)?1==n.length?n[0]:mE(n):n}const Rg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cv(n){let t=[];if("string"==typeof n){let e;for(;e=Rg.exec(n);)t.push(e[1]);Rg.lastIndex=0}return t}function Ih(n,t,e){const i=n.toString(),r=i.replace(Rg,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(function _h(n){return new a.vHH(3003,St)}()),d=""),d.toString()});return r==i?n:r}function Mh(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const cx=/-+([a-z0-9])/g;function Og(n){return n.replace(cx,(...t)=>t[1].toUpperCase())}function UE(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function io(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function yh(n){return new a.vHH(3004,St)}()}}function Sv(n,t){return window.getComputedStyle(n)[t]}function zE(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function $E(n,t,e){if(":"==n[0]){const p=function qE(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function DE(n){return new a.vHH(3016,St)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function SE(n){return new a.vHH(3015,St)}()),t;const r=i[1],s=i[2],c=i[3];t.push(WE(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(WE(c,r))}(i,e,t)):e.push(n),e}const Dv=new Set(["true","1"]),Ng=new Set(["false","0"]);function WE(n,t){const e=Dv.has(n)||Ng.has(n),i=Dv.has(t)||Ng.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Dv.has(n):Ng.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Dv.has(t):Ng.has(t)),c&&d}}const hx=new RegExp("s*:selfs*,?","g");function Mi(n,t,e,i){return new fx(n).build(t,e,i)}class fx{constructor(t){this._driver=t}build(t,e,i){const r=new mx(e);this._resetContextStyleTimingState(r);const s=io(this,Th(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function bh(){return new a.vHH(3006,St)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,e))}),p.name=y}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function wh(){return new a.vHH(3007,St)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(Ep(d)){const p=d;Object.keys(p).forEach(y=>{Cv(p[y]).forEach(C=>{c.hasOwnProperty(C)||s.add(C)})})}}),s.size&&(Mh(s.values()),e.errors.push(function Ch(n,t){return new a.vHH(3008,St)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=io(this,Th(t.animation),e);return{type:1,matchers:zE(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Zu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>io(this,i,e)),options:Zu(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=io(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:Zu(t.options)}}visitAnimate(t,e){const i=function xh(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Mv(Ag(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Mv(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Ag(e,t);return Mv(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Zt({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=Zt(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==fa?i.push(c):e.errors.push(function Eh(n){return new a.vHH(3002,St)}()):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(Ep(c)){const d=c,p=d.easing;if(p&&(s=p,delete d.easing),!r)for(let y in d)if(d[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void e.unsupportedCSSPropertiesFound.add(d);const p=e.collectedStyles[e.currentQuerySelector],y=p[d];let C=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(e.errors.push(function _E(n,t,e,i,r){return new a.vHH(3010,St)}()),C=!1),s=y.startTime),C&&(p[d]={startTime:s,endTime:r}),e.options&&function wv(n,t,e){const i=t.params||{},r=Cv(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function gh(n){return new a.vHH(3001,St)}())})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function yE(){return new a.vHH(3011,St)}()),i;let s=0;const c=[];let d=!1,p=!1,y=0;const C=t.steps.map(ke=>{const Ue=this._makeStyleAst(ke,e);let Ve=null!=Ue.offset?Ue.offset:function ZE(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Ep(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Ep(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ue.styles),He=0;return null!=Ve&&(s++,He=Ue.offset=Ve),p=p||He<0||He>1,d=d||He<y,y=He,c.push(He),Ue});p&&e.errors.push(function vE(){return new a.vHH(3012,St)}()),d&&e.errors.push(function bE(){return new a.vHH(3200,St)}());const D=t.steps.length;let x=0;s>0&&s<D?e.errors.push(function wE(){return new a.vHH(3202,St)}()):0==s&&(x=1/(D-1));const P=D-1,B=e.currentTime,ee=e.currentAnimateTimings,ue=ee.duration;return C.forEach((ke,Ue)=>{const Ve=x>0?Ue==P?1:x*Ue:c[Ue],He=Ve*ue;e.currentTime=B+ee.delay+He,ee.duration=He,this._validateStyleAst(ke,e),ke.offset=Ve,i.styles.push(ke)}),i}visitReference(t,e){return{type:8,animation:io(this,Th(t.animation),e),options:Zu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Zu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Zu(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function px(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(hx,"")),n=n.replace(/@\*/g,bv).replace(/@\w+/g,e=>bv+"-"+e.substr(1)).replace(/:animating/g,Mg),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ho(e.collectedStyles,e.currentQuerySelector,{});const d=io(this,Th(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:Zu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function CE(){return new a.vHH(3013,St)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ag(t.timings,e.errors,!0);return{type:12,animation:io(this,Th(t.animation),e),timings:i,options:null}}}class mx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ep(n){return!Array.isArray(n)&&"object"==typeof n}function Zu(n){return n?(n=Ll(n)).params&&(n.params=function YE(n){return n?Ll(n):null}(n.params)):n={},n}function Mv(n,t,e){return{duration:n,delay:t,easing:e}}function Fg(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Lg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Av=new RegExp(":enter","g"),Ya=new RegExp(":leave","g");function kv(n,t,e,i,r,s={},c={},d,p,y=[]){return(new gx).buildKeyframes(n,t,e,i,r,s,c,d,p,y)}class gx{buildKeyframes(t,e,i,r,s,c,d,p,y,C=[]){y=y||new Lg;const D=new so(t,e,y,r,s,C,[]);D.options=p,D.currentTimeline.setStyles([c],null,D.errors,p),io(this,i,D);const x=D.timelines.filter(P=>P.containsAnimation());if(Object.keys(d).length){let P;for(let B=x.length-1;B>=0;B--){const ee=x[B];if(ee.element===e){P=ee;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([d],null,D.errors,p)}return x.length?x.map(P=>P.buildKeyframes()):[Fg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Fl(i.duration):null,d=null!=i.delay?Fl(i.delay):null;return 0!==c&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),io(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ro);const c=Fl(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>io(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Fl(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),io(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ag(e.params?Ih(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Fl(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ro);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((y,C)=>{e.currentQueryIndex=C;const D=e.createSubContext(t.options,y);s&&D.delayNextStep(s),y===e.element&&(p=D.currentTimeline),io(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const C=e.currentTimeline;p&&C.delayNextStep(p);const D=C.currentTime;io(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const ro={};class so{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ro,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Ps(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Fl(i.duration)),null!=i.delay&&(r.delay=Fl(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=Ih(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new so(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=ro,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new QE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Av,"."+this._enterClassName)).replace(Ya,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(function EE(n){return new a.vHH(3014,St)}()),d}}class Ps{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ps(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||fa,this._currentKeyframe[e]=fa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function _x(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=fa})):Yu(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const p=Ih(c[d],s,i);this._pendingStyles[d]=p,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:fa),this._updateStyle(d,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const y=Yu(d,!0);Object.keys(y).forEach(C=>{const D=y[C];"!"==D?t.add(C):D==fa&&e.add(C)}),i||(y.offset=p/this.duration),r.push(y)});const s=t.size?Mh(t.values()):[],c=e.size?Mh(e.values()):[];if(i){const d=r[0],p=Ll(d);d.offset=0,p.offset=1,r=[d,p]}return Fg(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class QE extends Ps{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=Yu(t[0],!1);p.offset=0,s.push(p);const y=Yu(t[0],!1);y.offset=Rv(d),s.push(y);const C=t.length-1;for(let D=1;D<=C;D++){let x=Yu(t[D],!1);x.offset=Rv((e+x.offset*i)/c),s.push(x)}i=c,e=0,r="",t=s}return Fg(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Rv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ov{}class Pv extends Ov{normalizePropertyName(t,e){return Og(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(Sp[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function vh(n,t){return new a.vHH(3005,St)}())}return c+s}}const Sp=(()=>function yx(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Nv(n,t,e,i,r,s,c,d,p,y,C,D,x){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:D,errors:x}}const Fv={};class Lv{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function JE(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,p,y,C){const D=[],x=this.ast.options&&this.ast.options.params||Fv,B=this.buildStyles(i,d&&d.params||Fv,D),ee=p&&p.params||Fv,ue=this.buildStyles(r,ee,D),ke=new Set,Ue=new Map,Ve=new Map,He="void"===r,Tt={params:Object.assign(Object.assign({},x),ee)},kt=C?[]:kv(t,e,this.ast.animation,s,c,B,ue,Tt,y,D);let pn=0;if(kt.forEach(wa=>{pn=Math.max(wa.duration+wa.delay,pn)}),D.length)return Nv(e,this._triggerName,i,r,He,B,ue,[],[],Ue,Ve,pn,D);kt.forEach(wa=>{const Md=wa.element,W6=Ho(Ue,Md,{});wa.preStyleProps.forEach(Vm=>W6[Vm]=!0);const qC=Ho(Ve,Md,{});wa.postStyleProps.forEach(Vm=>qC[Vm]=!0),Md!==e&&ke.add(Md)});const lr=Mh(ke.values());return Nv(e,this._triggerName,i,r,He,B,ue,kt,lr,Ue,Ve,pn)}}class Bg{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Ll(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let p=c[d];p.length>1&&(p=Ih(p,r,e));const y=this.normalizer.normalizePropertyName(d,e);p=this.normalizer.normalizeStyleValue(d,y,p,e),i[y]=p})}}),i}}class XE{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new Bg(r.style,r.options&&r.options.params||{},i)}),Vg(this.states,"true","1"),Vg(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Lv(t,r,this.states))}),this.fallbackTransition=function eS(n,t,e){return new Lv(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Vg(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Ug=new Lg;class tS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=Mi(this._driver,e,i,[]);if(i.length)throw function ME(n){return new a.vHH(3503,St)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=ox(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=kv(this._driver,e,s,BE,Sh,{},{},i,Ug,r),c.forEach(C=>{const D=Ho(d,C.element,{});C.postStyleProps.forEach(x=>D[x]=null)})):(r.push(function tx(){return new a.vHH(3300,St)}()),c=[]),r.length)throw function nx(n){return new a.vHH(3504,St)}();d.forEach((C,D)=>{Object.keys(C).forEach(x=>{C[x]=this._driver.computeStyle(D,x,fa)})});const y=qu(c.map(C=>{const D=d.get(C.element);return this._buildPlayer(C,{},D)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function AE(n){return new a.vHH(3301,St)}();return e}listen(t,e,i,r){const s=Dg(e,"","","");return kE(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Bv="ng-animate-queued",Hg="ng-animate-disabled",oS=[],Vv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jo="__ng_removed";class Uv{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Sx(n){return null!=n?n:null}(i?t.value:t),i){const s=Ll(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Dp="void",Hv=new Uv(Dp);class wx{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Go(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function ix(n,t){return new a.vHH(3302,St)}();if(null==i||0==i.length)throw function xE(n){return new a.vHH(3303,St)}();if(!function Dx(n){return"start"==n||"done"==n}(i))throw function rx(n,t){return new a.vHH(3400,St)}();const s=Ho(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Ho(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(Go(t,Ig),Go(t,Ig+"-"+e),d[e]=Hv),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function sx(n){return new a.vHH(3401,St)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new jv(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Go(t,Ig),Go(t,Ig+"-"+e),this._engine.statesByElement.set(t,d={}));let p=d[e];const y=new Uv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),d[e]=y,p||(p=Hv),y.value!==Dp&&p.value===y.value){if(!function hS(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,y.params)){const ee=[],ue=s.matchStyles(p.value,p.params,ee),ke=s.matchStyles(y.value,y.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Bl(t,ue),no(t,ke)})}return}const x=Ho(this._engine.playersByElement,t,[]);x.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let P=s.matchTransition(p.value,y.value,t,y.params),B=!1;if(!P){if(!r)return;P=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:y,player:c,isFallbackTransition:B}),B||(Go(t,Bv),c.onStart(()=>{kh(t,Bv)})),c.onDone(()=>{let ee=this.players.indexOf(c);ee>=0&&this.players.splice(ee,1);const ue=this._engine.playersByElement.get(t);if(ue){let ke=ue.indexOf(c);ke>=0&&ue.splice(ke,1)}}),this.players.push(c),x.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,bv,!0);i.forEach(r=>{if(r[jo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const y=this.trigger(t,p,Dp,r);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&qu(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,y=i[c]||Hv,C=new Uv(Dp),D=new jv(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:y,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[jo];(!s||s===Vv)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Go(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=Dg(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,kE(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Cx{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new wx(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,e)){i.splice(d+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(jg(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!jg(e))return;const s=e[jo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Go(t,Hg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kh(t,Hg))}removeNode(t,e,i,r){if(jg(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[jo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return jg(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,bv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mg,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qu(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[jo];if(i&&i.setForRemoval){if(t[jo]=Vv,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Hg))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Go(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function WL(n){return new a.vHH(3402,St)}()}_flushAnimations(t,e){const i=new Lg,r=[],s=new Map,c=[],d=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(dt=>{C.add(dt);const Dt=this.driver.query(dt,".ng-animate-queued",!0);for(let Pt=0;Pt<Dt.length;Pt++)C.add(Dt[Pt])});const D=this.bodyNode,x=Array.from(this.statesByElement.keys()),P=cS(x,this.collectedEnterElements),B=new Map;let ee=0;P.forEach((dt,Dt)=>{const Pt=BE+ee++;B.set(Dt,Pt),dt.forEach(En=>Go(En,Pt))});const ue=[],ke=new Set,Ue=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Dt=this.collectedLeaveElements[dt],Pt=Dt[jo];Pt&&Pt.setForRemoval&&(ue.push(Dt),ke.add(Dt),Pt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(En=>ke.add(En)):Ue.add(Dt))}const Ve=new Map,He=cS(x,Array.from(ke));He.forEach((dt,Dt)=>{const Pt=Sh+ee++;Ve.set(Dt,Pt),dt.forEach(En=>Go(En,Pt))}),t.push(()=>{P.forEach((dt,Dt)=>{const Pt=B.get(Dt);dt.forEach(En=>kh(En,Pt))}),He.forEach((dt,Dt)=>{const Pt=Ve.get(Dt);dt.forEach(En=>kh(En,Pt))}),ue.forEach(dt=>{this.processLeaveNode(dt)})});const Tt=[],kt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(Pt=>{const En=Pt.player,ts=Pt.element;if(Tt.push(En),this.collectedEnterElements.length){const bo=ts[jo];if(bo&&bo.setForMove){if(bo.previousTriggersValues&&bo.previousTriggersValues.has(Pt.triggerName)){const Um=bo.previousTriggersValues.get(Pt.triggerName),Ef=this.statesByElement.get(Pt.element);Ef&&Ef[Pt.triggerName]&&(Ef[Pt.triggerName].value=Um)}return void En.destroy()}}const Jc=!D||!this.driver.containsElement(D,ts),Ca=Ve.get(ts),Cf=B.get(ts),Ri=this._buildInstruction(Pt,i,Cf,Ca,Jc);if(Ri.errors&&Ri.errors.length)return void kt.push(Ri);if(Jc)return En.onStart(()=>Bl(ts,Ri.fromStyles)),En.onDestroy(()=>no(ts,Ri.toStyles)),void r.push(En);if(Pt.isFallbackTransition)return En.onStart(()=>Bl(ts,Ri.fromStyles)),En.onDestroy(()=>no(ts,Ri.toStyles)),void r.push(En);const K6=[];Ri.timelines.forEach(bo=>{bo.stretchStartingKeyframe=!0,this.disabledNodes.has(bo.element)||K6.push(bo)}),Ri.timelines=K6,i.append(ts,Ri.timelines),c.push({instruction:Ri,player:En,element:ts}),Ri.queriedElements.forEach(bo=>Ho(d,bo,[]).push(En)),Ri.preStyleProps.forEach((bo,Um)=>{const Ef=Object.keys(bo);if(Ef.length){let Hm=p.get(Um);Hm||p.set(Um,Hm=new Set),Ef.forEach(XF=>Hm.add(XF))}}),Ri.postStyleProps.forEach((bo,Um)=>{const Ef=Object.keys(bo);let Hm=y.get(Um);Hm||y.set(Um,Hm=new Set),Ef.forEach(XF=>Hm.add(XF))})});if(kt.length){const dt=[];kt.forEach(Dt=>{dt.push(function cv(n,t){return new a.vHH(3505,St)}())}),Tt.forEach(Dt=>Dt.destroy()),this.reportError(dt)}const pn=new Map,lr=new Map;c.forEach(dt=>{const Dt=dt.element;i.has(Dt)&&(lr.set(Dt,Dt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,pn))}),r.forEach(dt=>{const Dt=dt.element;this._getPreviousPlayers(Dt,!1,dt.namespaceId,dt.triggerName,null).forEach(En=>{Ho(pn,Dt,[]).push(En),En.destroy()})});const wa=ue.filter(dt=>zv(dt,p,y)),Md=new Map;lS(Md,this.driver,Ue,y,fa).forEach(dt=>{zv(dt,p,y)&&wa.push(dt)});const qC=new Map;P.forEach((dt,Dt)=>{lS(qC,this.driver,new Set(dt),p,"!")}),wa.forEach(dt=>{const Dt=Md.get(dt),Pt=qC.get(dt);Md.set(dt,Object.assign(Object.assign({},Dt),Pt))});const Vm=[],Y6=[],Z6={};c.forEach(dt=>{const{element:Dt,player:Pt,instruction:En}=dt;if(i.has(Dt)){if(C.has(Dt))return Pt.onDestroy(()=>no(Dt,En.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(En.totalTime),void r.push(Pt);let ts=Z6;if(lr.size>1){let Ca=Dt;const Cf=[];for(;Ca=Ca.parentNode;){const Ri=lr.get(Ca);if(Ri){ts=Ri;break}Cf.push(Ca)}Cf.forEach(Ri=>lr.set(Ri,ts))}const Jc=this._buildAnimation(Pt.namespaceId,En,pn,s,qC,Md);if(Pt.setRealPlayer(Jc),ts===Z6)Vm.push(Pt);else{const Ca=this.playersByElement.get(ts);Ca&&Ca.length&&(Pt.parentPlayer=qu(Ca)),r.push(Pt)}}else Bl(Dt,En.fromStyles),Pt.onDestroy(()=>no(Dt,En.toStyles)),Y6.push(Pt),C.has(Dt)&&r.push(Pt)}),Y6.forEach(dt=>{const Dt=s.get(dt.element);if(Dt&&Dt.length){const Pt=qu(Dt);dt.setRealPlayer(Pt)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ue.length;dt++){const Dt=ue[dt],Pt=Dt[jo];if(kh(Dt,Sh),Pt&&Pt.hasAnimation)continue;let En=[];if(d.size){let Jc=d.get(Dt);Jc&&Jc.length&&En.push(...Jc);let Ca=this.driver.query(Dt,Mg,!0);for(let Cf=0;Cf<Ca.length;Cf++){let Ri=d.get(Ca[Cf]);Ri&&Ri.length&&En.push(...Ri)}}const ts=En.filter(Jc=>!Jc.destroyed);ts.length?uS(this,Dt,ts):this.processLeaveNode(Dt)}return ue.length=0,Vm.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Dt=this.players.indexOf(dt);this.players.splice(Dt,1)}),dt.play()}),Vm}elementContainsData(t,e){let i=!1;const r=e[jo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==Dp;d.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,C=y!==s,D=Ho(i,y,[]);this._getPreviousPlayers(y,C,c,d,e.toState).forEach(P=>{const B=P.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),P.destroy(),D.push(P)})}Bl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,y=[],C=new Set,D=new Set,x=e.timelines.map(B=>{const ee=B.element;C.add(ee);const ue=ee[jo];if(ue&&ue.removedBeforeQueried)return new zu(B.duration,B.delay);const ke=ee!==p,Ue=function dS(n){const t=[];return Gv(n,t),t}((i.get(ee)||oS).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===ee),Ve=s.get(ee),He=c.get(ee),Tt=ox(0,this._normalizer,0,B.keyframes,Ve,He),kt=this._buildPlayer(B,Tt,Ue);if(B.subTimeline&&r&&D.add(ee),ke){const pn=new jv(t,d,ee);pn.setRealPlayer(kt),y.push(pn)}return kt});y.forEach(B=>{Ho(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function Ex(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,B.element,B))}),C.forEach(B=>Go(B,Dh));const P=qu(x);return P.onDestroy(()=>{C.forEach(B=>kh(B,Dh)),no(p,e.toStyles)}),D.forEach(B=>{Ho(r,B,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new zu(t.duration,t.delay)}}class jv{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new zu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>kE(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ho(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jg(n){return n&&1===n.nodeType}function aS(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function lS(n,t,e,i,r){const s=[];e.forEach(p=>s.push(aS(p)));const c=[];i.forEach((p,y)=>{const C={};p.forEach(D=>{const x=C[D]=t.computeStyle(y,D,r);(!x||0==x.length)&&(y[jo]=bx,c.push(y))}),n.set(y,C)});let d=0;return e.forEach(p=>aS(p,s[d++])),c}function cS(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const y=d.parentNode;return p=e.has(y)?y:r.has(y)?1:c(y),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Go(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function kh(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function uS(n,t,e){qu(e).onDone(()=>n.processLeaveNode(t))}function Gv(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof pa?Gv(i.players,t):t.push(i)}}function zv(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Tp{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Cx(t,e,i),this._timelineEngine=new tS(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],C=Mi(this._driver,s,p,[]);if(p.length)throw function ex(n,t){return new a.vHH(3404,St)}();d=function vx(n,t,e){return new XE(n,t,e)}(r,C,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=RE(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=RE(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pS=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&no(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(no(this._element,this._initialStyles),this._endStyles&&(no(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),no(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Gg(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];$v(r)&&(t=t||{},t[r]=n[r])}return t}function $v(n){return"display"===n||"position"===n}class zg{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Sv(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Ku{validateStyleProperty(t){return PE(t)}matchesElement(t,e){return!1}containsElement(t,e){return NE(t,e)}getParentElement(t){return pv(t)}query(t,e,i){return FE(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y={},C=c.filter(x=>x instanceof zg);(function Ev(n,t){return 0===n||0===t})(i,r)&&C.forEach(x=>{let P=x.currentSnapshot;Object.keys(P).forEach(B=>y[B]=P[B])}),e=function HE(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(p){d[p]=Sv(n,p)})}}return t}(t,e=e.map(x=>Yu(x,!1)),y);const D=function fS(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Gg(t[0]),t.length>1&&(i=Gg(t[t.length-1]))):t&&(e=Gg(t)),e||i?new pS(n,e,i):null}(t,e);return new zg(t,e,p,D)}}let Tx=(()=>{class n extends JA{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?mE(e):e;return mS(this._renderer,null,i,"register",[r]),new Ix(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ix extends class pE{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Rh(this._id,t,e||{},this._renderer)}}class Rh{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return mS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function mS(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Mx="@.disabled";let gS=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new qv("",s,this.engine),this._rendererCache.set(s,C)),C}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(c,d,e,C.name,C)};return i.data.animation.forEach(p),new XL(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Tp),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class qv{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Mx?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class XL extends qv{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Mx?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Ct(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Ax(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let xx=(()=>{class n extends Tp{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se),a.LFG(_v),a.LFG(Ov))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ma=new a.OlP("AnimationModuleType"),Ip=[{provide:JA,useClass:Tx},{provide:Ov,useFactory:function kx(){return new Pv}},{provide:Tp,useClass:xx},{provide:a.FYo,useFactory:function $g(n,t,e){return new gS(n,t,e)},deps:[Aa,Tp,a.R0b]}],Mp=[{provide:_v,useFactory:()=>new Ku},{provide:ma,useValue:"BrowserAnimations"},...Ip],vi=[{provide:_v,useClass:gv},{provide:ma,useValue:"NoopAnimations"},...Ip];let eB=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?vi:Mp}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Mp,imports:[ka]}),n})();const bS=new a.GfV("12.2.13"),Bx=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ap(){return!0}});let Xu,tn=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,a.X6Q)()||Yy())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&bS.full!==QA.full&&console.warn("The Angular Material version ("+bS.full+") does not match the Angular CDK version ("+QA.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(KA),a.LFG(Bx,8),a.LFG(se))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ds],ds]}),n})();function Qu(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Vt(t)}}}function Pc(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Ju(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Vt(t)}}}function Wv(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new ot.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}try{Xu="undefined"!=typeof Intl}catch(n){Xu=!1}let Ph=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Nh(n,t,e){const i=n.nativeElement.classList;e?i.add(t):i.remove(t)}let Nc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn],tn]}),n})();class zx{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IS={enterDuration:225,exitDuration:150},Kv=lp({passive:!0}),MS=["mousedown","touchstart"],Qv=["mouseup","mouseleave","touchend","touchcancel"];class qx{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},IS),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function Fh(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-c+"px",C.style.top=p-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C),function Wx(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const D=new zx(this,C,i);return D.state=0,this._activeRipples.add(D),i.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const x=D===this._mostRecentTransientRipple;D.state=1,!i.persistent&&(!x||!this._isPointerDown)&&D.fadeOut()},y),D}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},IS),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(MS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Qv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=nE(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!iE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Kv)})})}_removeTriggerEvents(){this._triggerElement&&(MS.forEach(t=>{this._triggerElement.removeEventListener(t,this,Kv)}),this._pointerUpEventsRegistered&&Qv.forEach(t=>{this._triggerElement.removeEventListener(t,this,Kv)}))}}const Yx=new a.OlP("mat-ripple-global-options");let ed=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new qx(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(cn),a.Y36(Yx,8),a.Y36(ma,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),Jv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn,uh],tn]}),n})(),eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn]]}),n})(),RS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jv,hr,tn,eb]]}),n})();const OS=["mat-button",""],PS=["*"],tk=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nk=Pc(Qu(Ju(class{constructor(n){this._elementRef=n}})));let Vl=(()=>{class n extends nk{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of tk)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ju),a.Y36(ma,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(ed,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:OS,ngContentSelectors:PS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[ed],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Kg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jv,tn],tn]}),n})();const rk=["*",[["mat-card-footer"]]],sk=["*","mat-card-footer"];let nb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),td=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),LS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Rp=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ma,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:sk,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(rk),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),hk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn],tn]}),n})();var oo=L(6787),fk=L(7043);function Za(n,t,e,i){return(0,fk.m)(e)&&(i=e,e=void 0),i?Za(n,t,e).pipe((0,Je.U)(r=>(0,nr.k)(r)?i(...r):i(r))):new gi.y(r=>{US(n,t,function s(c){r.next(arguments.length>1?Array.prototype.slice.call(arguments):c)},r,e)})}function US(n,t,e,i,r){let s;if(function pk(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const c=n;n.addEventListener(t,e,r),s=()=>c.removeEventListener(t,e,r)}else if(function HS(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const c=n;n.on(t,e),s=()=>c.off(t,e)}else if(function lB(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const c=n;n.addListener(t,e),s=()=>c.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let c=0,d=n.length;c<d;c++)US(n[c],t,e,i,r)}i.add(s)}const mk=["underline"],gk=["connectionContainer"],_k=["inputContainer"],jS=["label"];function GS(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function ib(n,t){1&n&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function Qg(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function Pp(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function yk(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function zS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.YNc(2,Qg,4,1,"ng-container",12),a.YNc(3,Pp,1,0,"ng-content",12),a.YNc(4,yk,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $S(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function vk(n,t){if(1&n&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&n){const e=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function bk(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function rb(n,t){if(1&n&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function wk(n,t){if(1&n&&(a.TgZ(0,"div",28),a.YNc(1,rb,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const cB=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ck=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],nd=new a.OlP("MatError"),Lh={transitionMessages:Vo("transitionMessages",[yi("enter",Zt({opacity:1,transform:"translateY(0%)"})),$i("void => enter",[Zt({opacity:0,transform:"translateY(-5px)"}),zi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const Tk=new a.OlP("MatHint");let Jg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const WS=new a.OlP("MatPrefix"),YS=new a.OlP("MatSuffix");let ZS=0;const xk=Pc(class{constructor(n){this._elementRef=n}},"primary"),kk=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),id=new a.OlP("MatFormField");let Bh=(()=>{class n extends xk{constructor(e,i,r,s,c,d,p,y){super(e),this._changeDetectorRef=i,this._dir=s,this._defaults=c,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ot.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ZS++,this._labelId="mat-form-field-label-"+ZS++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=c&&c.appearance?c.appearance:"legacy",this._hideRequiredMarker=!(!c||null==c.hideRequiredMarker)&&c.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Vt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(zr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Lt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Lt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,oo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(zr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(zr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Lt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Za(this._label.nativeElement,"transitionend").pipe(Or(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,c=s.querySelectorAll(".mat-form-field-outline-start"),d=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const p=s.getBoundingClientRect();if(0===p.width&&0===p.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const y=this._getStartEnd(p),C=e.children,D=this._getStartEnd(C[0].getBoundingClientRect());let x=0;for(let P=0;P<C.length;P++)x+=C[P].offsetWidth;i=Math.abs(D-y)-5,r=x>0?.75*x+10:0}for(let p=0;p<c.length;p++)c[p].style.width=`${i}px`;for(let p=0;p<d.length;p++)d[p].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(to,8),a.Y36(kk,8),a.Y36(cn),a.Y36(a.R0b),a.Y36(ma,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,sb,5),a.Suo(r,sb,7),a.Suo(r,Jg,5),a.Suo(r,Jg,7),a.Suo(r,Mk,5),a.Suo(r,nd,5),a.Suo(r,Tk,5),a.Suo(r,WS,5),a.Suo(r,YS,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(mk,5),a.Gf(gk,7),a.Gf(_k,5),a.Gf(jS,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.underlineRef=r.first),a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:id,useExisting:n}]),a.qOj],ngContentSelectors:Ck,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(cB),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,GS,9,0,"ng-container",3),a.YNc(4,ib,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,zS,5,16,"label",8),a.qZA()(),a.YNc(10,$S,2,0,"div",9),a.qZA(),a.YNc(11,vk,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,bk,2,1,"div",12),a.YNc(14,wk,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[Un,Li,Ky,dr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Lh.transitionMessages]},changeDetection:0}),n})(),Np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[hr,tn,j0],tn]}),n})();var Vh=L(1737);function Ns(n){return function(e){const i=new QS(n),r=e.lift(i);return i.caught=r}}class QS{constructor(t){this.selector=t}call(t,e){return e.subscribe(new JS(t,this.selector,this.caught))}}class JS extends Bo.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new Bo.IY(this);this.add(i);const r=(0,Bo.ft)(e,i);r!==i&&this.add(r)}}}function XS(n){return t=>t.lift(new eD(n))}class eD{constructor(t){this.callback=t}call(t,e){return e.subscribe(new tD(t,this.callback))}}class tD extends Bi.L{constructor(t,e){super(t),this.add(new Gr.w(e))}}var nD=L(2474);const Rk=["*"];function iD(n){return Error(`Unable to find icon with the name "${n}"`)}function rD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Xg(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $r{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let e_=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new $r(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw Xg(r);return this._addSvgIconConfig(e,i,new $r("",c,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new $r(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw Xg(i);return this._addSvgIconSetConfig(e,new $r("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw rD(e);const r=this._cachedIconsByUrl.get(i);return r?(0,nt.of)(i_(r)):this._loadSvgIconFromConfig(new $r(e,null)).pipe((0,rr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Je.U)(s=>i_(s)))}getNamedSvgIcon(e,i=""){const r=sD(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):(0,Vh._)(iD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,nt.of)(i_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Je.U)(i=>i_(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,nt.of)(r):Il(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Ns(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),(0,nt.of)(null)})))).pipe((0,Je.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw iD(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,rr.b)(i=>e.svgText=i),(0,Je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,nt.of)(null):this._fetchIcon(e).pipe((0,rr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString("<svg></svg>");return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Fp(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!d)throw rD(r);const p=this._inProgressUrlFetches.get(d);if(p)return p;const y=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe(XS(()=>this._inProgressUrlFetches.delete(d)),(0,nD.B)());return this._inProgressUrlFetches.set(d,y),y}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(sD(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Ok(s)?new $r(s.url,null,s.options):new $r(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(El,8),a.LFG(Ws),a.LFG(se,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(El,8),a.LFG(Ws),a.LFG(se,8),a.LFG(a.qLn))},token:n,providedIn:"root"}),n})();function i_(n){return n.cloneNode(!0)}function sD(n,t){return n+":"+t}function Ok(n){return!(!n.url||!n.options)}const r_=Pc(class{constructor(n){this._elementRef=n}}),s_=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Pk(){const n=(0,a.f3M)(se),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),oD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],aD=n=>`[${n}]`,lD=oD.map(aD).join(", "),ob=/^url\(['"]?#(.*?)['"]?\)$/;let cD=(()=>{class n extends r_{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Gr.w.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Vt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&e.removeChild(r)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(lD),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)oD.forEach(c=>{const d=i[s],p=d.getAttribute(c),y=p?p.match(ob):null;if(y){let C=r.get(d);C||(C=[],r.set(d,C)),C.push({name:c,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Or(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(e_),a.$8M("aria-hidden"),a.Y36(s_),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Rk,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Nk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn],tn]}),n})();class fB{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ab(t,this.durationSelector))}}class ab extends Bo.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,Bo.ft)(e,new Bo.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var o_=L(4241);function lb(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function Uh(n,t=za.P){return function Fk(n){return function(e){return e.lift(new fB(n))}}(()=>function uD(n=0,t,e){let i=-1;return(0,o_.k)(t)?i=Number(t)<1?1:Number(t):(0,mp.K)(t)&&(e=t),(0,mp.K)(e)||(e=za.P),new gi.y(r=>{const s=(0,o_.k)(n)?n:+n-e.now();return e.schedule(lb,s,{index:0,period:i,subscriber:r})})}(n,t))}const dD=lp({passive:!0});let hD=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Xs.E;const i=Pl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ot.xQ,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,dD),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,dD)}}),s}stopMonitoring(e){const i=Pl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cn),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(cn),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[uh]]}),n})();const pD=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),mD=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gD=0;const Vk=Wv(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Lp=(()=>{class n extends Vk{constructor(e,i,r,s,c,d,p,y,C,D){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+gD++,this.focused=!1,this.stateChanges=new ot.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>B0().has(B));const x=this._elementRef.nativeElement,P=x.nodeName.toLowerCase();this._inputValueAccessor=p||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",B=>{const ee=B.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Vt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Vt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&B0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Vt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){mD.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(cn),a.Y36(Hi,10),a.Y36(ua,8),a.Y36(Ha,8),a.Y36(Ph),a.Y36(pD,10),a.Y36(hD),a.Y36(a.R0b),a.Y36(id,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:sb,useExisting:n}]),a.qOj,a.TTD]}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ph],imports:[[cb,Np,tn],cb,Np]}),n})();function a_(n){return n&&"function"==typeof n.connect}class rd{applyChanges(t,e,i,r,s){t.forEachOperation((c,d,p)=>{let y,C;if(null==c.previousIndex){const D=i(c,d,p);y=e.createEmbeddedView(D.templateRef,D.context,D.index),C=1}else null==p?(e.remove(d),C=3):(y=e.get(d),e.move(y,p),C=2);s&&s({context:null==y?void 0:y.context,operation:C,record:c})})}detach(){}}const sd=new a.OlP("_ViewRepeater");let Uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn],tn]}),n})();const c_=["*"],Hk=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pb=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],jk=Qu(Ju(class{})),CD=Ju(class{}),ED=new a.OlP("MatList"),gb=new a.OlP("MatNavList");let d_=(()=>{class n extends jk{constructor(){super(...arguments),this._stateChanges=new ot.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[a._Bn([{provide:gb,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:c_,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),SD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),mB=(()=>{class n extends CD{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new ot.xQ,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Lt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Vt(e)}ngAfterContentInit(){!function Zv(n,t,e="mat"){n.changes.pipe(zr(n)).subscribe(({length:i})=>{Nh(t,`${e}-2-line`,!1),Nh(t,`${e}-3-line`,!1),Nh(t,`${e}-multi-line`,!1),2===i||3===i?Nh(t,`${e}-${i}-line`,!0):i>3&&Nh(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(gb,8),a.Y36(ED,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,SD,5),a.Suo(r,h_,5),a.Suo(r,Yv,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._avatar=s.first),a.iGM(s=a.CRH())&&(i._icon=s.first),a.iGM(s=a.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:pb,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(a.F$t(Hk),a.TgZ(0,"div",0),a._UZ(1,"div",1),a.Hsn(2),a.TgZ(3,"div",2),a.Hsn(4,1),a.qZA(),a.Hsn(5,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[ed],encapsulation:2,changeDetection:0}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Nc,Jv,tn,eb,hr],Nc,tn,eb,Uk]}),n})();var Wk=L(6686),AD=L(2268);new class Zk extends AD.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class Yk extends Wk.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});L(8139);function Bp(){return n=>n.lift(new Qk)}class Qk{call(t,e){return e.subscribe(new Jk(t))}}class Jk extends Bi.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Ai(n,t){return"function"==typeof t?e=>e.pipe(Ai((i,r)=>(0,jt.D)(n(i,r)).pipe((0,Je.U)((s,c)=>t(i,s,r,c))))):e=>e.lift(new RD(n))}class RD{constructor(t){this.project=t}call(t,e){return e.subscribe(new gB(t,this.project))}}class gB extends Bo.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Bo.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,Bo.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var _B=L(341),f_=L(2102),yB=L(5283);class vB extends ot.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new bB(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let c;if(this.closed)throw new ug.N;if(this.isStopped||this.hasError?c=Gr.w.EMPTY:(this.observers.push(t),c=new yB.W(this,t)),r&&t.add(t=new f_.ht(t,r)),e)for(let d=0;d<s&&!t.closed;d++)t.next(i[d]);else for(let d=0;d<s&&!t.closed;d++)t.next(i[d].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||_B.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let c=0;for(;c<s&&!(t-r[c].time<i);)c++;return s>e&&(c=Math.max(c,s-e)),c>0&&r.splice(0,c),r}}class bB{constructor(t,e){this.time=t,this.value=e}}function OD(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function wB({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,c,s=0,d=!1,p=!1;return function(C){let D;s++,!r||d?(d=!1,r=new vB(n,t,i),D=r.subscribe(this),c=C.subscribe({next(x){r.next(x)},error(x){d=!0,r.error(x)},complete(){p=!0,c=void 0,r.complete()}}),p&&(c=void 0)):D=r.subscribe(this),this.add(()=>{s--,D.unsubscribe(),D=void 0,c&&!p&&e&&0===s&&(c.unsubscribe(),c=void 0,r=void 0)})}}(i))}let Ka=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ot.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new gi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Uh(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,nt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Zn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Pl(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Za(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(cn),a.LFG(se,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(cn),a.LFG(se,8))},token:n,providedIn:"root"}),n})(),od=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ot.xQ,this._elementScrolled=new gi.y(c=>this.ngZone.runOutsideAngular(()=>Za(this.elementRef.nativeElement,"scroll").pipe(Lt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Os()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Os()?e.left=e.right:1==Os()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;V0()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Os()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Os()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Ka),a.Y36(a.R0b),a.Y36(to,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Ul=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ot.xQ,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Uh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cn),a.LFG(a.R0b),a.LFG(se,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(cn),a.LFG(a.R0b),a.LFG(se,8))},token:n,providedIn:"root"}),n})(),Vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ds,uh,Vp],ds,Vp]}),n})();class Up{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class g_ extends Up{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Fs extends Up{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class iR extends Up{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class Hp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof g_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Fs?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof iR?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rR extends Hp{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let __=(()=>{class n extends Hp{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(se))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Cb=V0();class BD{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sr(-this._previousScrollPosition.left),t.style.top=sr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Cb&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Cb&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class OB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class VD{enable(){}disable(){}attach(){}}function Eb(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function UD(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class HD{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Eb(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lR=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new VD,this.close=c=>new OB(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new BD(this._viewportRuler,this._document),this.reposition=c=>new HD(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ka),a.LFG(Ul),a.LFG(a.R0b),a.LFG(se))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Ka),a.LFG(Ul),a.LFG(a.R0b),a.LFG(se))},token:n,providedIn:"root"}),n})();class Sb{constructor(t){if(this.scrollStrategy=new VD,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class PB{constructor(t,e,i,r,s){this.offsetX=i,this.offsetY=r,this.panelClass=s,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class GD{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Db=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(se))},token:n,providedIn:"root"}),n})(),Tb=(()=>{class n extends Db{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(se))},token:n,providedIn:"root"}),n})(),Ib=(()=>{class n extends Db{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Rc(r)},this._clickListener=r=>{const s=Rc(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let p=d.length-1;p>-1;p--){const y=d[p];if(!(y._outsidePointerEvents.observers.length<1)&&y.hasAttached()){if(y.overlayElement.contains(s)||y.overlayElement.contains(c))break;y._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se),a.LFG(cn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(se),a.LFG(cn))},token:n,providedIn:"root"}),n})(),y_=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Yy()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].parentNode.removeChild(r[s])}const i=this._document.createElement("div");i.classList.add(e),Yy()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se),a.LFG(cn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(se),a.LFG(cn))},token:n,providedIn:"root"}),n})();class cR{constructor(t,e,i,r,s,c,d,p,y){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new ot.xQ,this._attachments=new ot.xQ,this._detachments=new ot.xQ,this._locationChanges=Gr.w.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new ot.xQ,this._outsidePointerEvents=new ot.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Or(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=sr(this._config.width),t.height=sr(this._config.height),t.minWidth=sr(this._config.minWidth),t.minHeight=sr(this._config.minHeight),t.maxWidth=sr(this._config.maxWidth),t.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=t.classList;ap(e).forEach(s=>{s&&(i?r.add(s):r.remove(s))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Lt((0,oo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const Mb="cdk-overlay-connected-position-bounding-box",zD=/([A-Za-z%]+)$/;class $D{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ot.xQ,this._resizeSubscription=Gr.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Mb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,c),p=this._getOverlayPoint(d,e,c),y=this._getOverlayFit(p,e,i,c);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(y,p,i)?r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!s||s.overlayFit.visibleArea<y.visibleArea)&&(s={overlayFit:y,overlayPoint:p,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(const p of r){const y=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);y>d&&(d=y,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ld(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==e.originX?s:c}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=dR(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(d+=y);let x=0-d,P=d+s.height-i.height,B=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ee=this._subtractOverflows(s.height,x,P),ue=B*ee;return{visibleArea:ue,isCompletelyWithinViewport:s.width*s.height===ue,fitsInViewportVertically:ee===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=uR(this._overlayRef.getConfig().minHeight),d=uR(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=dR(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),y=Math.max(s.left-i.left-t.x,0);let C=0,D=0;return C=r.width<=s.width?y||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:C,y:D},{x:t.x+C,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new GD(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,C,D,x;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),B=this._lastBoundingBoxSize.height;s=2*P,c=t.y-P,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-B/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)x=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,C=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),B=this._lastBoundingBoxSize.width;C=2*P,D=t.x-P,C>B&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-B/2)}return{top:c,left:D,bottom:d,right:x,width:C,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=sr(s)),c&&(r.maxWidth=sr(c))}this._lastBoundingBoxSize=i,ld(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ld(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ld(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();ld(i,this._getExactOverlayY(e,t,C)),ld(i,this._getExactOverlayX(e,t,C))}else i.position="static";let d="",p=this._getOffset(e,"x"),y=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=sr(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=sr(c.maxWidth):s&&(i.maxWidth="")),ld(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=c,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=sr(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=sr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UD(t,i),isOriginOutsideView:Eb(t,i),isOverlayClipped:UD(e,i),isOverlayOutsideView:Eb(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ap(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ld(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function uR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zD);return e&&"px"!==e?null:parseFloat(t)}return n||null}function dR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class qD{constructor(t,e,i,r,s,c,d){this._preferredPositions=[],this._positionStrategy=new $D(i,r,s,c,d).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,r){const s=new PB(t,e,i,r);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const WD="cdk-global-overlay-wrapper";class hR{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(WD),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=p?"0":this._leftOffset,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,p?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(WD),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let fR=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new hR}connectedTo(e,i,r){return new qD(i,r,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new $D(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ul),a.LFG(se),a.LFG(cn),a.LFG(y_))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Ul),a.LFG(se),a.LFG(cn),a.LFG(y_))},token:n,providedIn:"root"}),n})(),LB=0,Fc=(()=>{class n{constructor(e,i,r,s,c,d,p,y,C,D,x){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=y,this._directionality=C,this._location=D,this._outsideClickDispatcher=x}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Sb(e);return c.direction=c.direction||this._directionality.value,new cR(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+LB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new rR(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(lR),a.LFG(y_),a.LFG(a._Vd),a.LFG(fR),a.LFG(Tb),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(se),a.LFG(to),a.LFG(un),a.LFG(Ib))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mR={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Fc],useFactory:function v_(n){return()=>n.scrollStrategies.reposition()}};let Ab=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Fc,mR],imports:[[ds,LD,ND],ND]}),n})();function Hl(n){return new gi.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,jt.D)(e):(0,Xs.c)()).subscribe(t)})}const GB={provide:new a.OlP("mat-select-scroll-strategy"),deps:[Fc],useFactory:function eT(n){return()=>n.scrollStrategies.reposition()}};let bR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[GB],imports:[[hr,Ab,RS,tn],Vp,Np,RS,tn]}),n})();class iT extends Bi.L{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class WB extends Bi.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var YB=L(9249);function wR(n,t,e,i,r=new WB(n,e,i)){if(!r.closed)return t instanceof gi.y?t.subscribe(r):(0,YB.s)(t)(r)}var ZB=L(3009);const CR={};function rT(...n){let t,e;return(0,mp.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,nr.k)(n[0])&&(n=n[0]),(0,ZB.n)(n,e).lift(new KB(t))}class KB{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new QB(t,this.resultSelector))}}class QB extends iT{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(CR),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(wR(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,c=this.toRespond?r[i]===CR?--this.toRespond:this.toRespond:0;r[i]=e,0===c&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const ER=new Set;let o,l=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function u(n){if(!ER.has(n))try{o||(o=document.createElement("style"),o.setAttribute("type","text/css"),document.head.appendChild(o)),o.sheet&&(o.sheet.insertRule(`@media ${n} {body{ }}`,0),ER.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(cn))},token:n,providedIn:"root"}),n})();function h(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let f=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ot.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return g(ap(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=rT(g(ap(e)).map(c=>this._registerQuery(c).observable));return s=pp(s.pipe(Or(1)),s.pipe(qy(1),Ol(0))),s.pipe((0,Je.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{d.matches=d.matches||p,d.breakpoints[y]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new gi.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(zr(i),(0,Je.U)(({matches:c})=>({query:e,matches:c})),Lt(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(l),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(l),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})();function g(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const $e={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[Fc],useFactory:function Le(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$e],imports:[[sv,hr,Ab,tn],tn,Vp]}),n})(),ud=(()=>{class n{constructor(){this.changes=new ot.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const zb={provide:ud,deps:[[new a.FiY,new a.tp0,ud]],useFactory:function Gb(n){return n||new ud}};let xq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[zb],imports:[[hr,Kg,bR,cd,tn]]}),n})();function kq(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const e=a.oxw();a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),a.uIk("r",e._getCircleRadius())}}function Rq(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const e=a.oxw();a.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),a.uIk("r",e._getCircleRadius())}}const Fq=Pc(class{constructor(n){this._elementRef=n}},"primary"),XB=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Lq(){return{diameter:100}}});class jl extends Fq{constructor(t,e,i,r,s){super(t),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const c=jl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(i.head)||c.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Gi(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Gi(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Gi(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=U0(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=jl._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}jl.\u0275fac=function(t){return new(t||jl)(a.Y36(a.SBq),a.Y36(cn),a.Y36(se,8),a.Y36(ma,8),a.Y36(XB))},jl.\u0275cmp=a.Xpm({type:jl,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(a.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",0),a.YNc(1,kq,1,9,"circle",1),a.YNc(2,Rq,1,7,"circle",2),a.qZA()),2&t&&(a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===e.mode),a.uIk("viewBox",e._getViewBox()),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[Li,dr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),jl._diameters=new WeakMap;let Vq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn,hr],tn]}),n})();function eV(n){return t=>t.lift(new Uq(n))}class Uq{constructor(t){this.value=t}call(t,e){return e.subscribe(new Hq(t,this.value))}}class Hq extends Bi.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const sT=["*"];function jq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){return a.CHM(e),a.oxw()._onBackdropClicked()}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Gq(n,t){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const zq=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$q=["mat-drawer","mat-drawer-content","*"];function qq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){return a.CHM(e),a.oxw()._onBackdropClicked()}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Wq(n,t){1&n&&(a.TgZ(0,"mat-sidenav-content",3),a.Hsn(1,2),a.qZA())}const Yq=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Zq=["mat-sidenav","mat-sidenav-content","*"],tV=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",nV={transformDrawer:Vo("transform",[yi("open, open-instant",Zt({transform:"none",visibility:"visible"})),yi("void",Zt({"box-shadow":"none",visibility:"hidden"})),$i("void => open-instant",zi("0ms")),$i("void <=> open, open-instant => void",zi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Kq=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Qq(){return!1}}),DR=new a.OlP("MAT_DRAWER_CONTAINER");let oT=(()=>{class n extends od{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>rV)),a.Y36(a.SBq),a.Y36(Ka),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a.qOj],ngContentSelectors:sT,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),iV=(()=>{class n{constructor(e,i,r,s,c,d,p){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._doc=d,this._container=p,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ot.xQ,this._animationEnd=new ot.xQ,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(Zn(y=>y),(0,Je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Zn(y=>y.fromState!==y.toState&&0===y.toState.indexOf("open")),eV(void 0)),this._closedStream=this.openedChange.pipe(Zn(y=>!y),(0,Je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Zn(y=>y.fromState!==y.toState&&"void"===y.toState),eV(void 0)),this._destroyed=new ot.xQ,this.onPositionChanged=new a.vpe,this._modeChanged=new ot.xQ,this.openedChange.subscribe(y=>{y?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Za(this._elementRef.nativeElement,"keydown").pipe(Zn(y=>27===y.keyCode&&!this.disableClose&&!function Rs(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(y)),Lt(this._destroyed)).subscribe(y=>this._ngZone.run(()=>{this.close(),y.stopPropagation(),y.preventDefault()}))}),this._animationEnd.pipe(Uu((y,C)=>y.fromState===C.fromState&&y.toState===C.toState)).subscribe(y=>{const{fromState:C,toState:D}=y;(0===D.indexOf("open")&&"void"===C||"void"===D&&0===C.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Vt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Vt(e)}get opened(){return this._opened}set opened(e){this.toggle(Vt(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,i){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),i)}_setOpen(e,i,r="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=r):(this._animationState="void",i&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Or(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(J0),a.Y36(ju),a.Y36(cn),a.Y36(a.R0b),a.Y36(se,8),a.Y36(DR,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&a.WFA("@transform.start",function(s){return i._animationStartListener(s)})("@transform.done",function(s){return i._animationDoneListener(s)}),2&e&&(a.uIk("align",null),a.d8E("@transform",i._animationState),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:sT,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},directives:[od],encapsulation:2,data:{animation:[nV.transformDrawer]},changeDetection:0}),n})(),rV=(()=>{class n{constructor(e,i,r,s,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new ot.xQ,this._doCheckSubject=new ot.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ot.xQ,e&&e.change.pipe(Lt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Lt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Vt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Vt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(zr(this._allDrawers),Lt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(zr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ol(10),Lt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Zn(i=>i.fromState!==i.toState),Lt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Lt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Lt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Or(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Lt((0,oo.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(to,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(Ul),a.Y36(Kq),a.Y36(ma,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,oT,5),a.Suo(r,iV,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._content=s.first),a.iGM(s=a.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&a.Gf(oT,5),2&e){let r;a.iGM(r=a.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:DR,useExisting:n}])],ngContentSelectors:$q,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(a.F$t(zq),a.YNc(0,jq,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,Gq,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},directives:[Un,oT],styles:[tV],encapsulation:2,changeDetection:0}),n})(),TR=(()=>{class n extends oT{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>oV)),a.Y36(a.SBq),a.Y36(Ka),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a.qOj],ngContentSelectors:sT,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),sV=(()=>{class n extends iV{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Vt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Gi(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Gi(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(a.uIk("align",null),a.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:sT,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},directives:[od],encapsulation:2,data:{animation:[nV.transformDrawer]},changeDetection:0}),n})(),oV=(()=>{class n extends rV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,TR,5),a.Suo(r,sV,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._content=s.first),a.iGM(s=a.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:DR,useExisting:n}]),a.qOj],ngContentSelectors:Zq,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(a.F$t(Yq),a.YNc(0,qq,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,Wq,2,0,"mat-sidenav-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},directives:[Un,TR,od],styles:[tV],encapsulation:2,changeDetection:0}),n})(),Jq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[hr,tn,uh,Vp],Vp,tn]}),n})();function Xq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",1)(1,"button",2),a.NdJ("click",function(){return a.CHM(e),a.oxw().action()}),a._uU(2),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(2),a.Oqu(e.data.action)}}function eW(n,t){}const aV=new a.OlP("MatSnackBarData");class aT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const tW=Math.pow(2,31)-1;class IR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ot.xQ,this._afterOpened=new ot.xQ,this._onAction=new ot.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,tW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let nW=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(IR),a.Y36(aV))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a.YNc(2,Xq,3,1,"div",0)),2&e&&(a.xp6(1),a.Oqu(i.data.message),a.xp6(1),a.Q6J("ngIf",i.hasAction))},directives:[Un,Vl],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const iW={snackBarState:Vo("state",[yi("void, hidden",Zt({transform:"scale(0.8)",opacity:0})),yi("visible",Zt({transform:"scale(1)",opacity:1})),$i("* => visible",zi("150ms cubic-bezier(0, 0, 0.2, 1)")),$i("* => void, * => hidden",zi("75ms cubic-bezier(0.4, 0.0, 1, 1)",Zt({opacity:0})))])};let rW=(()=>{class n extends Hp{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ot.xQ,this._onExit=new ot.xQ,this._onEnter=new ot.xQ,this._animationState="void",this.attachDomPortal=d=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(d)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Or(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(cn),a.Y36(aT))},n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(__,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&a.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&a.d8E("@state",i._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.YNc(1,eW,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&e&&(a.xp6(2),a.uIk("aria-live",i._live)("role",i._role))},directives:[__],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[iW.snackBarState]}}),n})(),lV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ab,LD,hr,Kg,tn],tn]}),n})();const cV=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function sW(){return new aT}});let uV=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=nW,this.snackBarContainerComponent=rW,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s=Object.assign(Object.assign({},this._defaultConfig),r);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:aT,useValue:i}]}),c=new g_(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new aT),this._defaultConfig),i),s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new IR(c,s);if(e instanceof a.Rgc){const p=new Fs(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),y=new g_(e,void 0,p),C=c.attachComponentPortal(y);d.instance=C.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Lt(s.detachments())).subscribe(p=>{const y=s.overlayElement.classList;p.matches?y.add(this.handsetCssClass):y.remove(this.handsetCssClass)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Sb;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:IR,useValue:i},{provide:aV,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Fc),a.LFG(Sg),a.LFG(a.zs3),a.LFG(f),a.LFG(n,12),a.LFG(cV))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Fc),a.LFG(Sg),a.LFG(a.gxx),a.LFG(f),a.LFG(n,12),a.LFG(cV))},token:n,providedIn:lV}),n})(),lT=(()=>{class n{constructor(){this.changes=new ot.xQ}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const pW={provide:lT,deps:[[new a.FiY,new a.tp0,lT]],useFactory:function fW(n){return n||new lT}};let gW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[pW],imports:[[hr,tn]]}),n})();const _W=[[["caption"]],[["colgroup"],["col"]]],yW=["caption","colgroup, col"];function MR(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Vt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const E_=new a.OlP("CDK_TABLE");let S_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),D_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),cT=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class CW{}const EW=MR(CW);let dd=(()=>{class n extends EW{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Vt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(E_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,S_,5),a.Suo(r,D_,5),a.Suo(r,cT,5)),2&e){let s;a.iGM(s=a.CRH())&&(i.cell=s.first),a.iGM(s=a.CRH())&&(i.headerCell=s.first),a.iGM(s=a.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class AR{constructor(t,e){const i=e.nativeElement.classList;for(const r of t._columnCssClassName)i.add(r)}}let xR=(()=>{class n extends AR{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dd),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),kR=(()=>{class n extends AR{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dd),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class hV{constructor(){this.tasks=[],this.endTasks=[]}}const RR=new a.OlP("_COALESCED_STYLE_SCHEDULER");let fV=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new ot.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new hV,this._getScheduleObservable().pipe(Lt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new hV;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,jt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Or(1))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),OR=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof $b?e.headerCell.template:this instanceof qb?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class SW extends OR{}const DW=MR(SW);let $b=(()=>{class n extends DW{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(E_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class TW extends OR{}const IW=MR(TW);let qb=(()=>{class n extends IW{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(E_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),uT=(()=>{class n extends OR{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(E_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),hd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n.mostRecentCellOutlet=null,n})(),PR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[hd],encapsulation:2}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[hd],encapsulation:2}),n})(),dT=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const pV=["top","bottom","left","right"];class MW{constructor(t,e,i,r,s=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(x=>x)&&!i.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],c=s.children.length,d=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(d,e),y=this._getStickyEndColumnPositions(d,i),C=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,P=x?"right":"left",B=x?"left":"right";for(const ee of t)for(let ue=0;ue<c;ue++){const ke=ee.children[ue];e[ue]&&this._addStickyStyle(ke,P,p[ue],ue===C),i[ue]&&this._addStickyStyle(ke,B,y[ue],ue===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:d.slice(0,C+1).map((ee,ue)=>e[ue]?ee:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:d.slice(D).map((ee,ue)=>i[ue+D]?ee:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,c=[],d=[],p=[];for(let C=0,D=0;C<r.length;C++){if(!s[C])continue;c[C]=D;const x=r[C];p[C]=this._isNativeHtmlTable?Array.from(x.children):[x];const P=x.getBoundingClientRect().height;D+=P,d[C]=P}const y=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var C,D;for(let x=0;x<r.length;x++){if(!s[x])continue;const P=c[x],B=x===y;for(const ee of p[x])this._addStickyStyle(ee,i,P,B)}"top"===i?null===(C=this._positionListener)||void 0===C||C.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):null===(D=this._positionListener)||void 0===D||D.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);pV.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of pV)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const LR=new a.OlP("CDK_SPL");let hT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),fT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),pT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),mT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),gT=(()=>{class n{constructor(e,i,r,s,c,d,p,y,C,D,x){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=y,this._coalescedStyleScheduler=C,this._viewportRuler=D,this._stickyPositioningListener=x,this._onDestroy=new ot.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new us({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Vt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Vt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Lt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),a_(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&c.push(i[d]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const y=this._cachedRenderRowsMap.get(p.data);y.has(p.rowDef)?y.get(p.rowDef).push(p):y.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),_T(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=_T(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=_T(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=_T(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],a_(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;a_(this.dataSource)?e=this.dataSource.connect(this):function ub(n){return!!n&&(n instanceof gi.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,nt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Lt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const c=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))hd.mostRecentCellOutlet&&hd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new MW(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,nt.of)()).pipe(Lt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const r=this._noDataRowOutlet.viewContainer;i?r.createEmbeddedView(e.templateRef):r.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(to,8),a.Y36(se),a.Y36(cn),a.Y36(sd),a.Y36(RR),a.Y36(Ul),a.Y36(LR,12))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,dT,5),a.Suo(r,dd,5),a.Suo(r,uT,5),a.Suo(r,$b,5),a.Suo(r,qb,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._noDataRow=s.first),a.iGM(s=a.CRH())&&(i._contentColumnDefs=s),a.iGM(s=a.CRH())&&(i._contentRowDefs=s),a.iGM(s=a.CRH())&&(i._contentHeaderRowDefs=s),a.iGM(s=a.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(hT,7),a.Gf(fT,7),a.Gf(pT,7),a.Gf(mT,7)),2&e){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:E_,useExisting:n},{provide:sd,useClass:rd},{provide:RR,useClass:fV},{provide:LR,useValue:null}])],ngContentSelectors:yW,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(_W),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[fT,hT,mT,pT],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function _T(n,t){return n.concat(Array.from(t))}let xW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ND]]}),n})();const kW=[[["caption"]],[["colgroup"],["col"]]],RW=["caption","colgroup, col"];let gV=(()=>{class n extends gT{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:sd,useClass:rd},{provide:gT,useExisting:n},{provide:E_,useExisting:n},{provide:RR,useClass:fV},{provide:LR,useValue:null}]),a.qOj],ngContentSelectors:RW,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(kW),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[fT,hT,mT,pT],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),BR=(()=>{class n extends S_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:S_,useExisting:n}]),a.qOj]}),n})(),VR=(()=>{class n extends D_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:D_,useExisting:n}]),a.qOj]}),n})(),UR=(()=>{class n extends dd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:dd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),HR=(()=>{class n extends xR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),jR=(()=>{class n extends kR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),_V=(()=>{class n extends $b{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:$b,useExisting:n}]),a.qOj]}),n})(),yV=(()=>{class n extends uT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:uT,useExisting:n}]),a.qOj]}),n})(),vV=(()=>{class n extends PR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:PR,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[hd],encapsulation:2}),n})(),bV=(()=>{class n extends FR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:FR,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[hd],encapsulation:2}),n})(),jW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[xW,tn],tn]}),n})();const zW=["*",[["mat-toolbar-row"]]],$W=["*","mat-toolbar-row"],qW=Pc(class{constructor(n){this._elementRef=n}});let WW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),wV=(()=>{class n extends qW{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(cn),a.Y36(se))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,WW,5),2&e){let s;a.iGM(s=a.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:$W,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(zW),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),YW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tn],tn]}),n})();var ZW=L(6803),F=L(2090),lo=L(9681),Gl=L(1877),zl=L(4859),kn=L(6351);function Gp(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new KW(n,t,e))}}class KW{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new QW(t,this.accumulator,this.seed,this.hasSeed))}}class QW extends Bi.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}var rt,Pr=L(2011),GR=(L(5881),L(3942)),Ce=L(5861),JW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fd={},zR=zR||{},Ut=JW||self;function yT(){}function $R(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Wb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var qR="closure_uid_"+(1e9*Math.random()>>>0),eY=0;function tY(n,t,e){return n.call.apply(n.bind,arguments)}function nY(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function fs(n,t,e){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tY:nY).apply(null,arguments)}function vT(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ps(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Gh(){this.s=this.s,this.o=this.o}var rY={};Gh.prototype.s=!1,Gh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function XW(n){return Object.prototype.hasOwnProperty.call(n,qR)&&n[qR]||(n[qR]=++eY)}(this);delete rY[n]}},Gh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CV=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},EV=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function SV(n){return Array.prototype.concat.apply([],arguments)}function WR(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function bT(n){return/^[\s\xa0]*$/.test(n)}var uo,DV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function co(n,t){return-1!=n.indexOf(t)}function YR(n,t){return n<t?-1:n>t?1:0}e:{var TV=Ut.navigator;if(TV){var IV=TV.userAgent;if(IV){uo=IV;break e}}uo=""}function ZR(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function MV(n){const t={};for(const e in n)t[e]=n[e];return t}var AV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xV(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<AV.length;s++)e=AV[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function KR(n){return KR[" "](n),n}KR[" "]=yT;var wT,n,aY=co(uo,"Opera"),T_=co(uo,"Trident")||co(uo,"MSIE"),kV=co(uo,"Edge"),QR=kV||T_,RV=co(uo,"Gecko")&&!(co(uo.toLowerCase(),"webkit")&&!co(uo,"Edge"))&&!(co(uo,"Trident")||co(uo,"MSIE"))&&!co(uo,"Edge"),lY=co(uo.toLowerCase(),"webkit")&&!co(uo,"Edge");function OV(){var n=Ut.document;return n?n.documentMode:void 0}e:{var JR="",XR=(n=uo,RV?/rv:([^\);]+)(\)|;)/.exec(n):kV?/Edge\/([\d\.]+)/.exec(n):T_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lY?/WebKit\/(\S+)/.exec(n):aY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(XR&&(JR=XR?XR[1]:""),T_){var eO=OV();if(null!=eO&&eO>parseFloat(JR)){wT=String(eO);break e}}wT=JR}var cY={};var dY=Ut.document&&T_&&(OV()||parseInt(wT,10))||void 0,hY=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",yT,t),Ut.removeEventListener("test",yT,t)}catch(e){}return n}();function Ls(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Yb(n,t){if(Ls.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(RV){e:{try{KR(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yb.Z.h.call(this)}}Ls.prototype.h=function(){this.defaultPrevented=!0},ps(Yb,Ls);var fY={2:"touch",3:"pen",4:"mouse"};Yb.prototype.h=function(){Yb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zb="closure_listenable_"+(1e6*Math.random()|0),pY=0;function mY(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++pY,this.ca=this.fa=!1}function CT(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ET(n){this.src=n,this.g={},this.h=0}function nO(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=CV(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(CT(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function iO(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}ET.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=iO(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new mY(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var rO="closure_lm_"+(1e6*Math.random()|0),sO={};function NV(n,t,e,i,r){if(i&&i.once)return LV(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)NV(n,t[s],e,i,r);return null}return e=cO(e),n&&n[Zb]?n.N(t,e,Wb(i)?!!i.capture:!!i,r):FV(n,t,e,!1,i,r)}function FV(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Wb(r)?!!r.capture:!!r,d=aO(n);if(d||(n[rO]=d=new ET(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function gY(){var t=_Y;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)hY||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(VV(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function LV(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)LV(n,t[s],e,i,r);return null}return e=cO(e),n&&n[Zb]?n.O(t,e,Wb(i)?!!i.capture:!!i,r):FV(n,t,e,!0,i,r)}function BV(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)BV(n,t[s],e,i,r);else i=Wb(i)?!!i.capture:!!i,e=cO(e),n&&n[Zb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=iO(s=n.g[t],e,i,r))&&(CT(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=aO(n))&&(t=n.g[t.toString()],n=-1,t&&(n=iO(t,e,i,r)),(e=-1<n?t[n]:null)&&oO(e))}function oO(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Zb])nO(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(VV(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=aO(t))?(nO(e,n),0==e.h&&(e.src=null,t[rO]=null)):CT(n)}}}function VV(n){return n in sO?sO[n]:sO[n]="on"+n}function _Y(n,t){if(n.ca)n=!0;else{t=new Yb(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&oO(n),n=e.call(i,t)}return n}function aO(n){return(n=n[rO])instanceof ET?n:null}var lO="__closure_events_fn_"+(1e9*Math.random()>>>0);function cO(n){return"function"==typeof n?n:(n[lO]||(n[lO]=function(t){return n.handleEvent(t)}),n[lO])}function qr(){Gh.call(this),this.i=new ET(this),this.P=this,this.I=null}function ms(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ls(t,n);else if(t instanceof Ls)t.target=t.target||n;else{var r=t;xV(t=new Ls(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=ST(c,i,!0,t)&&r}if(r=ST(c=t.g=n,i,!0,t)&&r,r=ST(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=ST(c=t.g=e[s],i,!1,t)&&r}function ST(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&nO(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}ps(qr,Gh),qr.prototype[Zb]=!0,qr.prototype.removeEventListener=function(n,t,e,i){BV(this,n,t,e,i)},qr.prototype.M=function(){if(qr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)CT(e[i]);delete n.g[t],n.h--}}this.I=null},qr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},qr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var uO=Ut.JSON.stringify;function yY(){var n=HV;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var hO,UV=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bY,n=>n.reset());class bY{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function wY(n){Ut.setTimeout(()=>{throw n},0)}function dO(n,t){hO||function CY(){var n=Ut.Promise.resolve(void 0);hO=function(){n.then(EY)}}(),fO||(hO(),fO=!0),HV.add(n,t)}var fO=!1,HV=new class vY{constructor(){this.h=this.g=null}add(t,e){const i=UV.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function EY(){for(var n;n=yY();){try{n.h.call(n.g)}catch(e){wY(e)}var t=UV;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}fO=!1}function DT(n,t){qr.call(this),this.h=n||1,this.g=t||Ut,this.j=fs(this.kb,this),this.l=Date.now()}function pO(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function mO(n,t,e){if("function"==typeof n)e&&(n=fs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ut.setTimeout(n,t||0)}function jV(n){n.g=mO(()=>{n.g=null,n.i&&(n.i=!1,jV(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ps(DT,qr),(rt=DT.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ms(this,"tick"),this.da&&(pO(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){DT.Z.M.call(this),pO(this),delete this.g};class SY extends Gh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jV(this)}M(){super.M(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kb(n){Gh.call(this),this.h=n,this.g={}}ps(Kb,Gh);var GV=[];function zV(n,t,e,i){Array.isArray(e)||(e&&(GV[0]=e.toString()),e=GV);for(var r=0;r<e.length;r++){var s=NV(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function $V(n){ZR(n.g,function(t,e){this.g.hasOwnProperty(e)&&oO(t)},n),n.g={}}function TT(){this.g=!0}function I_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function MY(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return uO(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}Kb.prototype.M=function(){Kb.Z.M.call(this),$V(this)},Kb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},TT.prototype.Aa=function(){this.g=!1},TT.prototype.info=function(){};var zp={},qV=null;function IT(){return qV=qV||new qr}function WV(n){Ls.call(this,zp.Ma,n)}function Qb(n){const t=IT();ms(t,new WV(t,n))}function YV(n,t){Ls.call(this,zp.STAT_EVENT,n),this.stat=t}function ho(n){const t=IT();ms(t,new YV(t,n))}function ZV(n,t){Ls.call(this,zp.Na,n),this.size=t}function Jb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},t)}zp.Ma="serverreachability",ps(WV,Ls),zp.STAT_EVENT="statevent",ps(YV,Ls),zp.Na="timingevent",ps(ZV,Ls);var MT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},KV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gO(){}function JV(){}gO.prototype.h=null;var vO,Xb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _O(){Ls.call(this,"d")}function yO(){Ls.call(this,"c")}function AT(){}function ew(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Kb(this),this.P=AY,this.W=new DT(n=QR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new XV}function XV(){this.i=null,this.g="",this.h=!1}ps(_O,Ls),ps(yO,Ls),ps(AT,gO),AT.prototype.g=function(){return new XMLHttpRequest},AT.prototype.i=function(){return{}},vO=new AT;var AY=45e3,bO={},xT={};function wO(n,t,e){n.K=1,n.v=NT(pd(t)),n.s=e,n.U=!0,e2(n,null)}function e2(n,t){n.F=Date.now(),tw(n),n.A=pd(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),u2(e.h,"t",i),n.C=0,e=n.l.H,n.h=new XV,n.g=O2(n.l,e?t:null,!n.s),0<n.O&&(n.L=new SY(fs(n.Ia,n,n.g),n.O)),zV(n.V,n.g,"readystatechange",n.gb),t=n.H?MV(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Qb(1),function DY(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var y=d[p].split("=");if(1<y.length){var C=y[0];y=y[1];var D=C.split("_");c=2<=D.length&&"type"==D[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function t2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function n2(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=xY(n,e),r==xT){4==t&&(n.o=4,ho(14),i=!1),I_(n.j,n.m,null,"[Incomplete Response]");break}if(r==bO){n.o=4,ho(15),I_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}I_(n.j,n.m,r,null),CO(n,r)}t2(n)&&r!=xT&&r!=bO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ho(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),OO(t),t.L=!0,ho(11))):(I_(n.j,n.m,e,"[Invalid Chunked Response]"),$p(n),nw(n))}function xY(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?xT:(e=Number(t.substring(e,i)),isNaN(e)?bO:(i+=1)+e>t.length?xT:(t=t.substr(i,e),n.C=i+e,t))}function tw(n){n.Y=Date.now()+n.P,r2(n,n.P)}function r2(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jb(fs(n.eb,n),t)}function kT(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function nw(n){0==n.l.G||n.I||A2(n.l,n)}function $p(n){kT(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,pO(n.W),$V(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function CO(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||DO(e.i,n)))if(e.I=n.N,!n.J&&DO(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Jb(fs(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;HT(e),VT(e)}RO(e),ho(18)}if(1>=f2(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else Yp(e,11)}else if((n.J||e.g==n)&&HT(e),!bT(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const C=y[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const D=y[4];null!=D&&(e.za=D,e.h.info("SVER="+e.za));const x=y[5];null!=x&&"number"==typeof x&&0<x&&(e.K=i=1.5*x,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const B=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;!s.g&&(co(B,"spdy")||co(B,"quic")||co(B,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(TO(s,s.h),s.h=null))}if(i.D){const ee=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.sa=ee,bi(i.F,i.D,ee))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=R2(i,i.H?i.la:null,i.W),c.J){p2(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(kT(d),tw(d)),i.g=c}else I2(i);0<e.l.length&&UT(e)}else"stop"!=y[0]&&"close"!=y[0]||Yp(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Yp(e,7):xO(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Qb(4)}catch(y){}}function EO(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if($R(n)||"string"==typeof n)EV(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if($R(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function kY(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if($R(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function M_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof M_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function SO(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];qp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)qp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function qp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(rt=ew.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const t=this.L;t&&3==md(n)?t.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const C=md(this.g);var t=this.g.Da();const D=this.g.ba();if(!(3>C)&&(3!=C||QR||this.g&&(this.h.h||this.g.ga()||C2(this.g)))){this.I||4!=C||7==t||Qb(8==t||0>=D?3:2),kT(this);var e=this.g.ba();this.N=e;t:if(t2(this)){var i=C2(this.g);n="";var r=i.length,s=4==md(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$p(this),nw(this);var c="";break t}this.h.i=new Ut.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function TY(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bT(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,ho(12),$p(this),nw(this);break e}I_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,CO(this,e)}this.U?(n2(this,C,c),QR&&this.i&&3==C&&(zV(this.V,this.W,"tick",this.fb),this.W.start())):(I_(this.j,this.m,c,null),CO(this,c)),4==C&&$p(this),this.i&&!this.I&&(4==C?A2(this.l,this):(this.i=!1,tw(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,ho(12)):(this.o=0,ho(13)),$p(this),nw(this)}}}catch(C){}},rt.fb=function(){if(this.g){var n=md(this.g),t=this.g.ga();this.C<t.length&&(kT(this),n2(this,n,t),this.i&&4!=n&&tw(this))}},rt.cancel=function(){this.I=!0,$p(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function IY(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qb(3),ho(17)),$p(this),this.o=2,nw(this)):r2(this,this.Y-n)},(rt=M_.prototype).R=function(){SO(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},rt.T=function(){return SO(this),this.g.concat()},rt.get=function(n,t){return qp(this.h,n)?this.h[n]:t},rt.set=function(n,t){qp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},rt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var s2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wp){this.g=void 0!==t?t:n.g,RT(this,n.j),this.s=n.s,OT(this,n.i),PT(this,n.m),this.l=n.l,t=n.h;var e=new sw;e.i=t.i,t.g&&(e.g=new M_(t.g),e.h=t.h),o2(this,e),this.o=n.o}else n&&(e=String(n).match(s2))?(this.g=!!t,RT(this,e[1]||"",!0),this.s=iw(e[2]||""),OT(this,e[3]||"",!0),PT(this,e[4]),this.l=iw(e[5]||"",!0),o2(this,e[6]||"",!0),this.o=iw(e[7]||"")):(this.g=!!t,this.h=new sw(null,this.g))}function pd(n){return new Wp(n)}function RT(n,t,e){n.j=e?iw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function OT(n,t,e){n.i=e?iw(t,!0):t}function PT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function o2(n,t,e){t instanceof sw?(n.h=t,function UY(n,t){t&&!n.j&&(zh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(l2(this,i),u2(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=rw(t,BY)),n.h=new sw(t,n.g))}function bi(n,t,e){n.h.set(t,e)}function NT(n){return bi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function iw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,NY),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(rw(t,a2,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(rw(t,a2,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(rw(e,"/"==e.charAt(0)?LY:FY,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",rw(e,VY)),n.join("")};var a2=/[#\/\?@]/g,FY=/[#\?:]/g,LY=/[#\?]/g,BY=/[#\?@]/g,VY=/#/g;function sw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function zh(n){n.g||(n.g=new M_,n.h=0,n.i&&function RY(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function l2(n,t){zh(n),t=A_(n,t),qp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,qp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&SO(n)))}function c2(n,t){return zh(n),t=A_(n,t),qp(n.g.h,t)}function u2(n,t,e){l2(n,t),0<e.length&&(n.i=null,n.g.set(A_(n,t),WR(e)),n.h+=e.length)}function A_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function d2(n){this.l=n||jY,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ea&&Ut.g.Ea()&&Ut.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=sw.prototype).add=function(n,t){zh(this),this.i=null,n=A_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rt.forEach=function(n,t){zh(this),this.g.forEach(function(e,i){EV(e,function(r){n.call(t,r,i,this)},this)},this)},rt.T=function(){zh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},rt.R=function(n){zh(this);var t=[];if("string"==typeof n)c2(this,n)&&(t=SV(t,this.g.get(A_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=SV(t,n[e])}return t},rt.set=function(n,t){return zh(this),this.i=null,c2(this,n=A_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var jY=10;function h2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f2(n){return n.h?1:n.g?n.g.size:0}function DO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function TO(n,t){n.g?n.g.add(t):n.h=t}function p2(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function m2(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return WR(n.i)}function IO(){}function GY(){this.g=new IO}function zY(n,t,e){const i=e||"";try{EO(n,function(r,s){let c=r;Wb(r)&&(c=uO(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function FT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function ow(n){this.l=n.$b||null,this.j=n.ib||!1}function LT(n,t){qr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=MO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}d2.prototype.cancel=function(){if(this.i=m2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},IO.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},IO.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},ps(ow,gO),ow.prototype.g=function(){return new LT(this.l,this.j)},ow.prototype.i=function(n){return function(){return n}}({}),ps(LT,qr);var MO=0;function g2(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function aw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lw(n)}function lw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=LT.prototype).open=function(n,t){if(this.readyState!=MO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,lw(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ut).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,aw(this)),this.readyState=MO},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lw(this)),this.g&&(this.readyState=3,lw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ut.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g2(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?aw(this):lw(this),3==this.readyState&&g2(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,aw(this))},rt.Ta=function(n){this.g&&(this.response=n,aw(this))},rt.ha=function(){this.g&&aw(this)},rt.setRequestHeader=function(n,t){this.v.append(n,t)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(LT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qY=Ut.JSON.parse;function pr(n){qr.call(this),this.headers=new M_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_2,this.K=this.L=!1}ps(pr,qr);var _2="",WY=/^https?$/i,YY=["POST","PUT"];function KY(n){return"content-type"==n.toLowerCase()}function y2(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,v2(n),BT(n)}function v2(n){n.D||(n.D=!0,ms(n,"complete"),ms(n,"error"))}function b2(n){if(n.h&&void 0!==zR&&(!n.C[1]||4!=md(n)||2!=n.ba()))if(n.v&&4==md(n))mO(n.Fa,0,n);else if(ms(n,"readystatechange"),4==md(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(s2)[1]||null;if(!r&&Ut.self&&Ut.self.location){var s=Ut.self.location.protocol;r=s.substr(0,s.length-1)}i=!WY.test(r?r.toLowerCase():"")}e=i}if(e)ms(n,"complete"),ms(n,"success");else{n.m=6;try{var c=2<md(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",v2(n)}}finally{BT(n)}}}function BT(n,t){if(n.g){w2(n);const e=n.g,i=n.C[0]?yT:null;n.g=null,n.C=null,t||ms(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function w2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function md(n){return n.g?n.g.readyState:0}function C2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function AO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function QY(n){let t="";return ZR(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):bi(n,t,e))}function cw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function E2(n){this.za=0,this.l=[],this.h=new TT,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cw("baseRetryDelayMs",5e3,n),this.$a=cw("retryDelaySeedMs",1e4,n),this.Ya=cw("forwardChannelMaxRetries",2,n),this.ra=cw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new d2(n&&n.concurrentRequestLimit),this.Ca=new GY,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function xO(n){if(S2(n),3==n.G){var t=n.V++,e=pd(n.F);bi(e,"SID",n.J),bi(e,"RID",t),bi(e,"TYPE","terminate"),uw(n,e),(t=new ew(n,n.h,t,void 0)).K=2,t.v=NT(pd(e)),e=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(e=Ut.navigator.sendBeacon(t.v.toString(),"")),!e&&Ut.Image&&((new Image).src=t.v,e=!0),e||(t.g=O2(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tw(t)}k2(n)}function VT(n){n.g&&(OO(n),n.g.cancel(),n.g=null)}function S2(n){VT(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),HT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function kO(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&UT(n)}function UT(n){h2(n.i)||n.m||(n.m=!0,dO(n.Ha,n),n.C=0)}function D2(n,t){var e;e=t?t.m:n.V++;const i=pd(n.F);bi(i,"SID",n.J),bi(i,"RID",e),bi(i,"AID",n.U),uw(n,i),n.o&&n.s&&AO(i,n.o,n.s),e=new ew(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=T2(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),TO(n.i,e),wO(e,i,t)}function uw(n,t){n.j&&EO({},function(e,i){bi(t,i,e)})}function T2(n,t,e){e=Math.min(n.l.length,e);var i=n.j?fs(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let y=r[p].h;const C=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),d=!1;else try{zY(C,c,"req"+y+"_")}catch(D){i&&i(C)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function I2(n){n.g||n.u||(n.Y=1,dO(n.Ga,n),n.A=0)}function RO(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Jb(fs(n.Ga,n),x2(n,n.A)),n.A++,0))}function OO(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function M2(n){n.g=new ew(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=pd(n.oa);bi(t,"RID","rpc"),bi(t,"SID",n.J),bi(t,"CI",n.N?"0":"1"),bi(t,"AID",n.U),uw(n,t),bi(t,"TYPE","xmlhttp"),n.o&&n.s&&AO(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=NT(pd(t)),e.s=null,e.U=!0,e2(e,n)}function HT(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function A2(n,t){var e=null;if(n.g==t){HT(n),OO(n),n.g=null;var i=2}else{if(!DO(n.i,t))return;e=t.D,p2(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ms(i=IT(),new ZV(i,e,t,r)),UT(n)}else I2(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function JY(n,t){return!(f2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Jb(fs(n.Ha,n,t),x2(n,n.C)),n.C++,0)))}(n,t)||2==i&&RO(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Yp(n,5);break;case 4:Yp(n,10);break;case 3:Yp(n,6);break;default:Yp(n,2)}}function x2(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Yp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=fs(n.jb,n);e||(e=new Wp("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||RT(e,"https"),NT(e)),function $Y(n,t){const e=new TT;if(Ut.Image){const i=new Image;i.onload=vT(FT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=vT(FT,e,i,"TestLoadImage: error",!1,t),i.onabort=vT(FT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=vT(FT,e,i,"TestLoadImage: timeout",!1,t),Ut.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ho(2);n.G=0,n.j&&n.j.va(t),k2(n),S2(n)}function k2(n){n.G=0,n.I=-1,n.j&&((0!=m2(n.i).length||0!=n.l.length)&&(n.i.i.length=0,WR(n.l),n.l.length=0),n.j.ua())}function R2(n,t,e){let i=function OY(n){return n instanceof Wp?pd(n):new Wp(n,void 0)}(e);if(""!=i.i)t&&OT(i,t+"."+i.i),PT(i,i.m);else{const r=Ut.location;i=function PY(n,t,e,i){var r=new Wp(null,void 0);return n&&RT(r,n),t&&OT(r,t),e&&PT(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&ZR(n.aa,function(r,s){bi(i,s,r)}),e=n.sa,(t=n.D)&&e&&bi(i,t,e),bi(i,"VER",n.ma),uw(n,i),i}function O2(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new pr(e&&n.Ba&&!n.qa?new ow({ib:!0}):n.qa)).L=n.H,t}function P2(){}function jT(){if(T_&&!(10<=Number(dY)))throw Error("Environmental error: no available transport.")}function ga(n,t){qr.call(this),this.g=new E2(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!bT(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bT(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new x_(this)}function N2(n){_O.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function F2(){yO.call(this),this.status=1}function x_(n){this.g=n}(rt=pr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vO.g(),this.C=function QV(n){return n.h||(n.h=n.i())}(this.u?this.u:vO),this.g.onreadystatechange=fs(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void y2(this,s)}n=e||"";const r=new M_(this.headers);i&&EO(i,function(s,c){r.set(c,s)}),i=function sY(n){e:{var t=KY;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ut.FormData&&n instanceof Ut.FormData,!(0<=CV(YY,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{w2(this),0<this.B&&((this.K=function ZY(n){return T_&&function uY(){return function oY(n){var t=cY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=DV(String(wT)).split("."),e=DV("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=YR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||YR(0==r[2].length,0==s[2].length)||YR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.pa,this)):this.A=mO(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){y2(this,s)}},rt.pa=function(){void 0!==zR&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ms(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ms(this,"complete"),ms(this,"abort"),BT(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BT(this,!0)),pr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?b2(this):this.cb())},rt.cb=function(){b2(this)},rt.ba=function(){try{return 2<md(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),qY(t)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=E2.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new ew(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=MV(s),xV(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=T2(this,r,t),bi(e=pd(this.F),"RID",n),bi(e,"CVER",22),this.D&&bi(e,"X-HTTP-Session-Id",this.D),uw(this,e),this.o&&s&&AO(e,this.o,s),TO(this.i,r),this.Ra&&bi(e,"TYPE","init"),this.ja?(bi(e,"$req",t),bi(e,"SID","null"),r.$=!0,wO(r,e,null)):wO(r,e,t),this.G=2}}else 3==this.G&&(n?D2(this,n):0==this.l.length||h2(this.i)||D2(this))},rt.Ga=function(){if(this.u=null,M2(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Jb(fs(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ho(10),VT(this),M2(this))},rt.ab=function(){null!=this.v&&(this.v=null,VT(this),RO(this),ho(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ho(2)):(this.h.info("Failed to ping google.com"),ho(1))},(rt=P2.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},jT.prototype.g=function(n,t){return new ga(n,t)},ps(ga,qr),ga.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),dO(fs(n.hb,n,t))),ho(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=R2(n,null,n.W),UT(n)},ga.prototype.close=function(){xO(this.g)},ga.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,kO(this.g,t)}else this.v?((t={}).__data__=uO(n),kO(this.g,t)):kO(this.g,n)},ga.prototype.M=function(){this.g.j=null,delete this.j,xO(this.g),delete this.g,ga.Z.M.call(this)},ps(N2,_O),ps(F2,yO),ps(x_,P2),x_.prototype.xa=function(){ms(this.g,"a")},x_.prototype.wa=function(n){ms(this.g,new N2(n))},x_.prototype.va=function(n){ms(this.g,new F2(n))},x_.prototype.ua=function(){ms(this.g,"b")},jT.prototype.createWebChannel=jT.prototype.g,ga.prototype.send=ga.prototype.u,ga.prototype.open=ga.prototype.m,ga.prototype.close=ga.prototype.close,MT.NO_ERROR=0,MT.TIMEOUT=8,MT.HTTP_ERROR=6,KV.COMPLETE="complete",JV.EventType=Xb,Xb.OPEN="a",Xb.CLOSE="b",Xb.ERROR="c",Xb.MESSAGE="d",qr.prototype.listen=qr.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var XY=fd.createWebChannelTransport=function(){return new jT},e8=fd.getStatEventTarget=function(){return IT()},PO=fd.ErrorCode=MT,t8=fd.EventType=KV,n8=fd.Event=zp,L2=fd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},i8=fd.FetchXmlHttpFactory=ow,GT=fd.WebChannel=JV,r8=fd.XhrIo=pr;const B2="@firebase/firestore";class Wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let k_="9.9.0";const $h=new Gl.Yd("@firebase/firestore");function NO(){return $h.logLevel}function Fe(n,...t){if($h.logLevel<=Gl.in.DEBUG){const e=t.map(FO);$h.debug(`Firestore (${k_}): ${n}`,...e)}}function mr(n,...t){if($h.logLevel<=Gl.in.ERROR){const e=t.map(FO);$h.error(`Firestore (${k_}): ${n}`,...e)}}function dw(n,...t){if($h.logLevel<=Gl.in.WARN){const e=t.map(FO);$h.warn(`Firestore (${k_}): ${n}`,...e)}}function FO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function at(n="Unexpected state"){const t=`FIRESTORE (${k_}) INTERNAL ASSERTION FAILED: `+n;throw mr(t),new Error(t)}function Ot(n,t){n||at()}function Qe(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends F.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class V2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class a8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Wr.UNAUTHENTICATED))}shutdown(){}}class l8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class c8{constructor(t){this.t=t,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,Ce.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new V2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new Wr(t)}}class u8{constructor(t,e,i){this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class d8{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new u8(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h8{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),this.p=e.token,new U2(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function f8(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class H2{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=f8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Wt(n,t){return n<t?-1:n>t?1:0}function R_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function j2(n){return n+"\0"}class wi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wi.fromMillis(Date.now())}static fromDate(t){return wi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new wi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new wi(0,0))}static max(){return new xt(new wi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hw{constructor(t,e,i){void 0===e?e=0:e>t.length&&at(),void 0===i?i=t.length-e:i>t.length-e&&at(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===hw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bn extends hw{construct(t,e,i){return new bn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new bn(e)}static emptyPath(){return new bn([])}}const p8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends hw{construct(t,e,i){return new ar(t,e,i)}static isValidIdentifier(t){return p8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new xe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new xe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new xe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new xe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ar(e)}static emptyPath(){return new ar([])}}class Ye{constructor(t){this.path=t}static fromPath(t){return new Ye(bn.fromString(t))}static fromName(t){return new Ye(bn.fromString(t).popFirst(5))}static empty(){return new Ye(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ye(new bn(t.slice()))}}class zT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function LO(n){return n.fields.find(t=>2===t.kind)}function Zp(n){return n.fields.filter(t=>2!==t.kind)}zT.UNKNOWN_ID=-1;class $T{constructor(t,e){this.fieldPath=t,this.kind=e}}class fw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new fw(0,_a.min())}}function G2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new wi(e+1,0):new wi(e,i));return new _a(r,Ye.empty(),t)}function z2(n){return new _a(n.readTime,n.key,-1)}class _a{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new _a(xt.min(),Ye.empty(),-1)}static max(){return new _a(xt.max(),Ye.empty(),-1)}}function BO(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ye.comparator(n.documentKey,t.documentKey),0!==e?e:Wt(n.largestBatchId,t.largestBatchId))}const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function qh(n){return VO.apply(this,arguments)}function VO(){return VO=(0,Ce.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==$2)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),VO.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(r=>r?fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const y=p;e(t[y]).next(C=>{c[y]=C,++d,d===s&&i(c)},C=>r(C))}})}static doWhile(t,e){return new fe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class qT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Yr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new pw(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=UO(i.target.error);this.T.reject(new pw(t,r))}}static open(t,e,i,r){try{return new qT(e,t.transaction(r,i))}catch(s){throw new pw(e,s)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new g8(e)}}class $l{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===$l.v((0,F.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),Kp(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,F.hl)())return!1;if($l.S())return!0;const t=(0,F.z$)(),e=$l.v(t),i=0<e&&e<10,r=$l.D(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static S(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,Ce.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new pw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new xe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new xe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new pw(t,d))},s.onupgradeneeded=c=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.P.O(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ce.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.k(t);const p=qT.open(s.db,t,c?"readonly":"readwrite",i),y=r(p).next(C=>(p.R(),C)).catch(C=>(p.abort(C),fe.reject(C))).toPromise();return y.catch(()=>{}),yield p.A,y}catch(p){const y=p,C="FirebaseError"!==y.name&&d<3;if(Fe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),s.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class m8{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return Kp(this.$.delete())}}class pw extends xe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Wh(n){return"IndexedDbTransactionError"===n.name}class g8{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Kp(i)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),Kp(this.store.add(t))}get(t){return Kp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),Kp(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),Kp(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new fe((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(s,c,d)=>d.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new fe((i,r)=>{e.onerror=s=>{const c=UO(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}G(t,e){const i=[];return new fe((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new m8(d),y=e(d.primaryKey,d.value,p);if(y instanceof fe){const C=y.catch(D=>(p.done(),fe.reject(D)));i.push(C)}p.isDone?r():null===p.U?d.continue():d.continue(p.U)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Kp(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=UO(i.target.error);e(r)}})}let W2=!1;function UO(n){const t=$l.v((0,F.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W2||(W2=!0,setTimeout(()=>{throw i},0)),i}}return n}class _8{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Fe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ce.Z)(function*(){e.task=null;try{Fe("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){Wh(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qh(i)}yield e.Z(1)}))}}class y8{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,Ce.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,s=!0;return fe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Fe("IndexBackiller",`Processing collection: ${c}`),this.nt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.st(r,s)).next(d=>(Fe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}st(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=z2(s);BO(c,i)>0&&(i=c)}),new _a(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class zo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function Y2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Qp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Z2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}zo.ot=-1;class qi{constructor(t,e){this.comparator=t,this.root=e||gs.EMPTY}insert(t,e){return new qi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(t){return new qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new WT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new WT(this.root,t,this.comparator,!1)}getReverseIterator(){return new WT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new WT(this.root,t,this.comparator,!0)}}class WT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gs{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:gs.RED,this.left=null!=r?r:gs.EMPTY,this.right=null!=s?s:gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new gs(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return gs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,t,e,i,r){return this}insert(n,t,e){return new gs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(t){this.comparator=t,this.data=new qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new K2(this.data.getIterator())}getIteratorFrom(t){return new K2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof qn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new qn(this.comparator);return e.data=t,e}}class K2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function O_(n){return n.hasNext()?n.getNext():void 0}class ya{constructor(t){this.fields=t,t.sort(ar.comparator)}static empty(){return new ya([])}unionWith(t){let e=new qn(ar.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ya(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return R_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Nr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Nr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Nr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const b8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yh(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=b8.exec(n);if(Ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jp(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function HO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Q2(n){const t=n.mapValue.fields.__previous_value__;return HO(t)?Q2(t):t}function mw(n){const t=Yh(n.mapValue.fields.__local_write_time__.timestampValue);return new wi(t.seconds,t.nanos)}class w8{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class gd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof gd&&t.projectId===this.projectId&&t.database===this.database}}function gw(n){return null==n}function _w(n){return 0===n&&1/n==-1/0}function J2(n){return"number"==typeof n&&Number.isInteger(n)&&!_w(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},YT={nullValue:"NULL_VALUE"};function Xp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HO(n)?4:nU(n)?9007199254740991:10:at()}function Lc(n,t){if(n===t)return!0;const e=Xp(n);if(e!==Xp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mw(n).isEqual(mw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Yh(i.timestampValue),c=Yh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Jp(n.bytesValue).isEqual(Jp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Wi(i.geoPointValue.latitude)===Wi(r.geoPointValue.latitude)&&Wi(i.geoPointValue.longitude)===Wi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wi(i.integerValue)===Wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Wi(i.doubleValue),c=Wi(r.doubleValue);return s===c?_w(s)===_w(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return R_(n.arrayValue.values||[],t.arrayValue.values||[],Lc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Y2(s)!==Y2(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Lc(s[d],c[d])))return!1;return!0}(n,t);default:return at()}var r}function yw(n,t){return void 0!==(n.values||[]).find(e=>Lc(e,t))}function Kh(n,t){if(n===t)return 0;const e=Xp(n),i=Xp(t);if(e!==i)return Wt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=Wi(r.integerValue||r.doubleValue),d=Wi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return X2(n.timestampValue,t.timestampValue);case 4:return X2(mw(n),mw(t));case 5:return Wt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Jp(r),d=Jp(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=Wt(c[p],d[p]);if(0!==y)return y}return Wt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=Wt(Wi(r.latitude),Wi(s.latitude));return 0!==c?c:Wt(Wi(r.longitude),Wi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const y=Kh(c[p],d[p]);if(y)return y}return Wt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Zh.mapValue&&s===Zh.mapValue)return 0;if(r===Zh.mapValue)return 1;if(s===Zh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let C=0;C<d.length&&C<y.length;++C){const D=Wt(d[C],y[C]);if(0!==D)return D;const x=Kh(c[d[C]],p[y[C]]);if(0!==x)return x}return Wt(d.length,y.length)}(n.mapValue,t.mapValue);default:throw at()}}function X2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Wt(n,t);const e=Yh(n),i=Yh(t),r=Wt(e.seconds,i.seconds);return 0!==r?r:Wt(e.nanos,i.nanos)}function P_(n){return jO(n)}function jO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Yh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jp(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=jO(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${jO(i.fields[d])}`;return s+"}"}(n.mapValue):at();var t}function em(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function GO(n){return!!n&&"integerValue"in n}function vw(n){return!!n&&"arrayValue"in n}function eU(n){return!!n&&"nullValue"in n}function tU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ZT(n){return!!n&&"mapValue"in n}function bw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Qp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=bw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function nU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function C8(n){return"nullValue"in n?YT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?em(gd.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function E8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?em(gd.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zh:at()}function iU(n,t){const e=Kh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function rU(n,t){const e=Kh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class _s{constructor(t){this.value=t}static empty(){return new _s({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ZT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bw(e)}setAll(t){let e=ar.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=bw(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());ZT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Lc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ZT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Qp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new _s(bw(this.value))}}function sU(n){const t=[];return Qp(n.fields,(e,i)=>{const r=new ar([e]);if(ZT(i)){const s=sU(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new ya(t)}class ni{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new ni(t,0,xt.min(),xt.min(),_s.empty(),0)}static newFoundDocument(t,e,i){return new ni(t,1,e,xt.min(),i,0)}static newNoDocument(t,e){return new ni(t,2,e,xt.min(),_s.empty(),0)}static newUnknownDocument(t,e){return new ni(t,3,e,xt.min(),_s.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class S8{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ut=null}}function oU(n,t=null,e=[],i=[],r=null,s=null,c=null){return new S8(n,t,e,i,r,s,c)}function tm(n){const t=Qe(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+P_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>P_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>P_(i)).join(",")),t.ut=e}return t.ut}function ww(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!O8(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Lc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dU(n.startAt,t.startAt)&&dU(n.endAt,t.endAt)}function KT(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function QT(n,t){return n.filters.filter(e=>e instanceof ys&&e.field.isEqual(t))}function aU(n,t,e){let i=YT,r=!0;for(const s of QT(n,t)){let c=YT,d=!0;switch(s.op){case"<":case"<=":c=C8(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=YT}iU({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];iU({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function lU(n,t,e){let i=Zh,r=!0;for(const s of QT(n,t)){let c=Zh,d=!0;switch(s.op){case">=":case">":c=E8(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Zh}rU({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];rU({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class ys extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new T8(t,e,i):"array-contains"===e?new A8(t,i):"in"===e?new x8(t,i):"not-in"===e?new k8(t,i):"array-contains-any"===e?new R8(t,i):new ys(t,e,i)}static ct(t,e,i){return"in"===e?new I8(t,i):new M8(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Kh(e,this.value)):null!==e&&Xp(this.value)===Xp(e)&&this.at(Kh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return at()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class T8 extends ys{constructor(t,e,i){super(t,e,i),this.key=Ye.fromName(i.referenceValue)}matches(t){const e=Ye.comparator(t.key,this.key);return this.at(e)}}class I8 extends ys{constructor(t,e){super(t,"in",e),this.keys=cU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class M8 extends ys{constructor(t,e){super(t,"not-in",e),this.keys=cU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function cU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class A8 extends ys{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vw(e)&&yw(e.arrayValue,this.value)}}class x8 extends ys{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&yw(this.value.arrayValue,e)}}class k8 extends ys{constructor(t,e){super(t,"not-in",e)}matches(t){if(yw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!yw(this.value.arrayValue,e)}}class R8 extends ys{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>yw(this.value.arrayValue,i))}}class Qh{constructor(t,e){this.position=t,this.inclusive=e}}class N_{constructor(t,e="asc"){this.field=t,this.dir=e}}function O8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function uU(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),e.key):Kh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function dU(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Lc(n.position[e],t.position[e]))return!1;return!0}class _d{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.lt=null,this.ft=null}}function hU(n,t,e,i,r,s,c,d){return new _d(n,t,e,i,r,s,c,d)}function F_(n){return new _d(n)}function zO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $O(n){for(const t of n.filters)if(t.ht())return t.field;return null}function qO(n){return null!==n.collectionGroup}function L_(n){const t=Qe(n);if(null===t.lt){t.lt=[];const e=$O(t),i=zO(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new N_(e)),t.lt.push(new N_(ar.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new N_(ar.keyField(),s))}}}return t.lt}function Qa(n){const t=Qe(n);if(!t.ft)if("F"===t.limitType)t.ft=oU(t.path,t.collectionGroup,L_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of L_(t))e.push(new N_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;t.ft=oU(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function fU(n,t,e){return new _d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cw(n,t){return ww(Qa(n),Qa(t))&&n.limitType===t.limitType}function pU(n){return`${tm(Qa(n))}|lt:${n.limitType}`}function WO(n){return`Query(target=${function D8(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${P_(i.value)}`;var i}).join(", ")}]`),gw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>P_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>P_(e)).join(",")),`Target(${t})`}(Qa(n))}; limitType=${n.limitType})`}function YO(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ye.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=uU(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,L_(e),i)||e.endAt&&!function(r,s,c){const d=uU(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,L_(e),i)));var e,i}function mU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gU(n){return(t,e)=>{let i=!1;for(const r of L_(n)){const s=N8(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function N8(n,t,e){const i=n.field.isKeyField()?Ye.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Kh(d,p):at()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}function _U(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_w(t)?"-0":t}}function yU(n){return{integerValue:""+n}}function vU(n,t){return J2(t)?yU(t):_U(n,t)}class JT{constructor(){this._=void 0}}function F8(n,t,e){return n instanceof B_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof nm?wU(n,t):n instanceof im?CU(n,t):function(i,r){const s=bU(i,r),c=EU(s)+EU(i._t);return GO(s)&&GO(i._t)?yU(c):_U(i.wt,c)}(n,t)}function L8(n,t,e){return n instanceof nm?wU(n,t):n instanceof im?CU(n,t):e}function bU(n,t){return n instanceof V_?GO(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class B_ extends JT{}class nm extends JT{constructor(t){super(),this.elements=t}}function wU(n,t){const e=SU(t);for(const i of n.elements)e.some(r=>Lc(r,i))||e.push(i);return{arrayValue:{values:e}}}class im extends JT{constructor(t){super(),this.elements=t}}function CU(n,t){let e=SU(t);for(const i of n.elements)e=e.filter(r=>!Lc(r,i));return{arrayValue:{values:e}}}class V_ extends JT{constructor(t,e){super(),this.wt=t,this._t=e}}function EU(n){return Wi(n.integerValue||n.doubleValue)}function SU(n){return vw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ew{constructor(t,e){this.field=t,this.transform=e}}class V8{constructor(t,e){this.version=t,this.transformResults=e}}class xi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function XT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class eI{}function DU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new H_(n.key,xi.none()):new U_(n.key,n.data,xi.none());{const e=n.data,i=_s.empty();let r=new qn(ar.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new yd(n.key,i,new ya(r.toArray()),xi.none())}}function U8(n,t,e){n instanceof U_?function(i,r,s){const c=i.value.clone(),d=MU(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof yd?function(i,r,s){if(!XT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=MU(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(IU(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Sw(n,t,e,i){return n instanceof U_?function(r,s,c,d){if(!XT(r.precondition,s))return c;const p=r.value.clone(),y=AU(r.fieldTransforms,d,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof yd?function(r,s,c,d){if(!XT(r.precondition,s))return c;const p=AU(r.fieldTransforms,d,s),y=s.data;return y.setAll(IU(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,t,e,i):(c=e,XT(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function H8(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=bU(i.transform,r||null);null!=s&&(null===e&&(e=_s.empty()),e.set(i.field,s))}return e||null}function TU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&R_(e,i,(r,s)=>function B8(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof nm&&i instanceof nm||e instanceof im&&i instanceof im?R_(e.elements,i.elements,Lc):e instanceof V_&&i instanceof V_?Lc(e._t,i._t):e instanceof B_&&i instanceof B_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class U_ extends eI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yd extends eI{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function MU(n,t,e){const i=new Map;Ot(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,L8(c,d,e[r]))}return i}function AU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,F8(s,c,t))}return i}class H_ extends eI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends eI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j8{constructor(t){this.count=t}}var gr,wn;function xU(n){switch(n){default:return at();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function kU(n){if(void 0===n)return mr("GRPC error has no .code"),me.UNKNOWN;switch(n){case gr.OK:return me.OK;case gr.CANCELLED:return me.CANCELLED;case gr.UNKNOWN:return me.UNKNOWN;case gr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case gr.INTERNAL:return me.INTERNAL;case gr.UNAVAILABLE:return me.UNAVAILABLE;case gr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case gr.NOT_FOUND:return me.NOT_FOUND;case gr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case gr.ABORTED:return me.ABORTED;case gr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case gr.DATA_LOSS:return me.DATA_LOSS;default:return at()}}(wn=gr||(gr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class Jh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Qp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Z2(this.inner)}size(){return this.innerSize}}const G8=new qi(Ye.comparator);function $o(){return G8}const RU=new qi(Ye.comparator);function Dw(...n){let t=RU;for(const e of n)t=t.insert(e.key,e);return t}function OU(n){let t=RU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Bc(){return Tw()}function PU(){return Tw()}function Tw(){return new Jh(n=>n.toString(),(n,t)=>n.isEqual(t))}const z8=new qi(Ye.comparator),$8=new qn(Ye.comparator);function Kt(...n){let t=$8;for(const e of n)t=t.add(e);return t}const q8=new qn(Wt);function tI(){return q8}class Iw{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Mw.createSynthesizedTargetChangeForCurrentChange(t,e)),new Iw(xt.min(),i,tI(),$o(),Kt())}}class Mw{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Mw(Nr.EMPTY_BYTE_STRING,e,Kt(),Kt(),Kt())}}class nI{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class NU{constructor(t,e){this.targetId=t,this.It=e}}class FU{constructor(t,e,i=Nr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class LU{constructor(){this.Tt=0,this.Et=VU(),this.At=Nr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Kt(),e=Kt(),i=Kt();return this.Et.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:at()}}),new Mw(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=VU()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class W8{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=$o(),this.Bt=BU(),this.Lt=new qn(Wt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:at()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const s=r.target;if(KT(s))if(0===i){const c=new Ye(s.path);this.Kt(e,c,ni.newNoDocument(c,xt.min()))}else Ot(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((s,c)=>{const d=this.Ht(c);if(d){if(s.current&&KT(d.target)){const p=new Ye(d.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,ni.newNoDocument(p,t))}s.vt&&(e.set(c,s.St()),s.Dt())}});let i=Kt();this.Bt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ht(p);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(t));const r=new Iw(t,e,this.Lt,this.$t,i);return this.$t=$o(),this.Bt=BU(),this.Lt=new qn(Wt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new LU,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new qn(Wt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new LU),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function BU(){return new qi(Ye.comparator)}function VU(){return new qi(Ye.comparator)}const Y8={asc:"ASCENDING",desc:"DESCENDING"},Z8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class K8{constructor(t,e){this.databaseId=t,this.dt=e}}function Aw(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UU(n,t){return n.dt?t.toBase64():t.toUint8Array()}function Q8(n,t){return Aw(n,t.toTimestamp())}function Zr(n){return Ot(!!n),xt.fromTimestamp(function(t){const e=Yh(t);return new wi(e.seconds,e.nanos)}(n))}function KO(n,t){return(e=n,new bn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function HU(n){const t=bn.fromString(n);return Ot(KU(t)),t}function xw(n,t){return KO(n.databaseId,t.path)}function Vc(n,t){const e=HU(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ye(GU(e))}function QO(n,t){return KO(n.databaseId,t)}function jU(n){const t=HU(n);return 4===t.length?bn.emptyPath():GU(t)}function kw(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GU(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zU(n,t,e){return{name:xw(n,t),fields:e.value.mapValue.fields}}function $U(n,t,e){const i=Vc(n,t.name),r=Zr(t.updateTime),s=new _s({mapValue:{fields:t.fields}}),c=ni.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function Rw(n,t){let e;if(t instanceof U_)e={update:zU(n,t.key,t.value)};else if(t instanceof H_)e={delete:xw(n,t.key)};else if(t instanceof yd)e={update:zU(n,t.key,t.data),updateMask:o4(t.fieldMask)};else{if(!(t instanceof ZO))return at();e={verify:xw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof B_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof im)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof V_)return{fieldPath:s.field.canonicalString(),increment:c._t};throw at()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Q8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),e;var r}function JO(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?xi.updateTime(Zr(r.updateTime)):void 0!==r.exists?xi.exists(r.exists):xi.none():xi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Ot("REQUEST_TIME"===c.setToServerValue),d=new B_):"appendMissingElements"in c?d=new nm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new im(c.removeAllFromArray.values||[]):"increment"in c?d=new V_(s,c.increment):at();const p=ar.fromServerFormat(c.fieldPath);return new Ew(p,d)}(n,r)):[];var r;if(t.update){const r=Vc(n,t.update.name),s=new _s({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new ya((t.updateMask.fieldPaths||[]).map(y=>ar.fromServerFormat(y)));return new yd(r,s,c,e,i)}return new U_(r,s,e,i)}if(t.delete){const r=Vc(n,t.delete);return new H_(r,e)}if(t.verify){const r=Vc(n,t.verify);return new ZO(r,e)}return at()}function qU(n,t){return{documents:[QO(n,t.path)]}}function WU(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=QO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=QO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(D){if("=="===D.op){if(tU(D.value))return{unaryFilter:{field:j_(D.field),op:"IS_NAN"}};if(eU(D.value))return{unaryFilter:{field:j_(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(tU(D.value))return{unaryFilter:{field:j_(D.field),op:"IS_NOT_NAN"}};if(eU(D.value))return{unaryFilter:{field:j_(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:j_(D.field),op:i4(D.op),value:D.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:j_((C=y).field),direction:n4(C.dir)};var C})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(y=t.limit,n.dt||gw(y)?y:{value:y});var y,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function YU(n){let t=jU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ot(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let s=[];e.where&&(s=ZU(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(C=>{return new N_(G_((D=C).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;e.limit&&(d=function(C){let D;return D="object"==typeof C?C.value:C,gw(D)?null:D}(e.limit));let p=null;var C;e.startAt&&(p=new Qh((C=e.startAt).values||[],!!C.before));let y=null;return e.endAt&&(y=function(C){return new Qh(C.values||[],!C.before)}(e.endAt)),hU(t,r,c,s,d,"F",p,y)}function ZU(n){return n?void 0!==n.unaryFilter?[s4(n)]:void 0!==n.fieldFilter?[r4(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>ZU(t)).reduce((t,e)=>t.concat(e)):at():[]}function n4(n){return Y8[n]}function i4(n){return Z8[n]}function j_(n){return{fieldPath:n.canonicalString()}}function G_(n){return ar.fromServerFormat(n.fieldPath)}function r4(n){return ys.create(G_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function s4(n){switch(n.unaryFilter.op){case"IS_NAN":const t=G_(n.unaryFilter.field);return ys.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=G_(n.unaryFilter.field);return ys.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=G_(n.unaryFilter.field);return ys.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=G_(n.unaryFilter.field);return ys.create(r,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function o4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function KU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function fo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=QU(t)),t=a4(n.get(e),t);return QU(t)}function a4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function QU(n){return n+"\x01\x01"}function Uc(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&at(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:at()}s=c+2}return new bn(i)}const JU=["userId","batchId"];function iI(n,t){return[n,fo(t)]}function XU(n,t,e){return[n,fo(t),e]}const l4={},c4=["prefixPath","collectionGroup","readTime","documentId"],u4=["prefixPath","collectionGroup","documentId"],d4=["collectionGroup","readTime","prefixPath","documentId"],h4=["canonicalId","targetId"],f4=["targetId","path"],p4=["path","targetId"],m4=["collectionId","parent"],g4=["indexId","uid"],_4=["uid","sequenceNumber"],y4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],v4=["indexId","uid","orderedDocumentKey"],b4=["userId","collectionPath","documentId"],w4=["userId","collectionPath","largestBatchId"],C4=["userId","collectionGroup","largestBatchId"],eH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],E4=[...eH,"documentOverlays"],tH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nH=tH,S4=[...nH,"indexConfiguration","indexState","indexEntries"];class XO extends q2{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Kr(n,t){const e=Qe(n);return $l.N(e.ee,t)}class eP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&U8(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Sw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Sw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=PU();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=DU(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Kt())}isEqual(t){return this.batchId===t.batchId&&R_(this.mutations,t.mutations,(e,i)=>TU(e,i))&&R_(this.baseMutations,t.baseMutations,(e,i)=>TU(e,i))}}class tP{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ot(t.mutations.length===i.length);let r=z8;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new tP(t,e,i,r)}}class nP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xh{constructor(t,e,i,r,s=xt.min(),c=xt.min(),d=Nr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Xh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class iH{constructor(t){this.ne=t}}function rH(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:rI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:xw(r=n.ne,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Aw(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:rm(t.version)};else{if(!t.isUnknownDocument())return at();i.unknownDocument={path:e.path.toArray(),version:rm(t.version)}}var r,s;return i}function rI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function rm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sm(n){const t=new wi(n.seconds,n.nanoseconds);return xt.fromTimestamp(t)}function om(n,t){const e=(t.baseMutations||[]).map(s=>JO(n.ne,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>JO(n.ne,s)),r=wi.fromMillis(t.localWriteTimeMs);return new eP(t.batchId,r,e,i)}function Ow(n){const t=sm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?sm(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Qa(F_(jU(r.documents[0])))):i=Qa(YU(n.query)),new Xh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Nr.fromBase64String(n.resumeToken))}function sH(n,t){const e=rm(t.snapshotVersion),i=rm(t.lastLimboFreeSnapshotVersion);let r;r=KT(t.target)?qU(n.ne,t.target):WU(n.ne,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tm(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function iP(n){const t=YU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fU(t,t.limit,"L"):t}function rP(n,t){return new nP(t.largestBatchId,JO(n.ne,t.overlayMutation))}function oH(n,t){const e=t.path.lastSegment();return[n,fo(t.path.popLast()),e]}function aH(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:rm(i.readTime),documentKey:fo(i.documentKey.path),largestBatchId:i.largestBatchId}}class T4{getBundleMetadata(t,e){return lH(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:sm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return lH(t).put({bundleId:(i=e).id,createTime:rm(Zr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return cH(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:iP(r.bundledQuery),readTime:sm(r.readTime)};var r})}saveNamedQuery(t,e){return cH(t).put({name:(i=e).name,readTime:rm(Zr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function lH(n){return Kr(n,"bundles")}function cH(n){return Kr(n,"namedQueries")}class sI{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new sI(t,e.uid||"")}getOverlay(t,e){return Pw(t).get(oH(this.userId,e)).next(i=>i?rP(this.wt,i):null)}getOverlays(t,e){const i=Bc();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new nP(e,c);r.push(this.ie(t,d))}),fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(fo(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(Pw(t).W("collectionPathOverlayIndex",d))}),fe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Bc(),s=fo(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Pw(t).K("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const y=rP(this.wt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Bc();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Pw(t).J({index:"collectionGroupOverlayIndex",range:d},(p,y,C)=>{const D=rP(this.wt,y);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):C.done()}).next(()=>s)}ie(t,e){return Pw(t).put(function(i,r,s){const[c,d,p]=oH(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Rw(i.ne,s.mutation)}}(this.wt,this.userId,e))}}function Pw(n){return Kr(n,"documentOverlays")}class am{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Wi(t.integerValue));else if("doubleValue"in t){const i=Wi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),_w(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Jp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?nU(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):at()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Ye.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function I4(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function uH(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=I4(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}am.ye=new am;class M4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=uH(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=uH(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class A4{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class x4{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class Nw{constructor(){this.Me=new M4,this.Fe=new A4(this.Me),this.$e=new x4(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class lm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new lm(this.indexId,this.documentKey,this.arrayValue,i)}}function cm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=dH(n.arrayValue,t.arrayValue),0!==e?e:(e=dH(n.directionalValue,t.directionalValue),0!==e?e:Ye.comparator(n.documentKey,t.documentKey)))}function dH(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class k4{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=LO(t);if(void 0!==e&&!this.Qe(e))return!1;const i=Zp(t);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],c))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class R4{constructor(){this.ze=new sP}addToCollectionParentIndex(t,e){return this.ze.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(_a.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(_a.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class sP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new qn(bn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new qn(bn.comparator)).toArray()}}const oI=new Uint8Array(0);class O4{constructor(t,e){this.user=t,this.databaseId=e,this.He=new sP,this.Je=new Jh(i=>tm(i),(i,r)=>ww(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const s={collectionId:i,parent:fo(r)};return hH(t).put(s)}return fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[j2(e),""],!1,!0);return hH(t).K(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Uc(c.parent))}return i})}addFieldIndex(t,e){const i=aI(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=Lw(t);return s.next(d=>{c.put(aH(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=aI(t),r=Lw(t),s=Fw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Fw(t);let r=!0;const s=new Map;return fe.forEach(this.Ye(e),c=>this.Xe(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Kt();const d=[];return fe.forEach(s,(p,y)=>{var C;Fe("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Ve=>`${Ve.fieldPath}:${Ve.kind}`).join(",")}`} to execute ${tm(e)}`);const D=function(Ve,He){const Tt=LO(He);if(void 0===Tt)return null;for(const kt of QT(Ve,Tt.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(y,p),x=function(Ve,He){const Tt=new Map;for(const kt of Zp(He))for(const pn of QT(Ve,kt.fieldPath))switch(pn.op){case"==":case"in":Tt.set(kt.fieldPath.canonicalString(),pn.value);break;case"not-in":case"!=":return Tt.set(kt.fieldPath.canonicalString(),pn.value),Array.from(Tt.values())}return null}(y,p),P=function(Ve,He){const Tt=[];let kt=!0;for(const pn of Zp(He)){const lr=0===pn.kind?aU(Ve,pn.fieldPath,Ve.startAt):lU(Ve,pn.fieldPath,Ve.startAt);Tt.push(lr.value),kt&&(kt=lr.inclusive)}return new Qh(Tt,kt)}(y,p),B=function(Ve,He){const Tt=[];let kt=!0;for(const pn of Zp(He)){const lr=0===pn.kind?lU(Ve,pn.fieldPath,Ve.endAt):aU(Ve,pn.fieldPath,Ve.endAt);Tt.push(lr.value),kt&&(kt=lr.inclusive)}return new Qh(Tt,kt)}(y,p),ee=this.Ze(p,y,P),ue=this.Ze(p,y,B),ke=this.tn(p,y,x),Ue=this.en(p.indexId,D,ee,P.inclusive,ue,B.inclusive,ke);return fe.forEach(Ue,Ve=>i.j(Ve,e.limit).next(He=>{He.forEach(Tt=>{const kt=Ye.fromSegments(Tt.documentKey);c.has(kt)||(c=c.add(kt),d.push(kt))})}))}).next(()=>d)}return fe.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),y=p/(null!=e?e.length:1),C=[];for(let D=0;D<p;++D){const x=e?this.nn(e[D/y]):oI,P=this.sn(t,x,i[D%y],r),B=this.rn(t,x,s[D%y],c),ee=d.map(ue=>this.sn(t,x,ue,!0));C.push(...this.createRange(P,B,ee))}return C}sn(t,e,i,r){const s=new lm(t,Ye.empty(),e,i);return r?s:s.Le()}rn(t,e,i,r){const s=new lm(t,Ye.empty(),e,i);return r?s.Le():s}Xe(t,e){const i=new k4(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.Ge(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return fe.forEach(this.Ye(e),r=>this.Xe(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new qn(ar.comparator),p=!1;for(const y of c.filters){const C=y;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:d=d.add(C.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new Nw;for(const r of Zp(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.Be(r.kind);am.ye.re(s,c)}return i.Oe()}nn(t){const e=new Nw;return am.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new Nw;return am.ye.re(em(this.databaseId,e),i.Be(function(r){const s=Zp(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new Nw);let s=0;for(const c of Zp(t)){const d=i[s++];for(const p of r)if(this.cn(e,c.fieldPath)&&vw(d))r=this.an(r,c,d);else{const y=p.Be(c.kind);am.ye.re(d,y)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new Nw;p.seed(d.Oe()),am.ye.re(c,p.Be(e.kind)),s.push(p)}return s}cn(t,e){return!!t.filters.find(i=>i instanceof ys&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=aI(t),r=Lw(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(s=>{const c=[];return fe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(y,C){const D=C?new fw(C.sequenceNumber,new _a(sm(C.readTime),new Ye(Uc(C.documentKey)),C.largestBatchId)):fw.empty(),x=y.fields.map(([P,B])=>new $T(ar.fromServerFormat(P),B));return new zT(y.indexId,y.collectionGroup,x,D)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Wt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=aI(t),s=Lw(t);return this.ln(t).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>fe.forEach(d,p=>s.put(aH(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),fe.forEach(d,p=>this.fn(t,r,p).next(y=>{const C=this.dn(s,p);return y.isEqual(C)?fe.resolve():this._n(t,s,p,y,C)}))))})}wn(t,e,i,r){return Fw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return Fw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=Fw(t);let s=new qn(cm);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(c,d)=>{s=s.add(new lm(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}dn(t,e){let i=new qn(cm);const r=this.on(e,t);if(null==r)return i;const s=LO(e);if(null!=s){const c=t.data.field(s.fieldPath);if(vw(c))for(const d of c.arrayValue.values||[])i=i.add(new lm(e.indexId,t.key,this.nn(d),r))}else i=i.add(new lm(e.indexId,t.key,oI,r));return i}_n(t,e,i,r,s){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,y,C,D){const x=d.getIterator(),P=p.getIterator();let B=O_(x),ee=O_(P);for(;B||ee;){let ue=!1,ke=!1;if(B&&ee){const Ue=y(B,ee);Ue<0?ke=!0:Ue>0&&(ue=!0)}else null!=B?ke=!0:ue=!0;ue?(C(ee),ee=O_(P)):ke?(D(B),B=O_(x)):(B=O_(x),ee=O_(P))}}(r,s,cm,d=>{c.push(this.wn(t,e,i,d))},d=>{c.push(this.mn(t,e,i,d))}),fe.waitFor(c)}ln(t){let e=1;return Lw(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>cm(c,d)).filter((c,d,p)=>!d||0!==cm(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=cm(c,t),p=cm(c,e);if(0===d)r[0]=t.Le();else if(d>0&&p<0)r.push(c),r.push(c.Le());else if(p>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,oI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,oI,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(fH)}getMinOffset(t,e){return fe.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||at())).next(fH)}}function hH(n){return Kr(n,"collectionParents")}function Fw(n){return Kr(n,"indexEntries")}function aI(n){return Kr(n,"indexConfiguration")}function Lw(n){return Kr(n,"indexState")}function fH(n){Ot(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;BO(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new _a(t.readTime,t.documentKey,e)}const pH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new qo(t,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.J({range:c},(C,D,x)=>(d++,x.delete()));s.push(p.next(()=>{Ot(1===d)}));const y=[];for(const C of e.mutations){const D=XU(t,C.key.path,e.batchId);s.push(r.delete(D)),y.push(C.key)}return fe.waitFor(s).next(()=>y)}function lI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw at();t=n.noDocument}return JSON.stringify(t).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class cI{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){Ot(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new cI(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ef(t).J({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=z_(t),c=ef(t);return c.add({}).next(d=>{Ot("number"==typeof d);const p=new eP(d,e,i,r),y=function(x,P,B){const ee=B.baseMutations.map(ke=>Rw(x.ne,ke)),ue=B.mutations.map(ke=>Rw(x.ne,ke));return{userId:P,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:ee,mutations:ue}}(this.wt,this.userId,p),C=[];let D=new qn((x,P)=>Wt(x.canonicalString(),P.canonicalString()));for(const x of r){const P=XU(this.userId,x.key.path,d);D=D.add(x.key.path.popLast()),C.push(c.put(y)),C.push(s.put(P,l4))}return D.forEach(x=>{C.push(this.indexManager.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(()=>{this.gn[d]=p.keys()}),fe.waitFor(C).next(()=>p)})}lookupMutationBatch(t,e){return ef(t).get(e).next(i=>i?(Ot(i.userId===this.userId),om(this.wt,i)):null)}yn(t,e){return this.gn[e]?fe.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ef(t).J({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Ot(d.batchId>=i),s=om(this.wt,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ef(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ef(t).K("userMutationsIndex",e).next(i=>i.map(r=>om(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=iI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return z_(t).J({range:r},(c,d,p)=>{const[y,C,D]=c,x=Uc(C);if(y===this.userId&&e.path.isEqual(x))return ef(t).get(D).next(P=>{if(!P)throw at();Ot(P.userId===this.userId),s.push(om(this.wt,P))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qn(Wt);const r=[];return e.forEach(s=>{const c=iI(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=z_(t).J({range:d},(y,C,D)=>{const[x,P,B]=y,ee=Uc(P);x===this.userId&&s.path.isEqual(ee)?i=i.add(B):D.done()});r.push(p)}),fe.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=iI(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new qn(Wt);return z_(t).J({range:c},(p,y,C)=>{const[D,x,P]=p,B=Uc(x);D===this.userId&&i.isPrefixOf(B)?B.length===r&&(d=d.add(P)):C.done()}).next(()=>this.pn(t,d))}pn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(ef(t).get(s).next(c=>{if(null===c)throw at();Ot(c.userId===this.userId),i.push(om(this.wt,c))}))}),fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return mH(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return z_(t).J({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=Uc(s[1]);r.push(p)}else d.done()}).next(()=>{Ot(0===r.length)})})}containsKey(t,e){return gH(t,this.userId,e)}Tn(t){return _H(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gH(n,t,e){const i=iI(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return z_(n).J({range:s,H:!0},(d,p,y)=>{const[C,D,x]=d;C===t&&D===r&&(c=!0),y.done()}).next(()=>c)}function ef(n){return Kr(n,"mutations")}function z_(n){return Kr(n,"documentMutations")}function _H(n){return Kr(n,"mutationQueues")}class um{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new um(0)}static Rn(){return new um(-1)}}class P4{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new um(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>xt.fromTimestamp(new wi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>$_(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return $_(t).J((c,d)=>{const p=Ow(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>fe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return $_(t).J((i,r)=>{const s=Ow(r);e(s)})}bn(t){return yH(t).get("targetGlobalKey").next(e=>(Ot(null!==e),e))}Pn(t,e){return yH(t).put("targetGlobalKey",e)}vn(t,e){return $_(t).put(sH(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=tm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return $_(t).J({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const y=Ow(d);ww(e,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=tf(t);return e.forEach(c=>{const d=fo(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=tf(t);return fe.forEach(e,s=>{const c=fo(s.path);return fe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=tf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=tf(t);let s=Kt();return r.J({range:i,H:!0},(c,d,p)=>{const y=Uc(c[1]),C=new Ye(y);s=s.add(C)}).next(()=>s)}containsKey(t,e){const i=fo(e.path),r=IDBKeyRange.bound([i],[j2(i)],!1,!0);let s=0;return tf(t).J({index:"documentTargetsIndex",H:!0,range:r},([c,d],p,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}te(t,e){return $_(t).get(e).next(i=>i?Ow(i):null)}}function $_(n){return Kr(n,"targets")}function yH(n){return Kr(n,"targetGlobal")}function tf(n){return Kr(n,"targetDocuments")}function vH([n,t],[e,i]){const r=Wt(n,e);return 0===r?Wt(t,i):r}class N4{constructor(t){this.Sn=t,this.buffer=new qn(vH),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();vH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class F4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ce.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Wh(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qh(i)}yield e.kn(3e5)}))}}class L4{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(zo.ot);const i=new N4(e);return this.On.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(pH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pH):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,r,s,c,d,p,y;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(t,i,e))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(y=Date.now(),NO()<=Gl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class B4{constructor(t,e){this.db=t,this.garbageCollector=new L4(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return uI(t,i)}removeReference(t,e,i){return uI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return uI(t,e)}Un(t,e){return function(i,r){let s=!1;return _H(i).Y(c=>gH(i,c,r).next(d=>(d&&(s=!0),fe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(t,(c,d)=>{if(d<=e){const p=this.Un(t,c).next(y=>{if(!y)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,xt.min()),tf(t).delete([0,fo(c.path)])))});r.push(p)}}).next(()=>fe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return uI(t,e)}Ln(t,e){const i=tf(t);let r,s=zo.ot;return i.J({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:y})=>{0===c?(s!==zo.ot&&e(new Ye(Uc(r)),s),s=y,r=p):s=zo.ot}).next(()=>{s!==zo.ot&&e(new Ye(Uc(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function uI(n,t){return tf(n).put((i=n.currentSequenceNumber,{targetId:0,path:fo(t.path),sequenceNumber:i}));var i}class bH{constructor(){this.changes=new Jh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ni.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class V4{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return dm(t).put(i)}removeEntry(t,e,i){return dm(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],rI(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=ni.newInvalidDocument(e);return dm(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bw(e))},(r,s)=>{i=this.Kn(e,s)}).next(()=>i)}Gn(t,e){let i={size:0,document:ni.newInvalidDocument(e)};return dm(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bw(e))},(r,s)=>{i={document:this.Kn(e,s),size:lI(s)}}).next(()=>i)}getEntries(t,e){let i=$o();return this.Qn(t,e,(r,s)=>{const c=this.Kn(r,s);i=i.insert(r,c)}).next(()=>i)}jn(t,e){let i=$o(),r=new qi(Ye.comparator);return this.Qn(t,e,(s,c)=>{const d=this.Kn(s,c);i=i.insert(s,d),r=r.insert(s,lI(c))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return fe.resolve();let r=new qn(SH);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Bw(r.first()),Bw(r.last())),c=r.getIterator();let d=c.getNext();return dm(t).J({index:"documentKeyIndex",range:s},(p,y,C)=>{const D=Ye.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&SH(d,D)<0;)i(d,null),d=c.getNext();d&&d.isEqual(D)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?C.q(Bw(d)):C.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),rI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dm(t).K(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=$o();for(const p of c){const y=this.Kn(Ye.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=$o();const c=EH(e,i),d=EH(e,_a.max());return dm(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,y,C)=>{const D=this.Kn(Ye.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(D.key,D),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(t){return new U4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return CH(t).get("remoteDocumentGlobalKey").next(e=>(Ot(!!e),e))}qn(t,e){return CH(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function D4(n,t){let e;if(t.document)e=$U(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ye.fromSegments(t.noDocument.path),r=sm(t.noDocument.readTime);e=ni.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return at();{const i=Ye.fromSegments(t.unknownDocument.path),r=sm(t.unknownDocument.version);e=ni.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new wi(i[0],i[1]);return xt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return ni.newInvalidDocument(t)}}function wH(n){return new V4(n)}class U4 extends bH{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new Jh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new qn((s,c)=>Wt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Hn.get(s);if(e.push(this.zn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=rH(this.zn.wt,c);r=r.add(s.path.popLast()),i+=lI(p)-d.size,e.push(this.zn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=rH(this.zn.wt,c.convertToNoDocument(xt.min()));e.push(this.zn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.zn.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((s,c)=>{this.Hn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function CH(n){return Kr(n,"remoteDocumentGlobal")}function dm(n){return Kr(n,"remoteDocumentsV14")}function Bw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function EH(n,t){const e=t.documentKey.path.toArray();return[n,rI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function SH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Wt(e[s],i[s]),r)return r;return r=Wt(e.length,i.length),r||(r=Wt(e[e.length-2],i[i.length-2]),r||Wt(e[e.length-1],i[i.length-1]))}class H4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class DH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Sw(i.mutation,r,ya.empty(),wi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Kt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Kt()){const r=Bc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=Dw();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Bc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Kt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=$o();const c=Tw(),d=Tw();return e.forEach((p,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof yd)?s=s.insert(y.key,y):void 0!==C&&(c.set(y.key,C.mutation.getFieldMask()),Sw(C.mutation,y,C.mutation.getFieldMask(),wi.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((y,C)=>c.set(y,C)),e.forEach((y,C)=>{var D;return d.set(y,new H4(C,null!==(D=c.get(y))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Tw();let r=new qi((c,d)=>c-d),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=e.get(p);if(null===y)return;let C=i.get(p)||ya.empty();C=d.applyToLocalView(y,C),i.set(p,C);const D=(r.get(d.batchId)||Kt()).add(p);r=r.insert(d.batchId,D)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,C=p.value,D=PU();C.forEach(x=>{if(!s.has(x)){const P=DU(e.get(x),i.get(x));null!==P&&D.set(x,P),s=s.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,D))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ye.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):qO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):fe.resolve(Bc());let d=-1,p=s;return c.next(y=>fe.forEach(y,(C,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(C)?fe.resolve():this.getBaseDocument(t,C,D).next(x=>{p=p.insert(C,x)}))).next(()=>this.populateOverlays(t,y,s)).next(()=>this.computeViews(t,p,y,Kt())).next(C=>({batchId:d,changes:OU(C)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ye(e)).next(i=>{let r=Dw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Dw();return this.indexManager.getCollectionParents(t,r).next(c=>fe.forEach(c,d=>{const p=(y=e,C=d.child(r),new _d(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(y=>{y.forEach((C,D)=>{s=s.insert(C,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,ni.newInvalidDocument(y)))});let c=Dw();return r.forEach((d,p)=>{const y=s.get(d);void 0!==y&&Sw(y.mutation,p,ya.empty(),wi.now()),YO(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):fe.resolve(ni.newInvalidDocument(e))}}class j4{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return fe.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Zr(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:iP(i.bundledQuery),readTime:Zr(i.readTime)}),fe.resolve();var i}}class G4{constructor(){this.overlays=new qi(Ye.comparator),this.Xn=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Bc();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ie(t,e,s)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const r=Bc(),s=e.length+1,c=new Ye(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new qi((y,C)=>y-C);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=Bc(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const d=Bc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>d.set(y,C)),!(d.size()>=r)););return fe.resolve(d)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nP(e,i));let s=this.Xn.get(e);void 0===s&&(s=Kt(),this.Xn.set(e,s)),this.Xn.set(e,s.add(i.key))}}class oP{constructor(){this.Zn=new qn(Qr.ts),this.es=new qn(Qr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Qr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Qr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Ye(new bn([])),i=new Qr(e,t),r=new Qr(e,t+1),s=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Ye(new bn([])),i=new Qr(e,t),r=new Qr(e,t+1);let s=Kt();return this.es.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Qr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Qr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Ye.comparator(t.key,e.key)||Wt(t.ls,e.ls)}static ns(t,e){return Wt(t.ls,e.ls)||Ye.comparator(t.key,e.key)}}class z4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new qn(Qr.ts)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.fs;this.fs++;const c=new eP(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new Qr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(t,e){return fe.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),s=r<0?0:r;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Qr(e,0),r=new Qr(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);s.push(d)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qn(Wt);return e.forEach(r=>{const s=new Qr(r,0),c=new Qr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],d=>{i=i.add(d.ls)})}),fe.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ye.isDocumentKey(s)||(s=s.child(""));const c=new Qr(new Ye(s),0);let d=new qn(Wt);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(p.ls)),!0)},c),fe.resolve(this.gs(d))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ot(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return fe.forEach(e.mutations,r=>{const s=new Qr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Qr(e,0),r=this.ds.firstAfterOrEqual(i);return fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class $4{constructor(t){this.ps=t,this.docs=new qi(Ye.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():ni.newInvalidDocument(e))}getEntries(t,e){let i=$o();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ni.newInvalidDocument(r))}),fe.resolve(i)}getAllFromCollection(t,e,i){let r=$o();const s=new Ye(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||BO(z2(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return fe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){at()}Is(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new q4(this)}getSize(t){return fe.resolve(this.size)}}class q4 extends bH{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class W4{constructor(t){this.persistence=t,this.Ts=new Jh(e=>tm(e),ww),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Es=0,this.As=new oP,this.targetCount=0,this.Rs=um.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),fe.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new um(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.vn(e),fe.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),fe.waitFor(s).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.As.containsKey(e))}}class TH{constructor(t,e){this.bs={},this.overlays={},this.Ps=new zo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new W4(this),this.indexManager=new R4,this.remoteDocumentCache=new $4(i=>this.referenceDelegate.Ss(i)),this.wt=new iH(e),this.Ds=new j4(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new G4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new z4(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Fe("MemoryPersistence","Starting transaction:",t);const r=new Y4(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(t,e){return fe.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class Y4 extends q2{constructor(t){super(),this.currentSequenceNumber=t}}class dI{constructor(t){this.persistence=t,this.ks=new oP,this.Os=null}static Ms(t){return new dI(t)}get Fs(){if(this.Os)return this.Os;throw at()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),fe.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Fs,i=>{const r=Ye.fromPath(i);return this.$s(t,r).next(s=>{s||e.removeEntry(r,xt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return fe.or([()=>fe.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class Z4{constructor(t){this.wt=t}O(t,e,i,r){const s=new qT("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JU,{unique:!0}),d.createObjectStore("documentMutations"),IH(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=fe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),IH(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").K().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JU,{unique:!0});const C=p.store("mutations"),D=y.map(x=>C.put(x));return fe.waitFor(D)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(s)))),i<7&&r>=7&&(c=c.next(()=>this.Us(s))),i<8&&r>=8&&(c=c.next(()=>this.qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:b4});p.createIndex("collectionPathOverlayIndex",w4,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",C4,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:c4});p.createIndex("documentKeyIndex",u4),p.createIndex("collectionGroupIndex",d4)}(t)).next(()=>this.Gs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:g4}).createIndex("sequenceNumberIndex",_4,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:y4}).createIndex("documentKeyIndex",v4,{unique:!1})}(t))),c}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=lI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>fe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(d=>fe.forEach(d,p=>{Ot(p.userId===s.userId);const y=om(this.wt,p);return mH(t,s.userId,y).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((c,d)=>{const p=new bn(c),y=[0,fo(p)];s.push(e.get(y).next(C=>C?fe.resolve():e.put({targetId:0,path:fo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:m4});const i=e.store("collectionParents"),r=new sP,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:fo(p)})}};return e.store("remoteDocuments").J({H:!0},(c,d)=>{const p=new bn(c);return s(p.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([c,d,p],y)=>{const C=Uc(d);return s(C.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const s=Ow(r),c=sH(this.wt,s);return e.put(c)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(y=c,y.document?new Ye(bn.fromString(y.document.name).popFirst(5)):y.noDocument?Ye.fromSegments(y.noDocument.path):y.unknownDocument?Ye.fromSegments(y.unknownDocument.path):at()).path.toArray();var y;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(C))}).next(()=>fe.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=wH(this.wt),s=new TH(dI.Ms,this.wt.ne);return i.K().next(c=>{const d=new Map;return c.forEach(p=>{var y;let C=null!==(y=d.get(p.userId))&&void 0!==y?y:Kt();om(this.wt,p).keys().forEach(D=>C=C.add(D)),d.set(p.userId,C)}),fe.forEach(d,(p,y)=>{const C=new Wr(y),D=sI.se(this.wt,C),x=s.getIndexManager(C),P=cI.se(C,this.wt,x,s.referenceDelegate);return new DH(r,P,D,x).recalculateAndSaveOverlaysForDocumentKeys(new XO(e,zo.ot),p).next()})})}}function IH(n){n.createObjectStore("targetDocuments",{keyPath:f4}).createIndex("documentTargetsIndex",p4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",h4,{unique:!0}),n.createObjectStore("targetGlobal")}const aP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lP{constructor(t,e,i,r,s,c,d,p,y,C,D=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=s,this.window=c,this.document=d,this.Ws=y,this.zs=C,this.Hs=D,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=x=>Promise.resolve(),!lP.V())throw new xe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new B4(this,r),this.ei=e+"main",this.wt=new iH(p),this.ni=new $l(this.ei,this.Hs,new Z4(this.wt)),this.Vs=new P4(this.referenceDelegate,this.wt),this.remoteDocumentCache=wH(this.wt),this.Ds=new T4,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,aP);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new zo(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,Ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,Ce.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>hI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Wh(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Vw(t).get("owner").next(e=>fe.resolve(this.di(e)))}_i(t){return hI(t).delete(this.clientId)}wi(){var t=this;return(0,Ce.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Kr(i,"clientMetadata");return r.K().next(s=>{const c=t.gi(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return fe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?fe.resolve(!0):Vw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,aP);return!1}}return!(!this.networkEnabled||!this.inForeground)||hI(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ce.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new XO(e,zo.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>hI(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return cI.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new O4(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return sI.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Fe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Hs)?S4:14===c?nH:13===c?tH:12===c?E4:11===c?eH:void at();var c;let d;return this.ni.runTransaction(t,r,s,p=>(d=new XO(p,this.Ps?this.Ps.next():zo.ot),"readwrite-primary"===e?this.ai(d).next(y=>!!y||this.hi(d)).next(y=>{if(!y)throw mr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new xe(me.FAILED_PRECONDITION,$2);return i(d)}).next(y=>this.fi(d).next(()=>y)):this.bi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}bi(t){return Vw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(me.FAILED_PRECONDITION,aP)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vw(t).put("owner",e)}static V(){return $l.V()}li(t){const e=Vw(t);return e.get("owner").next(i=>this.di(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(mr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,F.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){mr("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(t){}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Vw(n){return Kr(n,"owner")}function hI(n){return Kr(n,"clientMetadata")}function cP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class uP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Kt(),r=Kt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new uP(t,e.fromCache,i,r)}}class MH{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(s=>s||this.xi(t,e,r,i)).next(s=>s||this.Ni(t,e))}Ci(t,e){return fe.resolve(null)}xi(t,e,i,r){return function P8(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(xt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(s=>{const c=this.ki(e,s);return this.Oi(e,c,i,r)?this.Ni(t,e):(NO()<=Gl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),WO(e)),this.Mi(t,c,e,G2(r,-1)))})}ki(t,e){let i=new qn(gU(t));return e.forEach((r,s)=>{YO(t,s)&&(i=i.add(s))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(t,e){return NO()<=Gl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",WO(e)),this.Di.getDocumentsMatchingQuery(t,e,_a.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class K4{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new qi(Wt),this.Bi=new Jh(s=>tm(s),ww),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DH(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function AH(n,t,e,i){return new K4(n,t,e,i)}function xH(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,Ce.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=Kt();for(const y of r){c.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of s){d.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return e.localDocuments.getDocuments(i,p).next(y=>({Ki:y,removedBatchIds:c,addedBatchIds:d}))})})}),dP.apply(this,arguments)}function Q4(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const C=p.batch,D=C.keys();let x=fe.resolve();return D.forEach(P=>{x=x.next(()=>y.getEntry(d,P)).next(B=>{const ee=p.docVersions.get(P);Ot(null!==ee),B.version.compareTo(ee)<0&&(C.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,C))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Kt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function kH(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function J4(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const d=[];t.targetChanges.forEach((C,D)=>{const x=r.get(D);if(!x)return;d.push(e.Vs.removeMatchingKeys(s,C.removedDocuments,D).next(()=>e.Vs.addMatchingKeys(s,C.addedDocuments,D)));let P=x.withSequenceNumber(s.currentSequenceNumber);var B,ee,ue;t.targetMismatches.has(D)?P=P.withResumeToken(Nr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):C.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(C.resumeToken,i)),r=r.insert(D,P),ee=P,ue=C,(0===(B=x).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&d.push(e.Vs.updateTargetData(s,P))});let p=$o(),y=Kt();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,C))}),d.push(RH(s,c,t.documentUpdates).next(C=>{p=C.Gi,y=C.Qi})),!i.isEqual(xt.min())){const C=e.Vs.getLastRemoteSnapshotVersion(s).next(D=>e.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(C)}return fe.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(e.$i=r,s))}function RH(n,t,e){let i=Kt(),r=Kt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=$o();return e.forEach((d,p)=>{const y=s.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(xt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}function X4(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function q_(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(s=>s?(r=s,fe.resolve(r)):e.Vs.allocateTargetId(i).next(c=>(r=new Xh(t,c,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function W_(n,t,e){return hP.apply(this,arguments)}function hP(){return hP=(0,Ce.Z)(function*(n,t,e){const i=Qe(n),r=i.$i.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Wh(c))throw c;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),hP.apply(this,arguments)}function fI(n,t,e){const i=Qe(n);let r=xt.min(),s=Kt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,y){const C=Qe(d),D=C.Bi.get(y);return void 0!==D?fe.resolve(C.$i.get(D)):C.Vs.getTargetData(p,y)}(i,c,Qa(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,t,e?r:xt.min(),e?s:Kt())).next(d=>(NH(i,mU(t),d),{documents:d,ji:s})))}function OH(n,t){const e=Qe(n),i=Qe(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.te(s,t).next(c=>c?c.target:null))}function PH(n,t){const e=Qe(n),i=e.Li.get(t)||xt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,G2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(NH(e,t,r),r))}function NH(n,t,e){let i=xt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(t,i)}function fP(){return fP=(0,Ce.Z)(function*(n,t,e,i){const r=Qe(n);let s=Kt(),c=$o();for(const y of e){const C=t.Wi(y.metadata.name);y.document&&(s=s.add(C));const D=t.zi(y);D.setReadTime(t.Hi(y.metadata.readTime)),c=c.insert(C,D)}const d=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield q_(r,(y=i,Qa(F_(bn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>RH(y,d,c).next(C=>(d.apply(y),C)).next(C=>r.Vs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Vs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Gi,C.Qi)).next(()=>C.Gi)))}),fP.apply(this,arguments)}function t5(n,t){return pP.apply(this,arguments)}function pP(){return pP=(0,Ce.Z)(function*(n,t,e=Kt()){const i=yield q_(n,Qa(iP(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Zr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(s,t);const d=i.withResumeToken(Nr.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(d.targetId,d),r.Vs.updateTargetData(s,d).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,t))})}),pP.apply(this,arguments)}function FH(n,t){return`firestore_clients_${n}_${t}`}function LH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function mP(n,t){return`firestore_targets_${n}_${t}`}class pI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new xe(r.error.code,r.error.message))),c?new pI(t,e,r.state,s):(mr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Uw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new xe(i.error.code,i.error.message))),s?new Uw(t,i.state,r):(mr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=tI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=J2(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new mI(t,s):(mr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class gP{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new gP(e.clientId,e.onlineState):(mr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class _P{constructor(){this.activeTargetIds=tI()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yP{constructor(t,e,i,r,s){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new qi(Wt),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=FH(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new _P),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const s=t.getItem(FH(t.persistenceKey,r));if(s){const c=mI.Ji(r,s);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(mP(this.persistenceKey,t));if(i){const r=Uw.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(mP(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ce.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(s){let c=zo.ot;if(null!=s)try{const d=JSON.parse(s);Ot("number"==typeof d),c=d}catch(d){mr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==zo.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Nr(s)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new pI(this.currentUser,t,e,i),s=LH(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Yi())}pr(t){const e=LH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=mP(this.persistenceKey,t),s=new Uw(t,e,i);this.setItem(r,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return mI.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return pI.Ji(new Wr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return Uw.Ji(r,e)}wr(t){return gP.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,Ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),s=this.gr(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Mr(c,d).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=tI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class BH{constructor(){this.Fr=new _P,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new _P,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class n5{Br(t){}shutdown(){}}class VH{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const i5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class r5{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class s5 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,s){const c=this.oo(t,e);Fe("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.co(t,c,d,i).then(p=>(Fe("RestConnection","Received: ",p),p),p=>{throw dw("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}ao(t,e,i,r,s,c){return this.ro(t,e,i,r,s)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+k_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}oo(t,e){return`${this.so}/v1/${e}:${i5[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((s,c)=>{const d=new r8;d.listenOnce(t8.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case PO.NO_ERROR:const y=d.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(y)),s(y);break;case PO.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),c(new xe(me.DEADLINE_EXCEEDED,"Request time out"));break;case PO.HTTP_ERROR:const C=d.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',C,"response text:",d.getResponseText()),C>0){const D=d.getResponseJson().error;if(D&&D.status&&D.message){const x=function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(B)>=0?B:me.UNKNOWN}(D.status);c(new xe(x,D.message))}else c(new xe(me.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new xe(me.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=XY(),c=e8(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new i8({})),this.uo(d.initMessageHeaders,e,i),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Fe("Connection","Creating WebChannel: "+p,d);const y=s.createWebChannel(p,d);let C=!1,D=!1;const x=new r5({jr:B=>{D?Fe("Connection","Not sending because WebChannel is closed:",B):(C||(Fe("Connection","Opening WebChannel transport."),y.open(),C=!0),Fe("Connection","WebChannel sending:",B),y.send(B))},Wr:()=>y.close()}),P=(B,ee,ue)=>{B.listen(ee,ke=>{try{ue(ke)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return P(y,GT.EventType.OPEN,()=>{D||Fe("Connection","WebChannel transport opened.")}),P(y,GT.EventType.CLOSE,()=>{D||(D=!0,Fe("Connection","WebChannel transport closed"),x.eo())}),P(y,GT.EventType.ERROR,B=>{D||(D=!0,dw("Connection","WebChannel transport errored:",B),x.eo(new xe(me.UNAVAILABLE,"The operation could not be completed")))}),P(y,GT.EventType.MESSAGE,B=>{var ee;if(!D){const ue=B.data[0];Ot(!!ue);const ke=ue,Ue=ke.error||(null===(ee=ke[0])||void 0===ee?void 0:ee.error);if(Ue){Fe("Connection","WebChannel received error:",Ue);const Ve=Ue.status;let He=function(kt){const pn=gr[kt];if(void 0!==pn)return kU(pn)}(Ve),Tt=Ue.message;void 0===He&&(He=me.INTERNAL,Tt="Unknown error status: "+Ve+" with message "+Ue.message),D=!0,x.eo(new xe(He,Tt)),y.close()}else Fe("Connection","WebChannel received:",ue),x.no(ue)}}),P(c,n8.STAT_EVENT,B=>{B.stat===L2.PROXY?Fe("Connection","Detected buffering proxy"):B.stat===L2.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.Zr()},0),x}}function UH(){return"undefined"!=typeof window?window:null}function gI(){return"undefined"!=typeof document?document:null}function Hw(n){return new K8(n,!0)}class vP{constructor(t,e,i=1e3,r=1.5,s=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class HH{constructor(t,e,i,r,s,c,d,p){this.js=t,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vP(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Ce.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,Ce.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,Ce.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(mr(e.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new xe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,Ce.Z)(function*(){t.state=0,t.start()}))}qo(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o5 extends HH{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.wt=s}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function X8(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:at(),r=t.targetChange.targetIds||[],s=function(p,y){return p.dt?(Ot(void 0===y||"string"==typeof y),Nr.fromBase64String(y||"")):(Ot(void 0===y||y instanceof Uint8Array),Nr.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=void 0===p.code?me.UNKNOWN:kU(p.code);return new xe(y,p.message||"")}(c);e=new FU(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Vc(n,i.document.name),s=Zr(i.document.updateTime),c=new _s({mapValue:{fields:i.document.fields}}),d=ni.newFoundDocument(r,s,c);e=new nI(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Vc(n,i.document),s=i.readTime?Zr(i.readTime):xt.min(),c=ni.newNoDocument(r,s);e=new nI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Vc(n,i.document);e=new nI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return at();{const i=t.filter,s=new j8(i.count||0);e=new NU(i.targetId,s)}}var p;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return xt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?xt.min():s.readTime?Zr(s.readTime):xt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=kw(this.wt),e.addTarget=function(r,s){let c;const d=s.target;return c=KT(d)?{documents:qU(r,d)}:{query:WU(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=UU(r,s.resumeToken):s.snapshotVersion.compareTo(xt.min())>0&&(c.readTime=Aw(r,s.snapshotVersion.toTimestamp())),c}(this.wt,t);const i=function t4(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=kw(this.wt),e.removeTarget=t,this.Mo(e)}}class a5 extends HH{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function e4(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(i,r){let s=Zr(i.updateTime?i.updateTime:r);return s.isEqual(xt.min())&&(s=Zr(r)),new V8(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Zr(t.commitTime);return this.listener.Jo(i,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=kw(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Rw(this.wt,i))};this.Mo(e)}}class l5 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new xe(me.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.bo.ao(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(me.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class c5{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(mr(e),this.su=!1):Fe("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class u5{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,Ce.Z)(function*(){var p;nf(c)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ce.Z)(function*(y){const C=Qe(y);C.lu.add(4),yield Y_(C),C._u.set("Unknown"),C.lu.delete(4),yield jw(C)}),function(y){return p.apply(this,arguments)})(c))}))}),this._u=new c5(i,r)}}function jw(n){return bP.apply(this,arguments)}function bP(){return bP=(0,Ce.Z)(function*(n){if(nf(n))for(const t of n.fu)yield t(!0)}),bP.apply(this,arguments)}function Y_(n){return wP.apply(this,arguments)}function wP(){return wP=(0,Ce.Z)(function*(n){for(const t of n.fu)yield t(!1)}),wP.apply(this,arguments)}function _I(n,t){const e=Qe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),SP(e)?EP(e):K_(e).Co()&&CP(e,t))}function Gw(n,t){const e=Qe(n),i=K_(e);e.hu.delete(t),i.Co()&&jH(e,t),0===e.hu.size&&(i.Co()?i.ko():nf(e)&&e._u.set("Unknown"))}function CP(n,t){n.wu.Nt(t.targetId),K_(n).Qo(t)}function jH(n,t){n.wu.Nt(t),K_(n).jo(t)}function EP(n){n.wu=new W8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),K_(n).start(),n._u.iu()}function SP(n){return nf(n)&&!K_(n).Do()&&n.hu.size>0}function nf(n){return 0===Qe(n).lu.size}function GH(n){n.wu=void 0}function d5(n){return DP.apply(this,arguments)}function DP(){return DP=(0,Ce.Z)(function*(n){n.hu.forEach((t,e)=>{CP(n,t)})}),DP.apply(this,arguments)}function h5(n,t){return TP.apply(this,arguments)}function TP(){return TP=(0,Ce.Z)(function*(n,t){GH(n),SP(n)?(n._u.uu(t),EP(n)):n._u.set("Unknown")}),TP.apply(this,arguments)}function f5(n,t,e){return IP.apply(this,arguments)}function IP(){return IP=(0,Ce.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof FU&&2===t.state&&t.cause)try{yield(i=(0,Ce.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield yI(n,i)}else if(t instanceof nI?n.wu.Ut(t):t instanceof NU?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(xt.min()))try{const i=yield kH(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.Yt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.hu.get(p);y&&r.hu.set(p,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(Nr.EMPTY_BYTE_STRING,p.snapshotVersion)),jH(r,d);const y=new Xh(p.target,d,1,p.sequenceNumber);CP(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield yI(n,i)}var i}),IP.apply(this,arguments)}function yI(n,t,e){return MP.apply(this,arguments)}function MP(){return MP=(0,Ce.Z)(function*(n,t,e){if(!Wh(t))throw t;n.lu.add(1),yield Y_(n),n._u.set("Offline"),e||(e=()=>kH(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield jw(n)}))}),MP.apply(this,arguments)}function zH(n,t){return t().catch(e=>yI(n,e,t))}function Z_(n){return AP.apply(this,arguments)}function AP(){return AP=(0,Ce.Z)(function*(n){const t=Qe(n),e=rf(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;p5(t);)try{const r=yield X4(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,m5(t,r)}catch(r){yield yI(t,r)}$H(t)&&qH(t)}),AP.apply(this,arguments)}function p5(n){return nf(n)&&n.au.length<10}function m5(n,t){n.au.push(t);const e=rf(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function $H(n){return nf(n)&&!rf(n).Do()&&n.au.length>0}function qH(n){rf(n).start()}function g5(n){return xP.apply(this,arguments)}function xP(){return xP=(0,Ce.Z)(function*(n){rf(n).Xo()}),xP.apply(this,arguments)}function _5(n){return kP.apply(this,arguments)}function kP(){return kP=(0,Ce.Z)(function*(n){const t=rf(n);for(const e of n.au)t.Ho(e.mutations)}),kP.apply(this,arguments)}function y5(n,t,e){return RP.apply(this,arguments)}function RP(){return RP=(0,Ce.Z)(function*(n,t,e){const i=n.au.shift(),r=tP.from(i,t,e);yield zH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Z_(n)}),RP.apply(this,arguments)}function v5(n,t){return OP.apply(this,arguments)}function OP(){return OP=(0,Ce.Z)(function*(n,t){var e;t&&rf(n).zo&&(yield(e=(0,Ce.Z)(function*(i,r){if(xU(s=r.code)&&s!==me.ABORTED){const c=i.au.shift();rf(i).No(),yield zH(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Z_(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),$H(n)&&qH(n)}),OP.apply(this,arguments)}function WH(n,t){return PP.apply(this,arguments)}function PP(){return PP=(0,Ce.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=nf(e);e.lu.add(3),yield Y_(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield jw(e)}),PP.apply(this,arguments)}function NP(n,t){return FP.apply(this,arguments)}function FP(){return FP=(0,Ce.Z)(function*(n,t){const e=Qe(n);t?(e.lu.delete(2),yield jw(e)):t||(e.lu.add(2),yield Y_(e),e._u.set("Unknown"))}),FP.apply(this,arguments)}function K_(n){return n.mu||(n.mu=function(t,e,i){const r=Qe(t);return r.tu(),new o5(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:d5.bind(null,n),Jr:h5.bind(null,n),Go:f5.bind(null,n)}),n.fu.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.mu.No(),SP(n)?EP(n):n._u.set("Unknown")):(yield n.mu.stop(),GH(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function rf(n){return n.gu||(n.gu=function(t,e,i){const r=Qe(t);return r.tu(),new a5(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:g5.bind(null,n),Jr:v5.bind(null,n),Yo:_5.bind(null,n),Jo:y5.bind(null,n)}),n.fu.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.gu.No(),yield Z_(n)):(yield n.gu.stop(),n.au.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class LP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new LP(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(n,t){if(mr("AsyncQueue",`${t}: ${n}`),Wh(n))return new xe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class J_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ye.comparator(e.key,i.key):(e,i)=>Ye.comparator(e.key,i.key),this.keyedMap=Dw(),this.sortedSet=new qi(this.comparator)}static emptySet(t){return new J_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof J_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new J_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class YH{constructor(){this.yu=new qi(Ye.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):at():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class X_{constructor(t,e,i,r,s,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new X_(t,e,J_.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class b5{constructor(){this.Iu=void 0,this.listeners=[]}}class w5{constructor(){this.queries=new Jh(t=>pU(t),Cw),this.onlineState="Unknown",this.Tu=new Set}}function BP(n,t){return VP.apply(this,arguments)}function VP(){return VP=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new b5),r)try{s.Iu=yield e.onListen(i)}catch(c){const d=Q_(c,`Initialization of query '${WO(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&jP(e)}),VP.apply(this,arguments)}function UP(n,t){return HP.apply(this,arguments)}function HP(){return HP=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),HP.apply(this,arguments)}function C5(n,t){const e=Qe(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&jP(e)}function E5(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function jP(n){n.Tu.forEach(t=>{t.next()})}class GP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new X_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=X_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class S5{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class ZH{constructor(t){this.wt=t}Wi(t){return Vc(this.wt,t)}zi(t){return t.metadata.exists?$U(this.wt,t.document,!1):ni.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Zr(t)}}class D5{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KH(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=bn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new ZH(this.wt);for(const r of t)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Kt()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,Ce.Z)(function*(){const e=yield function e5(n,t,e,i){return fP.apply(this,arguments)}(t.localStore,new ZH(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield t5(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function KH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QH{constructor(t){this.key=t}}class JH{constructor(t){this.key=t}}class XH{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Kt(),this.mutatedKeys=Kt(),this.Lu=gU(t),this.Uu=new J_(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new YH,r=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,D)=>{const x=r.get(C),P=YO(this.query,D)?D:null,B=!!x&&this.mutatedKeys.has(x.key),ee=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ue=!1;x&&P?x.data.isEqual(P.data)?B!==ee&&(i.track({type:3,doc:P}),ue=!0):this.Qu(x,P)||(i.track({type:2,doc:P}),ue=!0,(p&&this.Lu(P,p)>0||y&&this.Lu(P,y)<0)&&(d=!0)):!x&&P?(i.track({type:0,doc:P}),ue=!0):x&&!P&&(i.track({type:1,doc:x}),ue=!0,(p||y)&&(d=!0)),ue&&(P?(c=c.add(P),s=ee?s.add(C):s.delete(C)):(c=c.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Uu:c,Gu:i,Oi:d,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Gu.pu();s.sort((y,C)=>function(D,x){const P=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return P(D)-P(x)}(y.type,C.type)||this.Lu(y.doc,C.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==s.length||p?{snapshot:new X_(this.query,t.Uu,r,s,t.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new YH,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Kt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new JH(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new QH(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Kt();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return X_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class T5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class I5{constructor(t){this.key=t,this.Xu=!1}}class M5{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Jh(d=>pU(d),Cw),this.ec=new Map,this.nc=new Set,this.sc=new qi(Ye.comparator),this.ic=new Map,this.rc=new oP,this.oc={},this.uc=new Map,this.cc=um.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function A5(n,t){return zP.apply(this,arguments)}function zP(){return zP=(0,Ce.Z)(function*(n,t){const e=fN(n);let i,r;const s=e.tc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield q_(e.localStore,Qa(t));e.isPrimaryClient&&_I(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield $P(e,t,i,"current"===d)}return r}),zP.apply(this,arguments)}function $P(n,t,e,i){return qP.apply(this,arguments)}function qP(){return qP=(0,Ce.Z)(function*(n,t,e,i){n.hc=(C,D,x)=>{return(P=(0,Ce.Z)(function*(B,ee,ue,ke){let Ue=ee.view.Ku(ue);Ue.Oi&&(Ue=yield fI(B.localStore,ee.query,!1).then(({documents:Tt})=>ee.view.Ku(Tt,Ue)));const Ve=ke&&ke.targetChanges.get(ee.targetId),He=ee.view.applyChanges(Ue,B.isPrimaryClient,Ve);return nN(B,ee.targetId,He.zu),He.snapshot}),function(B,ee,ue,ke){return P.apply(this,arguments)})(n,C,D,x);var P};const r=yield fI(n.localStore,t,!0),s=new XH(t,r.ji),c=s.Ku(r.documents),d=Mw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);nN(n,e,p.zu);const y=new T5(t,e,s);return n.tc.set(t,y),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),qP.apply(this,arguments)}function x5(n,t){return WP.apply(this,arguments)}function WP(){return WP=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(s=>!Cw(s,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield W_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Gw(e.remoteStore,i.targetId),ey(e,i.targetId)}).catch(qh))):(ey(e,i.targetId),yield W_(e.localStore,i.targetId,!0))}),WP.apply(this,arguments)}function YP(){return YP=(0,Ce.Z)(function*(n,t,e){const i=pN(n);try{const r=yield function(s,c){const d=Qe(s),p=wi.now(),y=c.reduce((x,P)=>x.add(P.key),Kt());let C,D;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=$o(),B=Kt();return d.Ui.getEntries(x,y).next(ee=>{P=ee,P.forEach((ue,ke)=>{ke.isValidDocument()||(B=B.add(ue))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,P)).next(ee=>{C=ee;const ue=[];for(const ke of c){const Ue=H8(ke,C.get(ke.key).overlayedDocument);null!=Ue&&ue.push(new yd(ke.key,Ue,sU(Ue.value.mapValue),xi.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,ue,c)}).next(ee=>{D=ee;const ue=ee.applyToLocalDocumentSet(C,B);return d.documentOverlayCache.saveOverlays(x,ee.batchId,ue)})}).then(()=>({batchId:D.batchId,changes:OU(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.oc[s.currentUser.toKey()];p||(p=new qi(Wt)),p=p.insert(c,d),s.oc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield vd(i,r.changes),yield Z_(i.remoteStore)}catch(r){const s=Q_(r,"Failed to persist write");e.reject(s)}}),YP.apply(this,arguments)}function ej(n,t){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Ce.Z)(function*(n,t){const e=Qe(n);try{const i=yield J4(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.ic.get(s);c&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Ot(c.Xu):r.removedDocuments.size>0&&(Ot(c.Xu),c.Xu=!1))}),yield vd(e,i,t)}catch(i){yield qh(i)}}),ZP.apply(this,arguments)}function tj(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((s,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=Qe(s);d.onlineState=c;let p=!1;d.queries.forEach((y,C)=>{for(const D of C.listeners)D.Eu(c)&&(p=!0)}),p&&jP(d)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function R5(n,t,e){return KP.apply(this,arguments)}function KP(){return KP=(0,Ce.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),s=r&&r.key;if(s){let c=new qi(Ye.comparator);c=c.insert(s,ni.newNoDocument(s,xt.min()));const d=Kt().add(s),p=new Iw(xt.min(),new Map,new qn(Wt),c,d);yield ej(i,p),i.sc=i.sc.remove(s),i.ic.delete(t),iN(i)}else yield W_(i.localStore,t,!1).then(()=>ey(i,t,e)).catch(qh)}),KP.apply(this,arguments)}function O5(n,t){return QP.apply(this,arguments)}function QP(){return QP=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield Q4(e.localStore,t);tN(e,i,null),eN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield vd(e,r)}catch(r){yield qh(r)}}),QP.apply(this,arguments)}function P5(n,t,e){return JP.apply(this,arguments)}function JP(){return JP=(0,Ce.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(s,c){const d=Qe(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,c).next(C=>(Ot(null!==C),y=C.keys(),d.mutationQueue.removeMutationBatch(p,C))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,t);tN(i,t,e),eN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield vd(i,r)}catch(r){yield qh(r)}}),JP.apply(this,arguments)}function XP(){return XP=(0,Ce.Z)(function*(n,t){const e=Qe(n);nf(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Qe(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=Q_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),XP.apply(this,arguments)}function eN(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function tN(n,t,e){const i=Qe(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function ey(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||nj(n,i)})}function nj(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(Gw(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),iN(n))}function nN(n,t,e){for(const i of e)i instanceof QH?(n.rc.addReference(i.key,t),F5(n,i)):i instanceof JH?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||nj(n,i.key)):at()}function F5(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Fe("SyncEngine","New document in limbo: "+e),n.nc.add(i),iN(n))}function iN(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Ye(bn.fromString(t)),i=n.cc.next();n.ic.set(i,new I5(e)),n.sc=n.sc.insert(e,i),_I(n.remoteStore,new Xh(Qa(F_(e.path)),i,2,zo.ot))}}function vd(n,t,e){return rN.apply(this,arguments)}function rN(){return rN=(0,Ce.Z)(function*(n,t,e){const i=Qe(n),r=[],s=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,p)=>{c.push(i.hc(p,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=uP.Vi(p.targetId,y);s.push(C)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,Ce.Z)(function*(p,y){const C=Qe(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>fe.forEach(y,x=>fe.forEach(x.Pi,P=>C.persistence.referenceDelegate.addReference(D,x.targetId,P)).next(()=>fe.forEach(x.vi,P=>C.persistence.referenceDelegate.removeReference(D,x.targetId,P)))))}catch(D){if(!Wh(D))throw D;Fe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const x=D.targetId;if(!D.fromCache){const P=C.$i.get(x),ee=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.$i=C.$i.insert(x,ee)}}}),function(p,y){return d.apply(this,arguments)})(i.localStore,s))}),rN.apply(this,arguments)}function L5(n,t){return sN.apply(this,arguments)}function sN(){return sN=(0,Ce.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const i=yield xH(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(c=>{c.forEach(d=>{d.reject(new xe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield vd(e,i.Ki)}var r}),sN.apply(this,arguments)}function B5(n,t){const e=Qe(n),i=e.ic.get(t);if(i&&i.Xu)return Kt().add(i.key);{let r=Kt();const s=e.ec.get(t);if(!s)return r;for(const c of s){const d=e.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function V5(n,t){return oN.apply(this,arguments)}function oN(){return oN=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=yield fI(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&nN(e,t.targetId,r.zu),r}),oN.apply(this,arguments)}function U5(n,t){return aN.apply(this,arguments)}function aN(){return aN=(0,Ce.Z)(function*(n,t){const e=Qe(n);return PH(e.localStore,t).then(i=>vd(e,i))}),aN.apply(this,arguments)}function H5(n,t,e,i){return lN.apply(this,arguments)}function lN(){return lN=(0,Ce.Z)(function*(n,t,e,i){const r=Qe(n),s=yield function(c,d){const p=Qe(c),y=Qe(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.yn(C,d).next(D=>D?p.localDocuments.getDocuments(C,D):fe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield Z_(r.remoteStore):"acknowledged"===e||"rejected"===e?(tN(r,t,i||null),eN(r,t),d=t,Qe(Qe(r.localStore).mutationQueue).In(d)):at(),yield vd(r,s)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)}),lN.apply(this,arguments)}function cN(){return cN=(0,Ce.Z)(function*(n,t){const e=Qe(n);if(fN(e),pN(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield ij(e,i.toArray());e.ac=!0,yield NP(e.remoteStore,!0);for(const s of r)_I(e.remoteStore,s)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ey(e,c),W_(e.localStore,c,!0))),Gw(e.remoteStore,c)}),yield r,yield ij(e,i),function(s){const c=Qe(s);c.ic.forEach((d,p)=>{Gw(c.remoteStore,p)}),c.rc.cs(),c.ic=new Map,c.sc=new qi(Ye.comparator)}(e),e.ac=!1,yield NP(e.remoteStore,!1)}}),cN.apply(this,arguments)}function ij(n,t,e){return uN.apply(this,arguments)}function uN(){return uN=(0,Ce.Z)(function*(n,t,e){const i=Qe(n),r=[],s=[];for(const c of t){let d;const p=i.ec.get(c);if(p&&0!==p.length){d=yield q_(i.localStore,Qa(p[0]));for(const y of p){const C=i.tc.get(y),D=yield V5(i,C);D.snapshot&&s.push(D.snapshot)}}else{const y=yield OH(i.localStore,c);d=yield q_(i.localStore,y),yield $P(i,rj(y),c,!1)}r.push(d)}return i.Zu.Go(s),r}),uN.apply(this,arguments)}function rj(n){return hU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function G5(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Ri()}function z5(n,t,e,i){return dN.apply(this,arguments)}function dN(){return dN=(0,Ce.Z)(function*(n,t,e,i){const r=Qe(n);if(r.ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield PH(r.localStore,mU(s[0])),d=Iw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield vd(r,c,d);break}case"rejected":yield W_(r.localStore,t,!0),ey(r,t,i);break;default:at()}}),dN.apply(this,arguments)}function $5(n,t,e){return hN.apply(this,arguments)}function hN(){return hN=(0,Ce.Z)(function*(n,t,e){const i=fN(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const s=yield OH(i.localStore,r),c=yield q_(i.localStore,s);yield $P(i,rj(s),c.targetId,!1),_I(i.remoteStore,c)}for(const r of e)i.ec.has(r)&&(yield W_(i.localStore,r,!1).then(()=>{Gw(i.remoteStore,r),ey(i,r)}).catch(qh))}}),hN.apply(this,arguments)}function fN(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ej.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=B5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=R5.bind(null,t),t.Zu.Go=C5.bind(null,t.eventManager),t.Zu.lc=E5.bind(null,t.eventManager),t}function pN(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=O5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P5.bind(null,t),t}class sj{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ce.Z)(function*(){e.wt=Hw(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return AH(this.persistence,new MH,t.initialUser,this.wt)}_c(t){return new TH(dI.Ms,this.wt)}dc(t){return new BH}terminate(){var t=this;return(0,Ce.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class oj extends sj{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield pN(i.yc.syncEngine),yield Z_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return AH(this.persistence,new MH,t.initialUser,this.wt)}mc(t,e){return new F4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new y8(e,this.persistence);return new _8(t.asyncQueue,i)}_c(t){const e=cP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new lP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,UH(),gI(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new BH}}class W5 extends oj{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof yP&&(i.sharedClientState.syncEngine={kr:H5.bind(null,r),Or:z5.bind(null,r),Mr:$5.bind(null,r),Ri:G5.bind(null,r),Nr:U5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,Ce.Z)(function*(c){yield function j5(n,t){return cN.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}dc(t){const e=UH();if(!yP.V(e))throw new xe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=cP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class mN{initialize(t,e){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>tj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=L5.bind(null,i.syncEngine),yield NP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new w5}createDatastore(t){const e=Hw(t.databaseInfo.databaseId),i=new s5(t.databaseInfo);return new l5(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>tj(this.syncEngine,d,0),c=VH.V()?new VH:new n5,new u5(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,y){const C=new M5(i,r,s,c,d,p);return y&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ce.Z)(function*(e){const i=Qe(e);Fe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Y_(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function aj(n,t=10240){let e=0;return{read:()=>(0,Ce.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Y5{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Yr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,Ce.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,Ce.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const s=yield t.vc(r);return new S5(JSON.parse(s),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,Ce.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,Ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Z5{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(s,c){const d=Qe(s),p=kw(d.wt)+"/documents",y={documents:c.map(P=>xw(d.wt,P))},C=yield d.ao("BatchGetDocuments",p,y,c.length),D=new Map;C.forEach(P=>{const B=function J8(n,t){return"found"in t?function(e,i){Ot(!!i.found);const r=Vc(e,i.found.name),s=Zr(i.found.updateTime),c=new _s({mapValue:{fields:i.found.fields}});return ni.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Ot(!!i.missing),Ot(!!i.readTime);const r=Vc(e,i.missing),s=Zr(i.readTime);return ni.newNoDocument(r,s)}(n,t):at()}(d.wt,P);D.set(B.key.toString(),B)});const x=[];return c.forEach(P=>{const B=D.get(P.toString());Ot(!!B),x.push(B)}),x}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new H_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ye.fromPath(r);t.mutations.push(new ZO(s,t.precondition(s)))}),yield(i=(0,Ce.Z)(function*(r,s){const c=Qe(r),d=kw(c.wt)+"/documents",p={writes:s.map(y=>Rw(c.wt,y))};yield c.ro("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw at();e=xt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new xe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?xi.updateTime(e):xi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xt.min()))throw new xe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xi.updateTime(e)}return xi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class K5{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new vP(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,Ce.Z)(function*(){const e=new Z5(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Nc(s)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!gw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!xU(e)}return!1}}class Q5{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Wr.UNAUTHENTICATED,this.clientId=H2.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ce.Z)(function*(d){Fe("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Ce.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Q_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function lj(n,t){return gN.apply(this,arguments)}function gN(){return gN=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(s){i.isEqual(s)||(yield xH(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),gN.apply(this,arguments)}function cj(n,t){return _N.apply(this,arguments)}function _N(){return _N=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield yN(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>WH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>WH(t.remoteStore,s)),n.onlineComponents=t}),_N.apply(this,arguments)}function yN(n){return vN.apply(this,arguments)}function vN(){return vN=(0,Ce.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield lj(n,new sj)),n.offlineComponents}),vN.apply(this,arguments)}function bI(n){return bN.apply(this,arguments)}function bN(){return bN=(0,Ce.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield cj(n,new mN)),n.onlineComponents}),bN.apply(this,arguments)}function uj(n){return yN(n).then(t=>t.persistence)}function wN(n){return yN(n).then(t=>t.localStore)}function dj(n){return bI(n).then(t=>t.remoteStore)}function CN(n){return bI(n).then(t=>t.syncEngine)}function ty(n){return EN.apply(this,arguments)}function EN(){return EN=(0,Ce.Z)(function*(n){const t=yield bI(n),e=t.eventManager;return e.onListen=A5.bind(null,t.syncEngine),e.onUnlisten=x5.bind(null,t.syncEngine),e}),EN.apply(this,arguments)}function hj(n,t,e={}){const i=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,c,d,p){const y=new vI({next:D=>{s.enqueueAndForget(()=>UP(r,C));const x=D.docs.has(c);!x&&D.fromCache?p.reject(new xe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&D.fromCache&&d&&"server"===d.source?p.reject(new xe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new GP(F_(c.path),y,{includeMetadataChanges:!0,Du:!0});return BP(r,C)}(yield ty(n),n.asyncQueue,t,e,i)})),i.promise}function fj(n,t,e={}){const i=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,c,d,p){const y=new vI({next:D=>{s.enqueueAndForget(()=>UP(r,C)),D.fromCache&&"server"===d.source?p.reject(new xe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new GP(c,y,{includeMetadataChanges:!0,Du:!0});return BP(r,C)}(yield ty(n),n.asyncQueue,t,e,i)})),i.promise}const pj=new Map;function SN(n,t,e){if(!e)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mj(n,t,e,i){if(!0===t&&!0===i)throw new xe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function gj(n){if(!Ye.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _j(n){if(Ye.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":at()}function _n(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wI(n);throw new xe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function yj(n,t){if(t<=0)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class vj{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,mj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vj({}),this._settingsFrozen=!1,t instanceof gd?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new xe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(r.options.projectId)}(t))}get app(){if(!this._app)throw new xe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vj(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new a8;switch(e.type){case"gapi":const i=e.client;return Ot(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new d8(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pj.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),pj.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Bs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Bs(this.firestore,t,this._query)}}class Hc extends Bs{constructor(t,e,i){super(t,e,F_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new Ye(t))}withConverter(t){return new Hc(this.firestore,t,this._path)}}function bj(n,t,...e){if(n=(0,F.m9)(n),SN("collection","path",t),n instanceof zw){const i=bn.fromString(t,...e);return _j(i),new Hc(n,null,i)}{if(!(n instanceof fi||n instanceof Hc))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(t,...e));return _j(i),new Hc(n.firestore,null,i)}}function CI(n,t,...e){if(n=(0,F.m9)(n),1===arguments.length&&(t=H2.I()),SN("doc","path",t),n instanceof zw){const i=bn.fromString(t,...e);return gj(i),new fi(n,null,new Ye(i))}{if(!(n instanceof fi||n instanceof Hc))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(t,...e));return gj(i),new fi(n.firestore,n instanceof Hc?n.converter:null,new Ye(i))}}function wj(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),(n instanceof fi||n instanceof Hc)&&(t instanceof fi||t instanceof Hc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Cj(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),n instanceof Bs&&t instanceof Bs&&n.firestore===t.firestore&&Cw(n._query,t._query)&&n.converter===t.converter}class lZ{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vP(this,"async_queue_retry"),this.Kc=()=>{const e=gI();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=gI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=gI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Yr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,Ce.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!Wh(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,mr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=LP.createAndSchedule(this,t,e,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&at()}verifyOperationInProgress(){}zc(){var t=this;return(0,Ce.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function DN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class cZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ci extends zw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new lZ,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ej(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||Ej(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ej(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new w8(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new Q5(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Sj(n,t,e){const i=new Yr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield lj(n,e),yield cj(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===me.FAILED_PRECONDITION||c.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function Dj(n){if(n._initialized||n._terminated)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jc(Nr.fromBase64String(t))}catch(e){throw new xe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new jc(Nr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class hm{constructor(t){this._methodName=t}}class EI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}}const vZ=/^__.*__$/;class bZ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new yd(t,this.data,this.fieldMask,e,this.fieldTransforms):new U_(t,this.data,e,this.fieldTransforms)}}class Tj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new yd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Ij(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class SI{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new SI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return II(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(Ij(this.Zc)&&vZ.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class wZ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||Hw(t)}aa(t,e,i,r=!1){return new SI({Zc:t,methodName:e,ca:i,path:ar.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function fm(n){const t=n._freezeSettings(),e=Hw(n._databaseId);return new wZ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function DI(n,t,e,i,r,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,t,e,r);AN("Data must be an object, but it was:",c,i);const d=xj(i,c);let p,y;if(s.merge)p=new ya(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const C=[];for(const D of s.mergeFields){const x=xN(t,D,e);if(!c.contains(x))throw new xe(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Rj(C,x)||C.push(x)}p=new ya(C),y=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,y=c.fieldTransforms;return new bZ(new _s(d),p,y)}class $w extends hm{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $w}}function Mj(n,t,e){return new SI({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class TN extends hm{_toFieldTransform(t){return new Ew(t.path,new B_)}isEqual(t){return t instanceof TN}}class CZ extends hm{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=Mj(this,t,!0),i=this.ha.map(s=>pm(s,e)),r=new nm(i);return new Ew(t.path,r)}isEqual(t){return this===t}}class EZ extends hm{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=Mj(this,t,!0),i=this.ha.map(s=>pm(s,e)),r=new im(i);return new Ew(t.path,r)}isEqual(t){return this===t}}class SZ extends hm{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new V_(t.wt,vU(t.wt,this.la));return new Ew(t.path,e)}isEqual(t){return this===t}}function IN(n,t,e,i){const r=n.aa(1,t,e);AN("Data must be an object, but it was:",r,i);const s=[],c=_s.empty();Qp(i,(p,y)=>{const C=TI(t,p,e);y=(0,F.m9)(y);const D=r.ia(C);if(y instanceof $w)s.push(C);else{const x=pm(y,D);null!=x&&(s.push(C),c.set(C,x))}});const d=new ya(s);return new Tj(c,d,r.fieldTransforms)}function MN(n,t,e,i,r,s){const c=n.aa(1,t,e),d=[xN(t,i,e)],p=[r];if(s.length%2!=0)throw new xe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(xN(t,s[x])),p.push(s[x+1]);const y=[],C=_s.empty();for(let x=d.length-1;x>=0;--x)if(!Rj(y,d[x])){const P=d[x];let B=p[x];B=(0,F.m9)(B);const ee=c.ia(P);if(B instanceof $w)y.push(P);else{const ue=pm(B,ee);null!=ue&&(y.push(P),C.set(P,ue))}}const D=new ya(y);return new Tj(C,D,c.fieldTransforms)}function Aj(n,t,e,i=!1){return pm(e,n.aa(i?4:3,t))}function pm(n,t){if(kj(n=(0,F.m9)(n)))return AN("Unsupported field value:",t,n),xj(n,t);if(n instanceof hm)return function(e,i){if(!Ij(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=pm(c,i.ra(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vU(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=wi.fromDate(e);return{timestampValue:Aw(i.wt,r)}}if(e instanceof wi){const r=new wi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Aw(i.wt,r)}}if(e instanceof EI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jc)return{bytesValue:UU(i.wt,e._byteString)};if(e instanceof fi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:KO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${wI(e)}`)}(n,t)}function xj(n,t){const e={};return Z2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qp(n,(i,r)=>{const s=pm(r,t.ea(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function kj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wi||n instanceof EI||n instanceof jc||n instanceof fi||n instanceof hm)}function AN(n,t,e){if(!kj(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wI(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function xN(n,t,e){if((t=(0,F.m9)(t))instanceof bd)return t._internalPath;if("string"==typeof t)return TI(n,t);throw II("Field path arguments must be of type string or ",n,!1,void 0,e)}const DZ=new RegExp("[~\\*/\\[\\]]");function TI(n,t,e){if(t.search(DZ)>=0)throw II(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new bd(...t.split("."))._internalPath}catch(i){throw II(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function II(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new xe(me.INVALID_ARGUMENT,d+n+p)}function Rj(n,t){return n.some(e=>e.isEqual(t))}class qw{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new TZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(MI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class TZ extends qw{data(){return super.data()}}function MI(n,t){return"string"==typeof t?TI(n,t):t instanceof bd?t._internalPath:t._delegate._internalPath}class mm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wd extends qw{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(MI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Ww extends wd{data(t={}){return super.data(t)}}class sf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ww(this._firestore,this._userDataWriter,i.key,i,new mm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Ww(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new Ww(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:IZ(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function IZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function Oj(n,t){return n instanceof wd&&t instanceof wd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof sf&&t instanceof sf&&n._firestore===t._firestore&&Cj(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function Pj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yw{}function af(n,...t){for(const e of t)n=e._apply(n);return n}class MZ extends Yw{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=fm(t.firestore),i=function(r,s,c,d,p,y,C){let D;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){Uj(C,y);const P=[];for(const B of C)P.push(Vj(d,r,B));D={arrayValue:{values:P}}}else D=Vj(d,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||Uj(C,y),D=Aj(c,"where",C,"in"===y||"not-in"===y);const x=ys.create(p,y,D);return function(P,B){if(B.ht()){const ue=$O(P);if(null!==ue&&!ue.isEqual(B.field))throw new xe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ue.toString()}' and '${B.field.toString()}'`);const ke=zO(P);null!==ke&&Hj(0,B.field,ke)}const ee=function(ue,ke){for(const Ue of ue.filters)if(ke.indexOf(Ue.op)>=0)return Ue.op;return null}(P,function(ue){switch(ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==ee)throw new xe(me.INVALID_ARGUMENT,ee===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${ee.toString()}' filters.`)}(r,x),x}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Bs(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new _d(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class xZ extends Yw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new N_(r,s);return function(d,p){if(null===zO(d)){const y=$O(d);null!==y&&Hj(0,y,p.field)}}(i,c),c}(t._query,this.fa,this.wa);return new Bs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new _d(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Nj extends Yw{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new Bs(t.firestore,t.converter,fU(t._query,this.ma,this.ga))}}class Fj extends Yw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=Bj(t,this.type,this.ya,this.pa);return new Bs(t.firestore,t.converter,(r=e,new _d((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Lj extends Yw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=Bj(t,this.type,this.ya,this.pa);return new Bs(t.firestore,t.converter,(r=e,new _d((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Bj(n,t,e,i){if(e[0]=(0,F.m9)(e[0]),e[0]instanceof qw)return function(r,s,c,d,p){if(!d)throw new xe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of L_(r))if(C.field.isKeyField())y.push(em(s,d.key));else{const D=d.data.field(C.field);if(HO(D))throw new xe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const x=C.field.canonicalString();throw new xe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}y.push(D)}return new Qh(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=fm(n.firestore);return function(s,c,d,p,y,C){const D=s.explicitOrderBy;if(y.length>D.length)throw new xe(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let P=0;P<y.length;P++){const B=y[P];if(D[P].field.isKeyField()){if("string"!=typeof B)throw new xe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof B}`);if(!qO(s)&&-1!==B.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${B}' contains a slash.`);const ee=s.path.child(bn.fromString(B));if(!Ye.isDocumentKey(ee))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const ue=new Ye(ee);x.push(em(c,ue))}else{const ee=Aj(d,p,B);x.push(ee)}}return new Qh(x,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Vj(n,t,e){if("string"==typeof(e=(0,F.m9)(e))){if(""===e)throw new xe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qO(t)&&-1!==e.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(bn.fromString(e));if(!Ye.isDocumentKey(i))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return em(n,new Ye(i))}if(e instanceof fi)return em(n,e._key);throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wI(e)}.`)}function Uj(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hj(n,t,e){if(!e.isEqual(t))throw new xe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const BZ={maxAttempts:5};class kN{convertValue(t,e="none"){switch(Xp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw at()}}convertObject(t,e){const i={};return Qp(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new EI(Wi(t.latitude),Wi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Q2(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mw(t));default:return null}}convertTimestamp(t){const e=Yh(t);return new wi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=bn.fromString(t);Ot(KU(i));const r=new gd(i.get(1),i.get(3)),s=new Ye(i.popFirst(5));return r.isEqual(e)||mr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function AI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class VZ extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new jc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class jj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fm(t)}set(t,e,i){this._verifyNotCommitted();const r=lf(t,this._firestore),s=AI(r.converter,e,i),c=DI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,xi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=lf(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof bd?MN(this._dataReader,"WriteBatch.update",s._key,e,i,r):IN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,xi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=lf(t,this._firestore);return this._mutations=this._mutations.concat(new H_(e._key,xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lf(n,t){if((n=(0,F.m9)(n)).firestore!==t)throw new xe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gm extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new jc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function Gj(n,t,e){n=_n(n,fi);const i=_n(n.firestore,Ci),r=AI(n.converter,t,e);return ny(i,[DI(fm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,xi.none())])}function zj(n,t,e,...i){n=_n(n,fi);const r=_n(n.firestore,Ci),s=fm(r);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof bd?MN(s,"updateDoc",n._key,t,e,i):IN(s,"updateDoc",n._key,t),ny(r,[c.toMutation(n._key,xi.exists(!0))])}function $j(n,...t){var e,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||DN(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(DN(t[c])){const D=t[c];t[c]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,y,C;if(n instanceof fi)y=_n(n.firestore,Ci),C=F_(n._key.path),p={next:D=>{t[c]&&t[c](RN(y,n,D))},error:t[c+1],complete:t[c+2]};else{const D=_n(n,Bs);y=_n(D.firestore,Ci),C=D._query;const x=new gm(y);p={next:P=>{t[c]&&t[c](new sf(y,x,D,P))},error:t[c+1],complete:t[c+2]},Pj(n._query)}return function(D,x,P,B){const ee=new vI(B),ue=new GP(x,ee,P);return D.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return BP(yield ty(D),ue)})),()=>{ee.Tc(),D.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return UP(yield ty(D),ue)}))}}(_r(y),C,d,p)}function ny(n,t){return function(e,i){const r=new Yr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function k5(n,t,e){return YP.apply(this,arguments)}(yield CN(e),i,r)})),r.promise}(_r(n),t)}function RN(n,t,e){const i=e.docs.get(t._key),r=new gm(n);return new wd(n,r,t._key,i,new mm(e.hasPendingWrites,e.fromCache),t.converter)}class ZZ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=fm(t)}get(t){const e=lf(t,this._firestore),i=new VZ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return at();const s=r[0];if(s.isFoundDocument())return new qw(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new qw(this._firestore,i,e._key,null,e.converter);throw at()})}set(t,e,i){const r=lf(t,this._firestore),s=AI(r.converter,e,i),c=DI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=lf(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof bd?MN(this._dataReader,"Transaction.update",s._key,e,i,r):IN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=lf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=lf(t,this._firestore),i=new gm(this._firestore);return super.get(t).then(r=>new wd(this._firestore,i,e._key,r._document,new mm(!1,!1),e.converter))}}function ON(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Wj(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function Yj(){if(!function v8(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){k_=lo.SDK_VERSION,(0,lo._registerComponent)(new zl.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Ci(r,new c8(e.getProvider("auth-internal")),new h8(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,lo.registerVersion)(B2,"3.4.12",n),(0,lo.registerVersion)(B2,"3.4.12","esm2017")}();class Zw{constructor(t){this._delegate=t}static fromBase64String(t){return Yj(),new Zw(jc.fromBase64String(t))}static fromUint8Array(t){return Wj(),new Zw(jc.fromUint8Array(t))}toBase64(){return Yj(),this._delegate.toBase64()}toUint8Array(){return Wj(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PN(n){return function rK(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class sK{enableIndexedDbPersistence(t,e){return function dZ(n,t){Dj(n=_n(n,Ci));const e=_r(n),i=n._freezeSettings(),r=new mN;return Sj(e,r,new oj(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function hZ(n){Dj(n=_n(n,Ci));const t=_r(n),e=n._freezeSettings(),i=new mN;return Sj(t,i,new W5(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function fZ(n){if(n._initialized&&!n._terminated)throw new xe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(e=(0,Ce.Z)(function*(i){if(!$l.V())return Promise.resolve();const r=i+"main";yield $l.delete(r)}),function(i){return e.apply(this,arguments)})(cP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Zj{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof gd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&dw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function oZ(n,t,e,i={}){var r;const s=(n=_n(n,zw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&dw("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Wr.MOCK_USER;else{c=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new xe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Wr(p)}n._authCredentials=new l8(new V2(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function mZ(n){return function J5(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield uj(n),e=yield dj(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.lu.delete(0),jw(r)}(e)}))}(_r(n=_n(n,Ci)))}(this._delegate)}disableNetwork(){return function gZ(n){return function X5(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield uj(n),e=yield dj(n);return t.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const s=Qe(r);s.lu.add(0),yield Y_(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(_r(n=_n(n,Ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,mj("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pZ(n){return function(t){const e=new Yr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function N5(n,t){return XP.apply(this,arguments)}(yield CN(t),e)})),e.promise}(_r(n=_n(n,Ci)))}(this._delegate)}onSnapshotsInSync(t){return function YZ(n,t){return function nZ(n,t){const e=new vI(t);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield ty(n),r=e,Qe(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield ty(n),r=e,void Qe(i).Tu.delete(r);var i,r}))}}(_r(n=_n(n,Ci)),DN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new iy(this,bj(this._delegate,t))}catch(e){throw po(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ja(this,CI(this._delegate,t))}catch(e){throw po(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new mo(this,function aZ(n,t){if(n=_n(n,zw),SN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(n,null,(e=t,new _d(bn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw po(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function KZ(n,t,e){n=_n(n,Ci);const i=Object.assign(Object.assign({},BZ),e);return function(r){if(r.maxAttempts<1)throw new xe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function iZ(n,t,e){const i=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(s=n,bI(s).then(c=>c.datastore));var s;new K5(n.asyncQueue,r,e,t,i).run()})),i.promise}(_r(n),r=>t(new ZZ(n,r)),i)}(this._delegate,e=>t(new Kj(this,e)))}batch(){return _r(this._delegate),new Qj(new jj(this._delegate,t=>ny(this._delegate,t)))}loadBundle(t){return function _Z(n,t){const e=_r(n=_n(n,Ci)),i=new cZ;return function rZ(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return aj(p,y);if(p instanceof ArrayBuffer)return aj(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Y5(p,c);var p}(e,Hw(t));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function q5(n,t,e){const i=Qe(n);var r;(r=(0,Ce.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(x,P){const B=Qe(x),ee=Zr(P.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",ue=>B.Ds.getBundleMetadata(ue,P.id)).then(ue=>!!ue&&ue.createTime.compareTo(ee)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(x=p).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);d._updateProgress(KH(p));const y=new D5(p,s.localStore,c.wt);let C=yield c.fc();for(;C;){const x=yield y.Nu(C);x&&d._updateProgress(x),C=yield c.fc()}const D=yield y.complete();return yield vd(s,D.Mu,void 0),yield function(x,P){const B=Qe(x);return B.persistence.runTransaction("Save bundle","readwrite",ee=>B.Ds.saveBundleMetadata(ee,P))}(s.localStore,p),d._completeWith(D.progress),Promise.resolve(D.Ou)}catch(p){return dw("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var x}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield CN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function yZ(n,t){return function sZ(n,t){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield wN(n),t)}))}(_r(n=_n(n,Ci)),t).then(e=>e?new Bs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new mo(this,e):null)}}class xI extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zw(new jc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ja.forKey(e,this.firestore,null)}}class Kj{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xI(t)}get(t){const e=ym(t);return this._delegate.get(e).then(i=>new Kw(this._firestore,new wd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=ym(t);return i?(ON("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=ym(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=ym(t);return this._delegate.delete(e),this}}class Qj{constructor(t){this._delegate=t}set(t,e,i){const r=ym(t);return i?(ON("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=ym(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=ym(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class _m{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Ww(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qw(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=_m.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new _m(t,new xI(t),e),r.set(e,s)),s}}_m.INSTANCES=new WeakMap;class Ja{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ja(e,new fi(e._delegate,i,new Ye(t)))}static forKey(t,e,i){return new Ja(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new iy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new iy(this.firestore,bj(this._delegate,t))}catch(e){throw po(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,F.m9)(t))instanceof fi&&wj(this._delegate,t)}set(t,e){e=ON("DocumentReference.set",e);try{return e?Gj(this._delegate,t,e):Gj(this._delegate,t)}catch(i){throw po(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?zj(this._delegate,t):zj(this._delegate,t,e,...i)}catch(r){throw po(r,"updateDoc()","DocumentReference.update()")}}delete(){return function qZ(n){return ny(_n(n.firestore,Ci),[new H_(n._key,xi.none())])}(this._delegate)}onSnapshot(...t){const e=Jj(t),i=Xj(t,r=>new Kw(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return $j(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function HZ(n){n=_n(n,fi);const t=_n(n.firestore,Ci),e=_r(t),i=new gm(t);return function eZ(n,t){const e=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,c){try{const d=yield function(p,y){const C=Qe(p);return C.persistence.runTransaction("read document","readonly",D=>C.localDocuments.getDocument(D,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new xe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Q_(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield wN(n),t,e);var i})),e.promise}(e,n._key).then(r=>new wd(t,i,n._key,r,new mm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function jZ(n){n=_n(n,fi);const t=_n(n.firestore,Ci);return hj(_r(t),n._key,{source:"server"}).then(e=>RN(t,n,e))}(this._delegate):function UZ(n){n=_n(n,fi);const t=_n(n.firestore,Ci);return hj(_r(t),n._key).then(e=>RN(t,n,e))}(this._delegate),e.then(i=>new Kw(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ja(this.firestore,this._delegate.withConverter(t?_m.getInstance(this.firestore,t):null))}}function po(n,t,e){return n.message=n.message.replace(t,e),n}function Jj(n){for(const t of n)if("object"==typeof t&&!PN(t))return t;return{}}function Xj(n,t){var e,i;let r;return r=PN(n[0])?n[0]:PN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Kw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Oj(this._delegate,t._delegate)}}class Qw extends Kw{data(t){const e=this._delegate.data(t);return function o8(n,t){n||at()}(void 0!==e),e}}class mo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xI(t)}where(t,e,i){try{return new mo(this.firestore,af(this._delegate,function AZ(n,t,e){const i=t,r=MI("where",n);return new MZ(r,i,e)}(t,e,i)))}catch(r){throw po(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new mo(this.firestore,af(this._delegate,function kZ(n,t="asc"){const e=t,i=MI("orderBy",n);return new xZ(i,e)}(t,e)))}catch(i){throw po(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new mo(this.firestore,af(this._delegate,function RZ(n){return yj("limit",n),new Nj("limit",n,"F")}(t)))}catch(e){throw po(e,"limit()","Query.limit()")}}limitToLast(t){try{return new mo(this.firestore,af(this._delegate,function OZ(n){return yj("limitToLast",n),new Nj("limitToLast",n,"L")}(t)))}catch(e){throw po(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new mo(this.firestore,af(this._delegate,function PZ(...n){return new Fj("startAt",n,!0)}(...t)))}catch(e){throw po(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new mo(this.firestore,af(this._delegate,function NZ(...n){return new Fj("startAfter",n,!1)}(...t)))}catch(e){throw po(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new mo(this.firestore,af(this._delegate,function FZ(...n){return new Lj("endBefore",n,!1)}(...t)))}catch(e){throw po(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new mo(this.firestore,af(this._delegate,function LZ(...n){return new Lj("endAt",n,!0)}(...t)))}catch(e){throw po(e,"endAt()","Query.endAt()")}}isEqual(t){return Cj(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function zZ(n){n=_n(n,Bs);const t=_n(n.firestore,Ci),e=_r(t),i=new gm(t);return function tZ(n,t){const e=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,c){try{const d=yield fI(r,s,!0),p=new XH(s,d.ji),y=p.Ku(d.documents),C=p.applyChanges(y,!1);c.resolve(C.snapshot)}catch(d){const p=Q_(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield wN(n),t,e);var i})),e.promise}(e,n._query).then(r=>new sf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function $Z(n){n=_n(n,Bs);const t=_n(n.firestore,Ci),e=_r(t),i=new gm(t);return fj(e,n._query,{source:"server"}).then(r=>new sf(t,i,n,r))}(this._delegate):function GZ(n){n=_n(n,Bs);const t=_n(n.firestore,Ci),e=_r(t),i=new gm(t);return Pj(n._query),fj(e,n._query).then(r=>new sf(t,i,n,r))}(this._delegate),e.then(i=>new NN(this.firestore,new sf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Jj(t),i=Xj(t,r=>new NN(this.firestore,new sf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return $j(this._delegate,e,i)}withConverter(t){return new mo(this.firestore,this._delegate.withConverter(t?_m.getInstance(this.firestore,t):null))}}class aK{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Qw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Qw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new aK(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Qw(this._firestore,i))})}isEqual(t){return Oj(this._delegate,t._delegate)}}class iy extends mo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ja(this.firestore,t):null}doc(t){try{return new Ja(this.firestore,void 0===t?CI(this._delegate):CI(this._delegate,t))}catch(e){throw po(e,"doc()","CollectionReference.doc()")}}add(t){return function WZ(n,t){const e=_n(n.firestore,Ci),i=CI(n),r=AI(n.converter,t);return ny(e,[DI(fm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,xi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ja(this.firestore,e))}isEqual(t){return wj(this._delegate,t._delegate)}withConverter(t){return new iy(this.firestore,this._delegate.withConverter(t?_m.getInstance(this.firestore,t):null))}}function ym(n){return _n(n,fi)}class FN{constructor(...t){this._delegate=new bd(...t)}static documentId(){return new FN(ar.keyField().canonicalString())}isEqual(t){return(t=(0,F.m9)(t))instanceof bd&&this._delegate._internalPath.isEqual(t._internalPath)}}class vm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function JZ(){return new TN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new vm(t)}static delete(){const t=function QZ(){return new $w("deleteField")}();return t._methodName="FieldValue.delete",new vm(t)}static arrayUnion(...t){const e=function XZ(...n){return new CZ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new vm(e)}static arrayRemove(...t){const e=function eK(...n){return new EZ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new vm(e)}static increment(t){const e=function tK(n){return new SZ("increment",n)}(t);return e._methodName="FieldValue.increment",new vm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const lK={Firestore:Zj,GeoPoint:EI,Timestamp:wi,Blob:Zw,Transaction:Kj,WriteBatch:Qj,DocumentReference:Ja,DocumentSnapshot:Kw,Query:mo,QueryDocumentSnapshot:Qw,QuerySnapshot:NN,CollectionReference:iy,FieldPath:FN,FieldValue:vm,setLogLevel:function oK(n){!function s8(n){$h.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function uK(n){(function cK(n,t){n.INTERNAL.registerComponent(new zl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},lK)))})(n,(t,e)=>new Zj(t,e,new sK)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(GR.Z);const kI=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function eG(n=null){return t=>t.lift(new dK(n))}class dK{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new hK(t,this.defaultValue))}}class hK extends Bi.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function tG(n=mK){return t=>t.lift(new fK(n))}class fK{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new pK(t,this.errorFactory))}}class pK extends Bi.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function mK(){return new kI}var nG=L(5379);function bm(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zn((r,s)=>n(r,s,i)):nG.y,Or(1),e?eG(t):tG(()=>new kI))}function iG(n,t){return t?Ai(()=>n,t):Ai(()=>n)}var LN=L(3334);L(5867);const sG=new Map,bK={activated:!1,tokenObservers:[]},wK={initialized:!1,enabled:!1};function Jr(n){return sG.get(n)||bK}function ql(n,t){sG.set(n,t)}function OI(){return wK}class TK{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ce.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function IK(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const go=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aG(n){if(!Jr(n).activated)throw go.create("use-before-activation",{appName:n.name})}function HN(n,t){return jN.apply(this,arguments)}function jN(){return jN=(0,Ce.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(s["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,y;try{p=yield fetch(n,d)}catch(P){throw go.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw go.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(P){throw go.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const C=y.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const D=1e3*Number(C[1]),x=Date.now();return{token:y.token,expireTimeMillis:x+D,issuedAtTimeMillis:x}}),jN.apply(this,arguments)}function kK(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Jw="firebase-app-check-store";let FI=null;function cG(){return FI||(FI=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(go.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Jw,{keyPath:"compositeKey"})}}catch(i){t(go.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),FI)}function GN(){return GN=(0,Ce.Z)(function*(n,t){const i=(yield cG()).transaction(Jw,"readwrite"),s=i.objectStore(Jw).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var y;d(go.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),GN.apply(this,arguments)}const Xw=new Gl.Yd("@firebase/app-check");function fG(n,t){return(0,F.hl)()?function NK(n,t){return function uG(n,t){return GN.apply(this,arguments)}(function hG(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Xw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function pG(){return OI().enabled}function mG(){return WN.apply(this,arguments)}function WN(){return WN=(0,Ce.Z)(function*(){const n=OI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),WN.apply(this,arguments)}const HK={error:"UNKNOWN_ERROR"};function jK(n){return F.US.encodeString(JSON.stringify(n),!1)}function LI(n){return YN.apply(this,arguments)}function YN(){return YN=(0,Ce.Z)(function*(n,t=!1){const e=n.app;aG(e);const i=Jr(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&BI(p)&&(r=p)}if(!t&&r&&BI(r))return{token:r.token};let d,c=!1;if(pG()){i.exchangeTokenPromise||(i.exchangeTokenPromise=HN(kK(e,yield mG()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const p=yield i.exchangeTokenPromise;return yield fG(e,p),ql(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Xw.warn(p.message):Xw.error(p),s=p}return r?(d={token:r.token},ql(e,Object.assign(Object.assign({},i),{token:r})),yield fG(e,r)):d=zK(s),c&&_G(e,d),d}),YN.apply(this,arguments)}function KN(n,t){const e=Jr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ql(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function gG(n){const{app:t}=n,e=Jr(t);let i=e.tokenRefresher;i||(i=function GK(n){const{app:t}=n;return new TK((0,Ce.Z)(function*(){let i;if(i=Jr(t).token?yield LI(n,!0):yield LI(n),i.error)throw i.error}),()=>!0,()=>{const e=Jr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ql(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _G(n,t){const e=Jr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function BI(n){return n.expireTimeMillis-Date.now()>0}function zK(n){return{token:jK(HK),error:n}}class $K{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Jr(this.app);for(const e of t)KN(this.app,e.next);return Promise.resolve()}}const DG="app-check-internal";!function s7(){(0,lo._registerComponent)(new zl.wA("app-check",n=>function qK(n,t){return new $K(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(DG).initialize()})),(0,lo._registerComponent)(new zl.wA(DG,n=>function WK(n){return{getToken:t=>LI(n,t),addTokenListener:t=>function ZN(n,t,e,i){const{app:r}=n,s=Jr(r),c={next:e,error:i,type:t};if(ql(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&BI(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),gG(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gG(n))}(n,"INTERNAL",t),removeTokenListener:t=>KN(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,lo.registerVersion)("@firebase/app-check","0.5.11")}();class eC{constructor(){return(0,kn.vb)("app-check")}}"undefined"!=typeof window&&window;var UI=L(127);const t1=new a.OlP("angularfire2.auth.use-emulator"),n1=new a.OlP("angularfire2.auth.settings"),i1=new a.OlP("angularfire2.auth.tenant-id"),r1=new a.OlP("angularfire2.auth.langugage-code"),s1=new a.OlP("angularfire2.auth.use-device-language"),o1=new a.OlP("angularfire.auth.persistence"),a1=(n,t,e,i,r,s,c,d)=>(0,Pr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))p.settings[y]=C;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let tC=(()=>{class n{constructor(e,i,r,s,c,d,p,y,C,D,x,P){const B=new ot.xQ,ee=(0,nt.of)(void 0).pipe((0,f_.QV)(c.outsideAngular),Ai(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,Je.U)(()=>(0,Pr.on)(e,s,i)),(0,Je.U)(ue=>a1(ue,s,d,y,C,D,p,x)),OD({bufferSize:1,refCount:!1}));if(Ta(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,nt.of)(null);else{ee.pipe(bm()).subscribe();const ke=ee.pipe(Ai(He=>He.getRedirectResult().then(Tt=>Tt,()=>null)),kn.iC,OD({bufferSize:1,refCount:!1})),Ue=ee.pipe(Ai(He=>new gi.y(Tt=>({unsubscribe:s.runOutsideAngular(()=>He.onAuthStateChanged(kt=>Tt.next(kt),kt=>Tt.error(kt),()=>Tt.complete()))})))),Ve=ee.pipe(Ai(He=>new gi.y(Tt=>({unsubscribe:s.runOutsideAngular(()=>He.onIdTokenChanged(kt=>Tt.next(kt),kt=>Tt.error(kt),()=>Tt.complete()))}))));this.authState=ke.pipe(iG(Ue),(0,LN.R)(c.outsideAngular),(0,f_.QV)(c.insideAngular)),this.user=ke.pipe(iG(Ve),(0,LN.R)(c.outsideAngular),(0,f_.QV)(c.insideAngular)),this.idToken=this.user.pipe(Ai(He=>He?(0,jt.D)(He.getIdToken()):(0,nt.of)(null))),this.idTokenResult=this.user.pipe(Ai(He=>He?(0,jt.D)(He.getIdTokenResult()):(0,nt.of)(null))),this.credential=(0,oo.T)(ke,B,this.authState.pipe(Zn(He=>!He))).pipe((0,Je.U)(He=>(null==He?void 0:He.user)?He:null),(0,LN.R)(c.outsideAngular),(0,f_.QV)(c.insideAngular))}return(0,Pr.pX)(this,ee,s,{spy:{apply:(ue,ke,Ue)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&Ue.then(Ve=>B.next(Ve))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pr.Dh),a.LFG(Pr.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(kn.HU),a.LFG(t1,8),a.LFG(n1,8),a.LFG(i1,8),a.LFG(r1,8),a.LFG(s1,8),a.LFG(o1,8),a.LFG(eC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d7=(()=>{class n{constructor(){UI.Z.registerVersion("angularfire",kn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[tC]}),n})();function IG(n,t){return function h7(n,t=za.z){return new gi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function l1(n,t){return IG(n,t).pipe((0,Je.U)(e=>({payload:e,type:"query"})))}function HI(n,t){return l1(n,t).pipe(zr(void 0),Bp(),(0,Je.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(C=>C.doc.ref.isEqual(c.ref)),y=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function MG(n,t,e){return HI(n,e).pipe(Gp((i,r)=>function p7(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function m7(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return c1(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return c1(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return c1(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Uu(),(0,Je.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function c1(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function AG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xG{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=HI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Je.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(zr(void 0),Bp(),Zn(([i,r])=>r.length>0||!i),(0,Je.U)(([i,r])=>r),kn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AG(t);return MG(this.query,e,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(t={}){return l1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),kn.iC)}get(t){return(0,jt.D)(this.query.get(t)).pipe(kn.iC)}add(t){return this.ref.add(t)}doc(t){return new kG(this.ref.doc(t),this.afs)}}class kG{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=PG(i,e);return new xG(r,s,this.afs)}snapshotChanges(){return function f7(n,t){return IG(n,t).pipe(zr(void 0),Bp(),(0,Je.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,jt.D)(this.ref.get(t)).pipe(kn.iC)}}class g7{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?HI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Zn(e=>e.length>0),kn.iC):HI(this.query,this.afs.schedulers.outsideAngular).pipe(kn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AG(t);return MG(this.query,e,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(t={}){return l1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),kn.iC)}get(t){return(0,jt.D)(this.query.get(t)).pipe(kn.iC)}}const RG=new a.OlP("angularfire2.enableFirestorePersistence"),OG=new a.OlP("angularfire2.firestore.persistenceSettings"),_7=new a.OlP("angularfire2.firestore.settings"),y7=new a.OlP("angularfire2.firestore.use-emulator");function PG(n,t=(e=>e)){return{query:t(n),ref:n}}let NG=(()=>{class n{constructor(e,i,r,s,c,d,p,y,C,D,x,P,B,ee,ue,ke,Ue){this.schedulers=p;const Ve=(0,Pr.on)(e,d,i),He=C;D&&a1(Ve,d,x,B,ee,ue,P,ke),[this.firestore,this.persistenceEnabled$]=(0,Pr.cc)(`${Ve.name}.firestore`,"AngularFirestore",Ve.name,()=>{const Tt=d.runOutsideAngular(()=>Ve.firestore());if(s&&Tt.settings(s),He&&Tt.useEmulator(...He),r&&!Ta(c)){const kt=()=>{try{return(0,jt.D)(Tt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(pn){return"undefined"!=typeof console&&console.warn(pn),(0,nt.of)(!1)}};return[Tt,d.runOutsideAngular(kt)]}return[Tt,(0,nt.of)(!1)]},[s,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=PG(r,i),d=this.schedulers.ngZone.run(()=>s);return new xG(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new g7(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new kG(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pr.Dh),a.LFG(Pr.xv,8),a.LFG(RG,8),a.LFG(_7,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(kn.HU),a.LFG(OG,8),a.LFG(y7,8),a.LFG(tC,8),a.LFG(t1,8),a.LFG(n1,8),a.LFG(i1,8),a.LFG(r1,8),a.LFG(s1,8),a.LFG(o1,8),a.LFG(eC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),v7=(()=>{class n{constructor(){UI.Z.registerVersion("angularfire",kn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:RG,useValue:!0},{provide:OG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[NG]}),n})();var b7=L(1762);function u1(n){return function(e){return 0===n?(0,Xs.c)():e.lift(new w7(n))}}class w7{constructor(t){if(this.total=t,this.total<0)throw new pg}call(t,e){return e.subscribe(new C7(t,this.total))}}class C7 extends Bi.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const c=e++%i;t.next(r[c])}}t.complete()}}var S7=L(4327);class Cd{constructor(t,e){this.id=t,this.url=e}}class d1 extends Cd{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nC extends Cd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FG extends Cd{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class D7 extends Cd{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class T7 extends Cd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I7 extends Cd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M7 extends Cd{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class A7 extends Cd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x7 extends Cd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LG{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BG{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class k7{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R7{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O7{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P7{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VG{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const an="primary";class N7{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ry(n){return new N7(n)}const UG="ngNavigationCancelingError";function h1(n){const t=Error("NavigationCancelingError: "+n);return t[UG]=!0,t}function L7(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!HG(n[r],t[r]))return!1;return!0}function HG(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function jG(n){return Array.prototype.concat.apply([],n)}function GG(n){return n.length>0?n[n.length-1]:null}function vs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function zc(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,jt.D)(Promise.resolve(n)):(0,nt.of)(n)}const U7={exact:function qG(n,t,e){if(!Cm(n.segments,t.segments)||!jI(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qG(n.children[i],t.children[i],e))return!1;return!0},subset:WG},zG={exact:function H7(n,t){return Gc(n,t)},subset:function j7(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>HG(n[e],t[e]))},ignored:()=>!0};function $G(n,t,e){return U7[e.paths](n.root,t.root,e.matrixParams)&&zG[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function WG(n,t,e){return YG(n,t,t.segments,e)}function YG(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Cm(r,e)||t.hasChildren()||!jI(r,e,i))}if(n.segments.length===e.length){if(!Cm(n.segments,e)||!jI(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!WG(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Cm(n.segments,r)&&jI(n.segments,r,i)&&n.children[an])&&YG(n.children[an],t,s,i)}}function jI(n,t,e){return t.every((i,r)=>zG[e](n[r].parameters,i.parameters))}class wm{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ry(this.queryParams)),this._queryParamMap}toString(){return $7.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GI(this)}}class iC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ry(this.parameters)),this._parameterMap}toString(){return XG(this)}}function Cm(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class ZG{}class KG{parse(t){const e=new eQ(t);return new wm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${rC(t.root,!0)}`,i=function Y7(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${zI(e)}=${zI(r)}`).join("&"):`${zI(e)}=${zI(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function q7(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const $7=new KG;function GI(n){return n.segments.map(t=>XG(t)).join("/")}function rC(n,t){if(!n.hasChildren())return GI(n);if(t){const e=n.children[an]?rC(n.children[an],!1):"",i=[];return vs(n.children,(r,s)=>{s!==an&&i.push(`${s}:${rC(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function z7(n,t){let e=[];return vs(n.children,(i,r)=>{r===an&&(e=e.concat(t(i,r)))}),vs(n.children,(i,r)=>{r!==an&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===an?[rC(n.children[an],!1)]:[`${r}:${rC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${GI(n)}/${e[0]}`:`${GI(n)}/(${e.join("//")})`}}function QG(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zI(n){return QG(n).replace(/%3B/gi,";")}function f1(n){return QG(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $I(n){return decodeURIComponent(n)}function JG(n){return $I(n.replace(/\+/g,"%20"))}function XG(n){return`${f1(n.path)}${function W7(n){return Object.keys(n).map(t=>`;${f1(t)}=${f1(n[t])}`).join("")}(n.parameters)}`}const Z7=/^[^\/()?;=#]+/;function qI(n){const t=n.match(Z7);return t?t[0]:""}const K7=/^[^=?&#]+/,J7=/^[^&#]+/;class eQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[an]=new fn(t,e)),i}parseSegment(){const t=qI(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new iC($I(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qI(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=qI(this.remaining);r&&(i=r,this.capture(i))}t[$I(e)]=$I(i)}parseQueryParam(t){const e=function Q7(n){const t=n.match(K7);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function X7(n){const t=n.match(J7);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=JG(e),s=JG(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=an);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[an]:new fn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class e3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=p1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=p1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=m1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return m1(t,this._root).map(e=>e.value)}}function p1(n,t){if(n===t.value)return t;for(const e of t.children){const i=p1(n,e);if(i)return i}return null}function m1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=m1(n,e);if(i.length)return i.unshift(t),i}return[]}class Ed{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sy(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class t3 extends e3{constructor(t,e){super(t),this.snapshot=e,g1(this,t)}toString(){return this.snapshot.toString()}}function n3(n,t){const e=function tQ(n,t){const c=new WI([],{},{},"",{},an,t,null,n.root,-1,{});return new r3("",new Ed(c,[]))}(n,t),i=new us([new iC("",{})]),r=new us({}),s=new us({}),c=new us({}),d=new us(""),p=new cf(i,r,c,d,s,an,t,e.root);return p.snapshot=e.root,new t3(new Ed(p,[]),e)}class cf{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(t=>ry(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(t=>ry(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function i3(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function nQ(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class WI{constructor(t,e,i,r,s,c,d,p,y,C,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ry(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ry(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class r3 extends e3{constructor(t,e){super(e),this.url=t,g1(this,e)}toString(){return s3(this._root)}}function g1(n,t){t.value._routerState=n,t.children.forEach(e=>g1(n,e))}function s3(n){const t=n.children.length>0?` { ${n.children.map(s3).join(", ")} } `:"";return`${n.value}${t}`}function _1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Gc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Gc(t.params,e.params)||n.params.next(e.params),function B7(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Gc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Gc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function y1(n,t){const e=Gc(n.params,t.params)&&function G7(n,t){return Cm(n,t)&&n.every((e,i)=>Gc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||y1(n.parent,t.parent))}function sC(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function rQ(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sC(n,i,r);return sC(n,i)})}(n,t,e);return new Ed(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>sC(n,d)),c}}const i=function sQ(n){return new cf(new us(n.url),new us(n.params),new us(n.queryParams),new us(n.fragment),new us(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>sC(n,s));return new Ed(i,r)}}function YI(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function oC(n){return"object"==typeof n&&null!=n&&n.outlets}function v1(n,t,e,i,r){let s={};if(i&&vs(i,(d,p)=>{s[p]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),n===t)return new wm(e,s,r);const c=o3(n,t,e);return new wm(c,s,r)}function o3(n,t,e){const i={};return vs(n.children,(r,s)=>{i[s]=r===t?e:o3(r,t,e)}),new fn(n.segments,i)}class a3{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&YI(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(oC);if(r&&r!==GG(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class b1{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function l3(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return ZI(n,t,e);const i=function dQ(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(oC(d))break;const p=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!u3(p,y,c))return s;i+=2}else{if(!u3(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new fn(n.segments.slice(0,i.pathIndex),{});return s.children[an]=new fn(n.segments.slice(i.pathIndex),n.children),ZI(s,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?w1(n,t,e):i.match?ZI(n,0,r):w1(n,t,e)}function ZI(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function uQ(n){return oC(n[0])?n[0].outlets:{[an]:n}}(e),r={};return vs(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=l3(n.children[c],t,s))}),vs(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new fn(n.segments,r)}}function w1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(oC(s)){const p=hQ(s.outlets);return new fn(i,p)}if(0===r&&YI(e[0])){i.push(new iC(n.segments[t].path,c3(e[0]))),r++;continue}const c=oC(s)?s.outlets[an]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&YI(d)?(i.push(new iC(c,c3(d))),r+=2):(i.push(new iC(c,{})),r++)}return new fn(i,{})}function hQ(n){const t={};return vs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=w1(new fn([],{}),0,e))}),t}function c3(n){const t={};return vs(n,(e,i)=>t[i]=`${e}`),t}function u3(n,t,e){return n==e.path&&Gc(t,e.parameters)}class pQ{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),_1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=sy(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),vs(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=sy(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=sy(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=sy(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new P7(s.value.snapshot))}),t.children.length&&this.forwardEvent(new R7(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(_1(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),_1(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function mQ(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class C1{constructor(t,e){this.routes=t,this.module=e}}function uf(n){return"function"==typeof n}function Em(n){return n instanceof wm}const aC=Symbol("INITIAL_VALUE");function lC(){return Ai(n=>rT(n.map(t=>t.pipe(Or(1),zr(aC)))).pipe(Gp((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==aC?r:(s===aC&&(i=!0),i||!1!==s&&c!==e.length-1&&!Em(s)?r:s),t)},aC),Zn(t=>t!==aC),(0,Je.U)(t=>Em(t)?t:!0===t),Or(1)))}class wQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cC,this.attachRef=null}}class cC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wQ,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let KI=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=s||an,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new CQ(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(cC),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class CQ{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===cf?this.route:t===cC?this.childContexts:this.parent.get(t,e)}}let d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:[KI],encapsulation:2}),n})();function h3(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];EQ(i,SQ(t,i))}}function EQ(n,t){n.children&&h3(n.children,t)}function SQ(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function E1(n){const t=n.children&&n.children.map(E1),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==an&&(e.component=d3),e}function Xa(n){return n.outlet||an}function f3(n,t){const e=n.filter(i=>Xa(i)===t);return e.push(...n.filter(i=>Xa(i)!==t)),e}const p3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QI(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},p3):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||L7)(e,n,t);if(!s)return Object.assign({},p3);const c={};vs(s.posParams,(p,y)=>{c[y]=p.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function JI(n,t,e,i,r="corrected"){if(e.length>0&&function IQ(n,t,e){return e.some(i=>XI(n,t,i)&&Xa(i)!==an)}(n,e,i)){const c=new fn(t,function TQ(n,t,e,i){const r={};r[an]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Xa(s)!==an){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Xa(s)]=c}return r}(n,t,i,new fn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function MQ(n,t,e){return e.some(i=>XI(n,t,i))}(n,e,i)){const c=new fn(n.segments,function DQ(n,t,e,i,r,s){const c={};for(const d of i)if(XI(n,e,d)&&!r[Xa(d)]){const p=new fn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[Xa(d)]=p}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new fn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function XI(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function m3(n,t,e,i){return!!(Xa(n)===i||i!==an&&XI(t,e,n))&&("**"===n.path||QI(t,n,e).matched)}function g3(n,t,e){return 0===t.length&&!n.children[e]}class eM{constructor(t){this.segmentGroup=t||null}}class _3{constructor(t){this.urlTree=t}}function uC(n){return(0,Vh._)(new eM(n))}function y3(n){return(0,Vh._)(new _3(n))}function AQ(n){return(0,Vh._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class RQ{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=JI(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,an).pipe((0,Je.U)(s=>this.createUrlTree(S1(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ns(s=>{if(s instanceof _3)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof eM?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,an).pipe((0,Je.U)(r=>this.createUrlTree(S1(r),t.queryParams,t.fragment))).pipe(Ns(r=>{throw r instanceof eM?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new fn([],{[an]:t}):t;return new wm(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Je.U)(s=>new fn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,jt.D)(r).pipe(ko(s=>{const c=i.children[s],d=f3(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,Je.U)(p=>({segment:p,outlet:s})))}),Gp((s,c)=>(s[c.outlet]=c.segment,s),{}),function E7(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zn((r,s)=>n(r,s,i)):nG.y,u1(1),e?eG(t):tG(()=>new kI))}())}expandSegment(t,e,i,r,s,c){return(0,jt.D)(i).pipe(ko(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(Ns(y=>{if(y instanceof eM)return(0,nt.of)(null);throw y}))),bm(d=>!!d),Ns((d,p)=>{if(d instanceof kI||"EmptyError"===d.name)return g3(e,r,s)?(0,nt.of)(new fn([],{})):uC(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return m3(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):uC(e):uC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?y3(s):this.lineralizeSegments(i,s).pipe((0,Mn.zg)(c=>{const d=new fn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=QI(e,r,s);if(!d)return uC(e);const D=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?y3(D):this.lineralizeSegments(r,D).pipe((0,Mn.zg)(x=>this.expandSegment(t,e,i,x.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,nt.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Je.U)(D=>(i._loadedConfig=D,new fn(r,{})))):(0,nt.of)(new fn(r,{}));const{matched:c,consumedSegments:d,remainingSegments:p}=QI(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,Mn.zg)(C=>{const D=C.module,x=C.routes,{segmentGroup:P,slicedSegments:B}=JI(e,d,p,x),ee=new fn(P.segments,P.children);if(0===B.length&&ee.hasChildren())return this.expandChildren(D,x,ee).pipe((0,Je.U)(Ve=>new fn(d,Ve)));if(0===x.length&&0===B.length)return(0,nt.of)(new fn(d,{}));const ue=Xa(i)===s;return this.expandSegment(D,ee,x,B,ue?an:s,!0).pipe((0,Je.U)(Ue=>new fn(d.concat(Ue.segments),Ue.children)))})):uC(e)}getChildConfig(t,e,i){return e.children?(0,nt.of)(new C1(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,nt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Mn.zg)(r=>r?this.configLoader.load(t.injector,e).pipe((0,Je.U)(s=>(e._loadedConfig=s,s))):function xQ(n){return(0,Vh._)(h1(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):(0,nt.of)(new C1([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,nt.of)(!0);const s=r.map(c=>{const d=t.get(c);let p;if(function _Q(n){return n&&uf(n.canLoad)}(d))p=d.canLoad(e,i);else{if(!uf(d))throw new Error("Invalid CanLoad guard");p=d(e,i)}return zc(p)});return(0,nt.of)(s).pipe(lC(),(0,rr.b)(c=>{if(!Em(c))return;const d=h1(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,Je.U)(c=>!0===c))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,nt.of)(i);if(r.numberOfChildren>1||!r.children[an])return AQ(t.redirectTo);r=r.children[an]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new wm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return vs(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return vs(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new fn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function S1(n){const t={};for(const i of Object.keys(n.children)){const s=S1(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function OQ(n){if(1===n.numberOfChildren&&n.children[an]){const t=n.children[an];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}class v3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tM{constructor(t,e){this.component=t,this.route=e}}function NQ(n,t,e){const i=n._root;return dC(i,t?t._root:null,e,[i.value])}function nM(n,t,e){const i=function LQ(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function dC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=sy(t);return n.children.forEach(c=>{(function BQ(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function VQ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Cm(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Cm(n.url,t.url)||!Gc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y1(n,t)||!Gc(n.queryParams,t.queryParams);default:return!y1(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new v3(i)):(s.data=c.data,s._resolvedData=c._resolvedData),dC(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new tM(d.outlet.component,c))}else c&&hC(t,d,r),r.canActivateChecks.push(new v3(i)),dC(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),vs(s,(c,d)=>hC(c,e.getContext(d),r)),r}function hC(n,t,e){const i=sy(n),r=n.value;vs(i,(s,c)=>{hC(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new tM(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class YQ{}function b3(n){return new gi.y(t=>t.error(n))}class KQ{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=JI(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,an);if(null===e)return null;const i=new WI([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ed(i,e),s=new r3(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=i3(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=f3(t,s),p=this.processSegmentGroup(d,c,s);if(null===p)return null;i.push(...p)}const r=w3(i);return function QQ(n){n.sort((t,e)=>t.value.outlet===an?-1:e.value.outlet===an?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return g3(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!m3(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const P=i.length>0?GG(i).parameters:{};s=new WI(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,S3(t),Xa(t),t.component,t,C3(e),E3(e)+i.length,D3(t))}else{const P=QI(e,t,i);if(!P.matched)return null;c=P.consumedSegments,d=P.remainingSegments,s=new WI(c,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,S3(t),Xa(t),t.component,t,C3(e),E3(e)+c.length,D3(t))}const p=function JQ(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:y,slicedSegments:C}=JI(e,c,d,p.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===C.length&&y.hasChildren()){const P=this.processChildren(p,y);return null===P?null:[new Ed(s,P)]}if(0===p.length&&0===C.length)return[new Ed(s,[])];const D=Xa(t)===r,x=this.processSegment(p,y,C,D?an:r);return null===x?null:[new Ed(s,x)]}}function XQ(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function w3(n){const t=[],e=new Set;for(const i of n){if(!XQ(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=w3(i.children);t.push(new Ed(i.value,r))}return t.filter(i=>!e.has(i))}function C3(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function E3(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function S3(n){return n.data||{}}function D3(n){return n.resolve||{}}function T3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function D1(n){return Ai(t=>{const e=n(t);return e?(0,jt.D)(e).pipe((0,Je.U)(()=>t)):(0,nt.of)(t)})}class a9 extends class o9{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const T1=new a.OlP("ROUTES");class I3{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Je.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new C1(jG(c.injector.get(T1,void 0,a.XFs.Self|a.XFs.Optional)).map(E1),c)}),Ns(s=>{throw e._loader$=void 0,s}));return e._loader$=new b7.c(r,()=>new ot.xQ).pipe((0,S7.x)()),e._loader$}loadModuleFactory(t){return zc(t()).pipe((0,Mn.zg)(e=>e instanceof a.YKP?(0,nt.of)(e):(0,jt.D)(this.compiler.compileModuleAsync(e))))}}class c9{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function u9(n){throw n}function d9(n,t,e){return t.parse("/")}function M3(n,t){return(0,nt.of)(null)}const h9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},f9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yr=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ot.xQ,this.errorHandler=u9,this.malformedUriErrorHandler=d9,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:M3,afterPreactivation:M3},this.urlHandlingStrategy=new c9,this.routeReuseStrategy=new a9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const D=c.get(a.R0b);this.isNgZoneEnabled=D instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function V7(){return new wm(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new I3(c,d,x=>this.triggerEvent(new LG(x)),x=>this.triggerEvent(new BG(x))),this.routerState=n3(this.currentUrlTree,this.rootComponentType),this.transitions=new us({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Zn(r=>0!==r.id),(0,Je.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ai(r=>{let s=!1,c=!1;return(0,nt.of)(r).pipe((0,rr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ai(d=>{const p=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return A3(d.source)&&(this.browserUrlTree=d.extractedUrl),(0,nt.of)(d).pipe(Ai(D=>{const x=this.transitions.getValue();return i.next(new d1(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),x!==this.transitions.getValue()?Xs.E:Promise.resolve(D)}),function PQ(n,t,e,i){return Ai(r=>function kQ(n,t,e,i,r){return new RQ(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Je.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rr.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function e9(n,t,e,i,r){return(0,Mn.zg)(s=>function ZQ(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new KQ(n,t,e,i,r,s).recognize();return null===c?b3(new YQ):(0,nt.of)(c)}catch(c){return b3(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,Je.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rr.b)(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(P,D)}this.browserUrlTree=D.urlAfterRedirects}const x=new T7(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(x)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:P,source:B,restoredState:ee,extras:ue}=d,ke=new d1(x,this.serializeUrl(P),B,ee);i.next(ke);const Ue=n3(P,this.rootComponentType).snapshot;return(0,nt.of)(Object.assign(Object.assign({},d),{targetSnapshot:Ue,urlAfterRedirects:P,extras:Object.assign(Object.assign({},ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Xs.E}),D1(d=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:x,replaceUrl:P}}=d;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!x,replaceUrl:!!P})}),(0,rr.b)(d=>{const p=new I7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Je.U)(d=>Object.assign(Object.assign({},d),{guards:NQ(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function UQ(n,t){return(0,Mn.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?(0,nt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function HQ(n,t,e,i){return(0,jt.D)(n).pipe((0,Mn.zg)(r=>function WQ(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,nt.of)(!0);const c=s.map(d=>{const p=nM(d,t,r);let y;if(function bQ(n){return n&&uf(n.canDeactivate)}(p))y=zc(p.canDeactivate(n,t,e,i));else{if(!uf(p))throw new Error("Invalid CanDeactivate guard");y=zc(p(n,t,e,i))}return y.pipe(bm())});return(0,nt.of)(c).pipe(lC())}(r.component,r.route,e,t,i)),bm(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Mn.zg)(d=>d&&function gQ(n){return"boolean"==typeof n}(d)?function jQ(n,t,e,i){return(0,jt.D)(t).pipe(ko(r=>pp(function zQ(n,t){return null!==n&&t&&t(new k7(n)),(0,nt.of)(!0)}(r.route.parent,i),function GQ(n,t){return null!==n&&t&&t(new O7(n)),(0,nt.of)(!0)}(r.route,i),function qQ(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function FQ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Hl(()=>{const d=c.guards.map(p=>{const y=nM(p,c.node,e);let C;if(function vQ(n){return n&&uf(n.canActivateChild)}(y))C=zc(y.canActivateChild(i,n));else{if(!uf(y))throw new Error("Invalid CanActivateChild guard");C=zc(y(i,n))}return C.pipe(bm())});return(0,nt.of)(d).pipe(lC())}));return(0,nt.of)(s).pipe(lC())}(n,r.path,e),function $Q(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,nt.of)(!0);const r=i.map(s=>Hl(()=>{const c=nM(s,t,e);let d;if(function yQ(n){return n&&uf(n.canActivate)}(c))d=zc(c.canActivate(t,n));else{if(!uf(c))throw new Error("Invalid CanActivate guard");d=zc(c(t,n))}return d.pipe(bm())}));return(0,nt.of)(r).pipe(lC())}(n,r.route,e))),bm(r=>!0!==r,!0))}(i,s,n,t):(0,nt.of)(d)),(0,Je.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,rr.b)(d=>{if(Em(d.guardsResult)){const y=h1(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw y.url=d.guardsResult,y}const p=new M7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),Zn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),D1(d=>{if(d.guards.canActivateChecks.length)return(0,nt.of)(d).pipe((0,rr.b)(p=>{const y=new A7(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Ai(p=>{let y=!1;return(0,nt.of)(p).pipe(function t9(n,t){return(0,Mn.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,nt.of)(e);let s=0;return(0,jt.D)(r).pipe(ko(c=>function n9(n,t,e,i){return function i9(n,t,e,i){const r=T3(n);if(0===r.length)return(0,nt.of)({});const s={};return(0,jt.D)(r).pipe((0,Mn.zg)(c=>function r9(n,t,e,i){const r=nM(n,t,i);return zc(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,rr.b)(d=>{s[c]=d}))),u1(1),(0,Mn.zg)(()=>T3(s).length===r.length?(0,nt.of)(s):Xs.E))}(n._resolve,n,t,i).pipe((0,Je.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),i3(n,e).resolve),null)))}(c.route,i,n,t)),(0,rr.b)(()=>s++),u1(1),(0,Mn.zg)(c=>s===r.length?(0,nt.of)(e):Xs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rr.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,rr.b)(p=>{const y=new x7(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),D1(d=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:x,replaceUrl:P}}=d;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!x,replaceUrl:!!P})}),(0,Je.U)(d=>{const p=function iQ(n,t,e){const i=sC(n,t._root,e?e._root:void 0);return new t3(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),(0,rr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Je.U)(i=>(new pQ(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,rr.b)({next(){s=!0},complete(){s=!0}}),XS(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Ns(d=>{if(c=!0,function F7(n){return n&&n[UG]}(d)){const p=Em(d.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const y=new FG(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(y),p?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||A3(r.source)};this.scheduleNavigation(C,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new D7(r.id,this.serializeUrl(r.extractedUrl),d);i.next(p);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return Xs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){h3(e),this.config=e.map(E1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:c;let D=null;switch(d){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),function oQ(n,t,e,i,r){if(0===e.length)return v1(t.root,t.root,t.root,i,r);const s=function aQ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new a3(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return vs(s.outlets,(p,y)=>{d[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new a3(e,t,i)}(e);if(s.toRoot())return v1(t.root,t.root,new fn([],{}),i,r);const c=function lQ(n,t,e){if(n.isAbsolute)return new b1(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new b1(s,s===t.root,0)}const i=YI(n.commands[0])?0:1;return function cQ(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new b1(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?ZI(c.segmentGroup,c.index,s.commands):l3(c.segmentGroup,c.index,s.commands);return v1(t.root,c.segmentGroup,d,i,r)}(y,this.currentUrlTree,e,D,null!=C?C:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Em(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function p9(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},h9):!1===i?Object.assign({},f9):i,Em(e))return $G(this.currentUrlTree,e,r);const s=this.parseUrl(e);return $G(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new nC(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var d,p;if(this.disposed)return Promise.resolve(!1);let y,C,D;c?(y=c.resolve,C=c.reject,D=c.promise):D=new Promise((B,ee)=>{y=B,C=ee});const x=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):P=0,this.setTransition({id:x,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:y,reject:C,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(B=>Promise.reject(B))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new FG(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function A3(n){return"imperative"!==n}let oy=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ot.xQ,this.subscription=e.events.subscribe(s=>{s instanceof nC&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){if(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:ay(this.skipLocationChange),replaceUrl:ay(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ay(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yr),a.Y36(cf),a.Y36(ve))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function ay(n){return""===n||!!n}class x3{}class k3{preload(t,e){return(0,nt.of)(null)}}let R3=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new I3(r,i,p=>e.triggerEvent(new LG(p)),p=>e.triggerEvent(new BG(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(e=>e instanceof nC),ko(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,jt.D)(r).pipe((0,ov.J)(),(0,Je.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,nt.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Mn.zg)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(yr),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(x3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),M1=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof d1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nC&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof VG&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new VG(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Sm=new a.OlP("ROUTER_CONFIGURATION"),O3=new a.OlP("ROUTER_FORROOT_GUARD"),y9=[un,{provide:ZG,useClass:KG},{provide:yr,useFactory:function E9(n,t,e,i,r,s,c={},d,p){const y=new yr(null,n,t,e,i,r,jG(s));return d&&(y.urlHandlingStrategy=d),p&&(y.routeReuseStrategy=p),function S9(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(C=>{var D,x;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(x=console.groupEnd)||void 0===x||x.call(console)}),y},deps:[ZG,cC,un,a.zs3,a.Sil,T1,Sm,[class l9{},new a.FiY],[class s9{},new a.FiY]]},cC,{provide:cf,useFactory:function D9(n){return n.routerState.root},deps:[yr]},R3,k3,class _9{preload(t,e){return e().pipe(Ns(()=>(0,nt.of)(null)))}},{provide:Sm,useValue:{enableTracing:!1}}];function v9(){return new a.PXZ("Router",yr)}let P3=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[y9,N3(e),{provide:O3,useFactory:C9,deps:[[yr,new a.FiY,new a.tp0]]},{provide:Sm,useValue:i||{}},{provide:ve,useFactory:w9,deps:[re,[new a.tBr(Be),new a.FiY],Sm]},{provide:M1,useFactory:b9,deps:[yr,Mf,Sm]},{provide:x3,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:k3},{provide:a.PXZ,multi:!0,useFactory:v9},[A1,{provide:a.ip1,multi:!0,useFactory:T9,deps:[A1]},{provide:F3,useFactory:I9,deps:[A1]},{provide:a.tb,multi:!0,useExisting:F3}]]}}static forChild(e){return{ngModule:n,providers:[N3(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(O3,8),a.LFG(yr,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function b9(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new M1(n,t,e)}function w9(n,t,e={}){return e.useHash?new Ht(n,t):new st(n,t)}function C9(n){return"guarded"}function N3(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:T1,multi:!0,useValue:n}]}let A1=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ot.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(yr),c=this.injector.get(Sm);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,nt.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Sm),r=this.injector.get(R3),s=this.injector.get(M1),c=this.injector.get(yr),d=this.injector.get(a.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function T9(n){return n.appInitializer.bind(n)}function I9(n){return n.bootstrapListener.bind(n)}const F3=new a.OlP("Router Initializer");let iM=(()=>{class n{constructor(e,i,r,s,c){this.afs=e,this.afAuth=i,this.router=r,this.ngZone=s,this.snackBar=c,this.isLoading=!1,this.afAuth.authState.subscribe(d=>{d?(this.userData=d,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}showMessage(e,i=!1){this.snackBar.open(e,"X",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:i?["msg-error"]:["msg-success"]})}SignIn(e,i){return this.isLoading=!0,this.afAuth.signInWithEmailAndPassword(e,i).then(r=>{this.router.navigate(["/home"]),this.ngZone.run(()=>{this.load(),location.reload()}),this.SetUserData(r.user),this.isLoading=!1}).catch(r=>{this.errorHandler(r)})}SignUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}GoogleAuth(){return this.AuthLogin(new ZW.Q).then(e=>{e&&this.router.navigate(["/home"])})}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{this.ngZone.run(()=>{this.router.navigate(["/"])}),this.SetUserData(i.user),this.router.navigate(["/"])}).catch(i=>{window.alert(i)})}SetUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/sign-in"]),this.load(),location.reload()})}load(){("true"==sessionStorage.refresh||!sessionStorage.refresh)&&location.reload(),sessionStorage.refresh=!1}errorHandler(e){return this.showMessage("Login ou Senha Incorretos",!0),Xs.E}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(NG),a.LFG(tC),a.LFG(yr),a.LFG(a.R0b),a.LFG(uV))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fC=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(iM),a.LFG(yr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2,"Fa\xe7a Login"),a.qZA(),a.TgZ(3,"form")(4,"mat-form-field")(5,"input",2),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().email=r}),a.qZA()(),a.TgZ(6,"mat-form-field")(7,"input",3),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().senha=r}),a.qZA()(),a.TgZ(8,"button",4),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return r.authService.SignIn(r.email,r.senha)}),a._uU(9," Entrar "),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(5),a.Q6J("ngModel",e.email),a.xp6(2),a.Q6J("ngModel",e.senha)}}function x9(n,t){1&n&&(a.TgZ(0,"div",5),a._UZ(1,"mat-progress-spinner",6),a.qZA())}let k9=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.senha=""}ngOnInit(){1==this.authService.isLoggedIn&&this.router.navigate(["/home"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(iM),a.Y36(yr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-in"]],decls:2,vars:2,consts:[[4,"ngIf"],["style","display: flex; justify-content: center; align-items: center; background: white;",4,"ngIf"],["matInput","","placeholder","Login","name","name",3,"ngModel","ngModelChange"],["type","password","matInput","","placeholder","Senha","name","price",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[2,"display","flex","justify-content","center","align-items","center","background","white"],["color","primary","mode","indeterminate"]],template:function(e,i){1&e&&(a.YNc(0,A9,10,2,"mat-card",0),a.YNc(1,x9,2,0,"div",1)),2&e&&(a.Q6J("ngIf",0==i.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",i.authService.isLoading))},directives:[Un,Rp,td,pe,yc,ua,Bh,Lp,Ms,Mu,X,Vl,jl],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{margin:20px 15px 0 0}.mat-card[_ngcontent-%COMP%]{width:18%;margin-left:43%;margin-top:11%}"]}),n})(),x1=(()=>{class n{constructor(){this._headerData=new us({title:"In\xedcio",icon:"home",routeUrl:"/home"})}get headerData(){return this._headerData.value}set headerData(e){this._headerData.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{constructor(e,i){this.snackBar=e,this.http=i,this.baseUrl="https://fake-server-shop.herokuapp.com/products"}showMessage(e,i=!1){this.snackBar.open(e,"X",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:i?["msg-error"]:["msg-success"]})}create(e){return this.http.post(this.baseUrl,e).pipe((0,Je.U)(i=>i),Ns(i=>this.errorHandler(i)))}read(){return this.http.get(this.baseUrl).pipe((0,Je.U)(e=>e),Ns(e=>this.errorHandler(e)))}readById(e){return this.http.get(`${this.baseUrl}/${e}`).pipe((0,Je.U)(r=>r),Ns(r=>this.errorHandler(r)))}update(e){return this.http.put(`${this.baseUrl}/${e.id}`,e).pipe((0,Je.U)(r=>r),Ns(r=>this.errorHandler(r)))}delete(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe((0,Je.U)(r=>r),Ns(r=>this.errorHandler(r)))}errorHandler(e){return this.showMessage("Ocorreu um erro!",!0),Xs.E}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(uV),a.LFG(El))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R9(n,t){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Id"),a.qZA())}function O9(n,t){if(1&n&&(a.TgZ(0,"td",12),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.Oqu(e.id)}}function P9(n,t){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Name"),a.qZA())}function N9(n,t){if(1&n&&(a.TgZ(0,"td",12),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.Oqu(e.name)}}function F9(n,t){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Pre\xe7o"),a.qZA())}function L9(n,t){if(1&n&&(a.TgZ(0,"td",12),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.Oqu(a.xi3(2,1,e.price,"BRL"))}}function B9(n,t){1&n&&(a.TgZ(0,"th",11),a._uU(1,"A\xe7\xf5es"),a.qZA())}function V9(n,t){if(1&n&&(a.TgZ(0,"td",12)(1,"a",13)(2,"i",14),a._uU(3," edit "),a.qZA()(),a.TgZ(4,"a",15)(5,"i",16),a._uU(6," delete "),a.qZA()()()),2&n){const e=t.$implicit;a.xp6(1),a.MGl("routerLink","/products/update/",e.id,""),a.xp6(3),a.MGl("routerLink","/products/delete/",e.id,"")}}function U9(n,t){1&n&&a._UZ(0,"tr",17)}function H9(n,t){1&n&&a._UZ(0,"tr",18)}function j9(n,t){1&n&&(a.TgZ(0,"div",19),a._UZ(1,"mat-progress-spinner",20),a.qZA())}let G9=(()=>{class n{constructor(e){this.productService=e,this.products=[],this.displayedColumns=["id","name","price","action"],this.isLoading=!0}ngOnInit(){this.productService.read().subscribe(e=>{this.products=e,this.isLoading=!1,console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(rM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product-read"]],decls:17,vars:4,consts:[[1,"mat-elevation-z4"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","display: flex; justify-content: center; align-items: center; background: white;",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"edit",3,"routerLink"],[1,"material-icons","edit"],[1,"delete",3,"routerLink"],[1,"material-icons","delete"],["mat-header-row",""],["mat-row",""],[2,"display","flex","justify-content","center","align-items","center","background","white"],["color","primary","mode","indeterminate"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"table",1),a.ynx(2,2),a.YNc(3,R9,2,0,"th",3),a.YNc(4,O9,2,1,"td",4),a.BQk(),a.ynx(5,5),a.YNc(6,P9,2,0,"th",3),a.YNc(7,N9,2,1,"td",4),a.BQk(),a.ynx(8,6),a.YNc(9,F9,2,0,"th",3),a.YNc(10,L9,3,4,"td",4),a.BQk(),a.ynx(11,7),a.YNc(12,B9,2,0,"th",3),a.YNc(13,V9,7,2,"td",4),a.BQk(),a.YNc(14,U9,1,0,"tr",8),a.YNc(15,H9,1,0,"tr",9),a.qZA(),a.YNc(16,j9,2,0,"div",10),a.qZA()),2&e&&(a.xp6(1),a.Q6J("dataSource",i.products),a.xp6(13),a.Q6J("matHeaderRowDef",i.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns),a.xp6(1),a.Q6J("ngIf",i.isLoading))},directives:[gV,UR,VR,HR,BR,jR,oy,_V,vV,yV,bV,Un,jl],pipes:[dl],styles:["table[_ngcontent-%COMP%]{width:100%}.edit[_ngcontent-%COMP%]{margin-right:8px}.edit[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#00f}.delete[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#dc143c}"]}),n})();const z9=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"sign-in",component:k9},{path:"home",component:(()=>{class n{constructor(e){this.headerService=e,e.headerData={title:"In\xedcio",icon:"home",routeUrl:"/home"}}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(x1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"home","mat-elevation-z3"],[1,"title"],[1,"subtitle"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0)(1,"mat-card-title",1),a._uU(2," Bem Vindo! "),a.qZA(),a.TgZ(3,"mat-card-subtitle",2),a._uU(4," Sistema para Gerenciar os Produtos da 99Night "),a.qZA()())},directives:[Rp,td,LS],styles:[".home[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;line-height:1.2}.home[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1em}"]}),n})(),canActivate:[fC]},{path:"products",component:(()=>{class n{constructor(e,i){this.router=e,this.headerService=i,i.headerData={title:"Cadastro de produtos",icon:"storefront",routeUrl:"/products"}}ngOnInit(){}navigateToProductCreate(){this.router.navigate(["/products/create"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yr),a.Y36(x1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product-crud"]],decls:3,vars:0,consts:[["color","primary","mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return i.navigateToProductCreate()}),a._uU(1," Novo Produto\n"),a.qZA(),a._UZ(2,"app-product-read"))},directives:[Vl,G9],styles:["button[_ngcontent-%COMP%]{margin-bottom:30px}"]}),n})(),canActivate:[fC]},{path:"products/create",component:(()=>{class n{constructor(e,i){this.productService=e,this.router=i,this.product={name:"",price:"",status1:"",status2:"",description:"",img:""}}ngOnInit(){}createProduct(){this.productService.create(this.product).subscribe(()=>{this.productService.showMessage("Produto criado!"),this.router.navigate(["/products"])})}cancel(){this.router.navigate(["/products"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(rM),a.Y36(yr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product-create"]],decls:20,vars:6,consts:[["matInput","","placeholder","Nome","name","name",3,"ngModel","ngModelChange"],["matInput","","placeholder","Pre\xe7o (R$)","name","price",3,"ngModel","ngModelChange"],["matInput","","placeholder","Status1","name","Status1",3,"ngModel","ngModelChange"],["matInput","","placeholder","Status2","name","Status2",3,"ngModel","ngModelChange"],["matInput","","placeholder","Descricao","name","description",3,"ngModel","ngModelChange"],["matInput","","placeholder","Link Imagem","name","description",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2,"Novo Produto"),a.qZA(),a.TgZ(3,"form")(4,"mat-form-field")(5,"input",0),a.NdJ("ngModelChange",function(s){return i.product.name=s}),a.qZA()(),a.TgZ(6,"mat-form-field")(7,"input",1),a.NdJ("ngModelChange",function(s){return i.product.price=s}),a.qZA()(),a.TgZ(8,"mat-form-field")(9,"input",2),a.NdJ("ngModelChange",function(s){return i.product.status1=s}),a.qZA()(),a.TgZ(10,"mat-form-field")(11,"input",3),a.NdJ("ngModelChange",function(s){return i.product.status2=s}),a.qZA()(),a.TgZ(12,"mat-form-field")(13,"input",4),a.NdJ("ngModelChange",function(s){return i.product.description=s}),a.qZA()(),a.TgZ(14,"mat-form-field")(15,"input",5),a.NdJ("ngModelChange",function(s){return i.product.img=s}),a.qZA()()()(),a.TgZ(16,"button",6),a.NdJ("click",function(){return i.createProduct()}),a._uU(17," Salvar\n"),a.qZA(),a.TgZ(18,"button",7),a.NdJ("click",function(){return i.cancel()}),a._uU(19," Cancelar\n"),a.qZA()),2&e&&(a.xp6(5),a.Q6J("ngModel",i.product.name),a.xp6(2),a.Q6J("ngModel",i.product.price),a.xp6(2),a.Q6J("ngModel",i.product.status1),a.xp6(2),a.Q6J("ngModel",i.product.status2),a.xp6(2),a.Q6J("ngModel",i.product.description),a.xp6(2),a.Q6J("ngModel",i.product.img))},directives:[Rp,td,pe,yc,ua,Bh,Lp,Ms,Mu,X,Vl],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{margin:20px 15px 0 0}.mat-card[_ngcontent-%COMP%]{width:50%}"]}),n})(),canActivate:[fC]},{path:"products/update/:id",component:(()=>{class n{constructor(e,i,r){this.productService=e,this.router=i,this.route=r}ngOnInit(){const e=+this.route.snapshot.paramMap.get("id");this.productService.readById(e).subscribe(i=>{this.product=i})}updateProduct(){this.productService.update(this.product).subscribe(()=>{this.productService.showMessage("Produto atualizado com sucesso!"),this.router.navigate(["/products"])})}cancel(){this.router.navigate(["/products"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(rM),a.Y36(yr),a.Y36(cf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product-update"]],decls:20,vars:6,consts:[["matInput","","placeholder","Nome","name","name",3,"ngModel","ngModelChange"],["matInput","","placeholder","Pre\xe7o (R$)","name","price",3,"ngModel","ngModelChange"],["matInput","","placeholder","Status1","name","status1",3,"ngModel","ngModelChange"],["matInput","","placeholder","Status2","name","status2",3,"ngModel","ngModelChange"],["matInput","","placeholder","Descricao","name","description",3,"ngModel","ngModelChange"],["matInput","","placeholder","Link Imagem","name","img",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2,"Alterar Produto"),a.qZA(),a.TgZ(3,"form")(4,"mat-form-field")(5,"input",0),a.NdJ("ngModelChange",function(s){return i.product.name=s}),a.qZA()(),a.TgZ(6,"mat-form-field")(7,"input",1),a.NdJ("ngModelChange",function(s){return i.product.price=s}),a.qZA()(),a.TgZ(8,"mat-form-field")(9,"input",2),a.NdJ("ngModelChange",function(s){return i.product.status1=s}),a.qZA()(),a.TgZ(10,"mat-form-field")(11,"input",3),a.NdJ("ngModelChange",function(s){return i.product.status2=s}),a.qZA()(),a.TgZ(12,"mat-form-field")(13,"input",4),a.NdJ("ngModelChange",function(s){return i.product.description=s}),a.qZA()(),a.TgZ(14,"mat-form-field")(15,"input",5),a.NdJ("ngModelChange",function(s){return i.product.img=s}),a.qZA()()(),a.TgZ(16,"button",6),a.NdJ("click",function(){return i.updateProduct()}),a._uU(17," Atualizar "),a.qZA(),a.TgZ(18,"button",7),a.NdJ("click",function(){return i.cancel()}),a._uU(19," Cancelar "),a.qZA()()),2&e&&(a.xp6(5),a.Q6J("ngModel",i.product.name),a.xp6(2),a.Q6J("ngModel",i.product.price),a.xp6(2),a.Q6J("ngModel",i.product.status1),a.xp6(2),a.Q6J("ngModel",i.product.status2),a.xp6(2),a.Q6J("ngModel",i.product.description),a.xp6(2),a.Q6J("ngModel",i.product.img))},directives:[Rp,td,pe,yc,ua,Bh,Lp,Ms,Mu,X,Vl],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px}button[_ngcontent-%COMP%]{margin:20px 15px 0 0}.mat-card[_ngcontent-%COMP%]{width:50%}"]}),n})(),canActivate:[fC]},{path:"products/delete/:id",component:(()=>{class n{constructor(e,i,r){this.productService=e,this.router=i,this.route=r}ngOnInit(){const e=+this.route.snapshot.paramMap.get("id");this.productService.readById(e).subscribe(i=>{this.product=i})}deleteProduct(){this.productService.delete(this.product.id).subscribe(()=>{this.productService.showMessage("Produto apagado com sucesso!"),this.router.navigate(["/products"])})}cancel(){this.router.navigate(["/products"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(rM),a.Y36(yr),a.Y36(cf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product-delete"]],decls:12,vars:3,consts:[["matInput","","placeholder","Nome","name","name","disabled","",3,"value"],["matInput","","placeholder","Pre\xe7o (R$)","name","price","disabled","",3,"value"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2),a.qZA(),a.TgZ(3,"form")(4,"mat-form-field"),a._UZ(5,"input",0),a.qZA(),a.TgZ(6,"mat-form-field"),a._UZ(7,"input",1),a.qZA()(),a.TgZ(8,"button",2),a.NdJ("click",function(){return i.deleteProduct()}),a._uU(9," Excluir "),a.qZA(),a.TgZ(10,"button",3),a.NdJ("click",function(){return i.cancel()}),a._uU(11," Cancelar "),a.qZA()()),2&e&&(a.xp6(2),a.hij("Voc\xea realmente quer deletar ",i.product.name," ?"),a.xp6(3),a.Q6J("value",i.product.name),a.xp6(2),a.Q6J("value",i.product.price))},directives:[Rp,td,pe,yc,ua,Bh,Lp,Vl],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px}button[_ngcontent-%COMP%]{margin:20px 15px 0 0}"]}),n})(),canActivate:[fC]}];let $9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[P3.forRoot(z9)],P3]}),n})(),q9=(()=>{class n{constructor(e,i){this.HeaderService=e,this.authService=i}ngOnInit(){}get title(){return this.HeaderService.headerData.title}get icon(){return this.HeaderService.headerData.icon}get routeUrl(){return this.HeaderService.headerData.routeUrl}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(x1),a.Y36(iM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:15,vars:4,consts:[[1,"header","mat-elevation-z4"],["routerLink","/"],["src","assets/img/logo.svg","alt","logo",1,"logo"],[1,"title-group"],[1,"link",3,"routerLink"],[1,"material-icons"],[1,"title"],[1,"espacamento-toolbar"],["mat-icon-button",""],[3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-toolbar",0)(1,"span")(2,"a",1),a._UZ(3,"img",2),a.qZA()(),a.TgZ(4,"span",3)(5,"a",4)(6,"i",5),a._uU(7),a.qZA()()(),a.TgZ(8,"span",6)(9,"a",4),a._uU(10),a.qZA()(),a._UZ(11,"span",7),a.TgZ(12,"button",8)(13,"mat-icon",9),a.NdJ("click",function(){return i.authService.SignOut()}),a._uU(14,"logout"),a.qZA()()()),2&e&&(a.xp6(5),a.s9C("routerLink",i.routeUrl),a.xp6(2),a.hij(" ",i.icon," "),a.xp6(2),a.s9C("routerLink",i.routeUrl),a.xp6(1),a.Oqu(i.title))},directives:[wV,oy,Vl,cD],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;background:#262835}.header[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-height:64px;padding-top:20px}.header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]{padding-left:25px}.header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:5px}.espacamento-toolbar[_ngcontent-%COMP%]{flex:1 1 auto}.link[_ngcontent-%COMP%]{color:#708090;text-decoration:none}.title[_ngcontent-%COMP%]{margin:10px 25px 15px 8px;color:#708090}"]}),n})(),W9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-nav"]],decls:13,vars:0,consts:[[1,"container"],["mode","side","opened","","fixedInViewport","true","fixedTopGap","64",1,"sidenav"],[1,"nav-list"],["mat-list-item","","routerLink","/home"],[1,"material-icons"],["mat-list-item","","routerLink","/products"],[1,"content"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1)(2,"mat-nav-list",2)(3,"a",3)(4,"i",4),a._uU(5," home "),a.qZA(),a._uU(6," In\xedcio "),a.qZA(),a.TgZ(7,"a",5)(8,"i",4),a._uU(9,"storefront"),a.qZA(),a._uU(10," Produtos "),a.qZA()()(),a.TgZ(11,"mat-sidenav-content",6),a._UZ(12,"router-outlet"),a.qZA()())},directives:[oV,sV,d_,mB,oy,TR,KI],styles:[".sidenav[_ngcontent-%COMP%]{background-color:#3f51b5;width:200px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.sidenav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.content[_ngcontent-%COMP%]{padding:16px;background-color:#fff}"]}),n})(),Y9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"footer"],[2,"color","white"],[1,"red"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-toolbar",0)(1,"span",1),a._uU(2," Desenvolvido por "),a.TgZ(3,"strong")(4,"span",2),a._uU(5,"Leonardo Teixeira"),a.qZA()()()())},directives:[wV],styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;background:#262835;display:flex;justify-content:flex-end}.footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:300}"]}),n})();function Z9(n,t){1&n&&a._UZ(0,"app-header")}function K9(n,t){1&n&&a._UZ(0,"app-nav")}function Q9(n,t){1&n&&a._UZ(0,"app-footer")}let J9=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){console.log(this.authService.isLoggedIn)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(iM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:3,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(a.YNc(0,Z9,1,0,"app-header",0),a.YNc(1,K9,1,0,"app-nav",0),a.YNc(2,Q9,1,0,"app-footer",0),a.TgZ(3,"mat-card-content"),a._UZ(4,"router-outlet"),a.qZA()),2&e&&(a.Q6J("ngIf",1==i.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",1==i.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",1==i.authService.isLoggedIn))},directives:[Un,q9,W9,Y9,nb,KI],encapsulation:2}),n})();const L3="firebasestorage.googleapis.com",B3="storageBucket";class Yi extends F.ZR{constructor(t,e){super(k1(t),`Firebase Storage: ${e} (${k1(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}_codeEquals(t){return k1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function k1(n){return"storage/"+n}function R1(){return new Yi("unknown","An unknown error occurred, please check the error payload for server response.")}function V3(){return new Yi("canceled","User canceled the upload/download.")}function U3(){return new Yi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ly(n){return new Yi("invalid-argument",n)}function H3(){return new Yi("app-deleted","The Firebase app was deleted.")}function j3(n){return new Yi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pC(n,t){return new Yi("invalid-format","String does not match format '"+n+"': "+t)}function mC(n){throw new Yi("internal-error","Internal error: "+n)}class Vs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Vs.makeFromUrl(t,e)}catch(r){return new Vs(t,"")}if(""===i.path)return i;throw function lJ(n){return new Yi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(He){He.path_=decodeURIComponent(He.path)}const D=e.replace(/[.]/g,"\\."),Ve=[{regex:d,indices:{bucket:1,path:3},postModify:function s(He){"/"===He.path.charAt(He.path.length-1)&&(He.path_=He.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===L3?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let He=0;He<Ve.length;He++){const Tt=Ve[He],kt=Tt.regex.exec(t);if(kt){let lr=kt[Tt.indices.path];lr||(lr=""),i=new Vs(kt[Tt.indices.bucket],lr),Tt.postModify(i);break}}if(null==i)throw function aJ(n){return new Yi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class hJ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function sM(n){return"string"==typeof n||n instanceof String}function G3(n){return O1()&&n instanceof Blob}function O1(){return"undefined"!=typeof Blob}function P1(n,t,e,i){if(i<t)throw ly(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw ly(`Invalid value for '${n}'. Expected ${e} or less.`)}function Sd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function z3(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var df=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(df||(df={})),df))();class yJ{constructor(t,e,i,r,s,c,d,p,y,C,D){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,P)=>{this.resolve_=x,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function mJ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=R1();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?H3():V3():function oJ(){return new Yi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new oM(!1,null,!0)):this.backoffId_=function fJ(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let y=!1;function C(...ue){y||(y=!0,t.apply(null,ue))}function D(ue){r=setTimeout(()=>{r=null,n(P,p())},ue)}function x(){s&&clearTimeout(s)}function P(ue,...ke){if(y)return void x();if(ue)return x(),void C.call(null,ue,...ke);if(p()||c)return x(),void C.call(null,ue,...ke);let Ve;i<64&&(i*=2),1===d?(d=2,Ve=0):Ve=1e3*(i+Math.random()),D(Ve)}let B=!1;function ee(ue){B||(B=!0,x(),!y&&(null!==r?(ue||(d=2),clearTimeout(r),D(0)):ue||(d=1)))}return D(0),s=setTimeout(()=>{c=!0,ee(!0)},e),ee}((i,r)=>{if(r)return void i(!1,new oM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===df.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const C=s.getErrorCode()===df.ABORT;return void i(!1,new oM(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new oM(y,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function pJ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class oM{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function DJ(...n){const t=function SJ(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(O1())return new Blob(n);throw new Yi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const va={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class N1{constructor(t,e){this.data=t,this.contentType=e||null}}function F1(n,t){switch(n){case va.RAW:return new N1($3(t));case va.BASE64:case va.BASE64URL:return new N1(q3(n,t));case va.DATA_URL:return new N1(function AJ(n){const t=new W3(n);return t.base64?q3(va.BASE64,t.rest):function MJ(n){let t;try{t=decodeURIComponent(n)}catch(e){throw pC(va.DATA_URL,"Malformed data URL.")}return $3(t)}(t.rest)}(t),function xJ(n){return new W3(n).contentType}(t))}throw R1()}function $3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function q3(n,t){switch(n){case va.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw pC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case va.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw pC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function IJ(n){return atob(n)}(t)}catch(r){throw pC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class W3{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw pC(va.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function kJ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class $c{constructor(t,e){let i=0,r="";G3(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(G3(this.data_)){const r=function TJ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new $c(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new $c(i,!0)}}static getBlob(...t){if(O1()){const e=t.map(i=>i instanceof $c?i.data_:i);return new $c(DJ.apply(null,e))}{const e=t.map(c=>sM(c)?F1(va.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new $c(r,!0)}}uploadData(){return this.data_}}function L1(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function _J(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Y3(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function PJ(n,t){return t}class _o{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||PJ}}let aM=null;function gC(){if(aM)return aM;const n=[];n.push(new _o("bucket")),n.push(new _o("generation")),n.push(new _o("metageneration")),n.push(new _o("name","fullPath",!0));const e=new _o("name");e.xform=function t(s,c){return function NJ(n){return!sM(n)||n.length<2?n:Y3(n)}(c)},n.push(e);const r=new _o("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new _o("timeCreated")),n.push(new _o("updated")),n.push(new _o("md5Hash",null,!0)),n.push(new _o("cacheControl",null,!0)),n.push(new _o("contentDisposition",null,!0)),n.push(new _o("contentEncoding",null,!0)),n.push(new _o("contentLanguage",null,!0)),n.push(new _o("contentType",null,!0)),n.push(new _o("metadata","customMetadata",!0)),aM=n,aM}function Z3(n,t,e){const i=L1(t);return null===i?null:function LJ(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function FJ(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Vs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function B1(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const K3="prefixes";class qc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wc(n){if(!n)throw R1()}function lM(n,t){return function e(i,r){const s=Z3(n,r,t);return Wc(null!==s),s}}function cy(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function rJ(){return new Yi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function iJ(){return new Yi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function nJ(n){return new Yi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function sJ(n){return new Yi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function _C(n){const t=cy(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function tJ(n){return new Yi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function J3(n,t,e){const r=Sd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new qc(r,"GET",lM(n,e),c);return d.errorHandler=_C(t),d}function GJ(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Sd(t.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,C=new qc(d,"GET",function HJ(n,t){return function e(i,r){const s=function UJ(n,t,e){const i=L1(e);return null===i?null:function VJ(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[K3])for(const r of e[K3]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Vs(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new Vs(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Wc(null!==s),s}}(n,t.bucket),y);return C.urlParams=s,C.errorHandler=cy(t),C}function ez(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function WJ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class cM{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function V1(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Wc(!1)}return Wc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const QJ={STATE_CHANGED:"state_changed"},yo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function U1(n){switch(n){case"running":case"pausing":case"canceling":return yo.RUNNING;case"paused":return yo.PAUSED;case"success":return yo.SUCCESS;case"canceled":return yo.CANCELED;default:return yo.ERROR}}class JJ{constructor(t,e,i){if(function gJ(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function uy(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class eX extends class XJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=df.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=df.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=df.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw mC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw mC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Wl(){return new eX}class rz{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=gC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function YJ(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=ez(t,i,r),d={name:c.fullPath},p=Sd(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=B1(c,e),B=new qc(p,"POST",function P(ee){let ue;V1(ee);try{ue=ee.getResponseHeader("X-Goog-Upload-URL")}catch(ke){Wc(!1)}return Wc(sM(ue)),ue},n.maxUploadRetryTime);return B.urlParams=d,B.headers=C,B.body=D,B.errorHandler=cy(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function ZJ(n,t,e,i){const p=new qc(e,"POST",function s(y){const C=V1(y,["active","final"]);let D=null;try{D=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch(P){Wc(!1)}D||Wc(!1);const x=Number(D);return Wc(!isNaN(x)),new cM(x,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=cy(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Wl,e,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new cM(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function KJ(n,t,e,i,r,s,c,d){const p=new cM(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function uJ(){return new Yi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let C=y;r>0&&(C=Math.min(C,r));const D=p.current,B={"X-Goog-Upload-Command":C===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ee=i.slice(D,D+C);if(null===ee)throw U3();const Ve=new qc(e,"POST",function ue(He,Tt){const kt=V1(He,["active","final"]),pn=p.current+C,lr=i.size();let wa;return wa="final"===kt?lM(t,s)(He,Tt):null,new cM(pn,lr,"final"===kt,wa)},t.maxUploadRetryTime);return Ve.headers=B,Ve.body=ee.uploadData(),Ve.progressCallback=d||null,Ve.errorHandler=cy(n),Ve}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Wl,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=J3(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Wl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function tz(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ve="";for(let He=0;He<2;He++)Ve+=Math.random().toString().slice(2);return Ve}();c["Content-Type"]="multipart/related; boundary="+p;const y=ez(t,i,r),C=B1(y,e),P=$c.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw U3();const B={name:y.fullPath},ee=Sd(s,n.host,n._protocol),ke=n.maxUploadRetryTime,Ue=new qc(ee,"POST",lM(n,e),ke);return Ue.urlParams=B,Ue.headers=c,Ue.body=P.uploadData(),Ue.errorHandler=cy(t),Ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=V3(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=U1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new JJ(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(U1(this._state)){case yo.SUCCESS:uy(this._resolve.bind(null,this.snapshot))();break;case yo.CANCELED:case yo.ERROR:uy(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(U1(this._state)){case yo.RUNNING:case yo.PAUSED:t.next&&uy(t.next.bind(t,this.snapshot))();break;case yo.SUCCESS:t.complete&&uy(t.complete.bind(t))();break;default:t.error&&uy(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Dm{constructor(t,e){this._service=t,this._location=e instanceof Vs?e:Vs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Dm(t,e)}get root(){const t=new Vs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y3(this._location.path)}get storage(){return this._service}get parent(){const t=function RJ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Vs(this._location.bucket,t);return new Dm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw j3(t)}}function oz(n,t,e){return H1.apply(this,arguments)}function H1(){return H1=(0,Ce.Z)(function*(n,t,e){const r=yield az(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield oz(n,t,r.nextPageToken))}),H1.apply(this,arguments)}function az(n,t){null!=t&&"number"==typeof t.maxResults&&P1("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=GJ(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Wl)}function hX(n){n._throwIfRoot("getDownloadURL");const t=function zJ(n,t,e){const r=Sd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new qc(r,"GET",function jJ(n,t){return function e(i,r){const s=Z3(n,r,t);return Wc(null!==s),function BJ(n,t,e,i){const r=L1(t);if(null===r||!sM(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const D=n.fullPath;return Sd("/b/"+c(n.bucket)+"/o/"+c(D),e,i)+z3({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=_C(t),d}(n.storage,n._location,gC());return n.storage.makeRequestWithTokens(t,Wl).then(e=>{if(null===e)throw function dJ(){return new Yi("no-download-url","The given file does not have any download URLs.")}();return e})}function lz(n,t){const e=function OJ(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Vs(n._location.bucket,e);return new Dm(n.storage,i)}function cz(n,t){if(n instanceof j1){const e=n;if(null==e._bucket)throw function cJ(){return new Yi("no-default-bucket","No default bucket found. Did you set the '"+B3+"' property when initializing the app?")}();const i=new Dm(e,e._bucket);return null!=t?cz(i,t):i}return void 0!==t?lz(n,t):n}function gX(n,t){if(t&&function pX(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof j1)return function mX(n,t){return new Dm(n,t)}(n,t);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}return cz(n,t)}function uz(n,t){const e=null==t?void 0:t[B3];return null==e?null:Vs.makeFromBucketSpec(e,n)}class j1{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=L3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vs.makeFromBucketSpec(r,this._host):uz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Vs.makeFromBucketSpec(this._url,t):uz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){P1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){P1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ce.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ce.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Dm(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new hJ(H3());{const s=function EJ(n,t,e,i,r,s){const c=z3(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function wJ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function vJ(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function bJ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(p,s),function CJ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new yJ(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,Ce.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const dz="@firebase/storage";function pz(n,t){return gX(n=(0,F.m9)(n),t)}function IX(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new j1(e,i,r,t,lo.SDK_VERSION)}!function MX(){(0,lo._registerComponent)(new zl.wA("storage",IX,"PUBLIC").setMultipleInstances(!0)),(0,lo.registerVersion)(dz,"0.9.9",""),(0,lo.registerVersion)(dz,"0.9.9","esm2017")}();class uM{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mz{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new uM(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new uM(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new uM(c,this,this._ref)):{next:e.next?c=>e.next(new uM(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class gz{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Dd(t,this._service))}get items(){return this._delegate.items.map(t=>new Dd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Dd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function DX(n,t){return lz(n,t)}(this._delegate,t);return new Dd(e,this.storage)}get root(){return new Dd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Dd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new mz(function yX(n,t,e){return function aX(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new rz(n,new $c(t),e)}(n=(0,F.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=va.RAW,i){this._throwIfRoot("putString");const r=F1(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new mz(new rz(this._delegate,new $c(r.data,!0),s),this)}listAll(){return function CX(n){return function cX(n){const t={prefixes:[],items:[]};return oz(n,t).then(()=>t)}(n=(0,F.m9)(n))}(this._delegate).then(t=>new gz(t,this.storage))}list(t){return function wX(n,t){return az(n=(0,F.m9)(n),t)}(this._delegate,t||void 0).then(e=>new gz(e,this.storage))}getMetadata(){return function vX(n){return function uX(n){n._throwIfRoot("getMetadata");const t=J3(n.storage,n._location,gC());return n.storage.makeRequestWithTokens(t,Wl)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(t){return function bX(n,t){return function dX(n,t){n._throwIfRoot("updateMetadata");const e=function $J(n,t,e,i){const s=Sd(t.fullServerUrl(),n.host,n._protocol),d=B1(e,i),y=n.maxOperationRetryTime,C=new qc(s,"PATCH",lM(n,i),y);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=d,C.errorHandler=_C(t),C}(n.storage,n._location,t,gC());return n.storage.makeRequestWithTokens(e,Wl)}(n=(0,F.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function EX(n){return hX(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function SX(n){return function fX(n){n._throwIfRoot("deleteObject");const t=function qJ(n,t){const i=Sd(t.fullServerUrl(),n.host,n._protocol),d=new qc(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=_C(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Wl)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw j3(t)}}class _z{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(yz(t))throw ly("ref() expected a child path but got a URL, use refFromURL instead.");return new Dd(pz(this._delegate,t),this)}refFromURL(t){if(!yz(t))throw ly("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vs.makeFromUrl(t,this._delegate.host)}catch(e){throw ly("refFromUrl() expected a valid full URL but got an invalid one.")}return new Dd(pz(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function TX(n,t,e,i={}){!function _X(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,F.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function yz(n){return/^[A-Za-z]+:\/\//.test(n)}function RX(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new _z(e,i)}function vz(n){const t=function PX(n){return new gi.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Ol(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function dM(n){return{getDownloadURL:()=>(0,nt.of)(void 0).pipe(kn.fc,Ai(()=>n.getDownloadURL()),kn.iC),getMetadata:()=>(0,nt.of)(void 0).pipe(kn.fc,Ai(()=>n.getMetadata()),kn.iC),delete:()=>(0,jt.D)(n.delete()),child:t=>dM(n.child(t)),updateMetadata:t=>(0,jt.D)(n.updateMetadata(t)),put:(t,e)=>vz(n.put(t,e)),putString:(t,e,i)=>vz(n.putString(t,e,i)),list:t=>(0,jt.D)(n.list(t)),listAll:()=>(0,jt.D)(n.listAll())}}!function OX(n){const t={TaskState:yo,TaskEvent:QJ,StringFormat:va,Storage:_z,Reference:Dd};n.INTERNAL.registerComponent(new zl.wA("storage-compat",RX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(GR.Z);const NX=new a.OlP("angularfire2.storageBucket"),FX=new a.OlP("angularfire2.storage.maxUploadRetryTime"),LX=new a.OlP("angularfire2.storage.maxOperationRetryTime"),BX=new a.OlP("angularfire2.storage.use-emulator");let VX=(()=>{class n{constructor(e,i,r,s,c,d,p,y,C,D){const x=(0,Pr.on)(e,c,i);this.storage=(0,Pr.cc)(`${x.name}.storage.${r}`,"AngularFireStorage",x.name,()=>{const P=c.runOutsideAngular(()=>x.storage(r||void 0)),B=C;return B&&P.useEmulator(...B),p&&P.setMaxUploadRetryTime(p),y&&P.setMaxOperationRetryTime(y),P},[p,y])}ref(e){return dM(this.storage.ref(e))}refFromURL(e){return dM(this.storage.refFromURL(e))}upload(e,i,r){return dM(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pr.Dh),a.LFG(Pr.xv,8),a.LFG(NX,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(kn.HU),a.LFG(FX,8),a.LFG(LX,8),a.LFG(BX,8),a.LFG(eC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),HX=(()=>{class n{constructor(){UI.Z.registerVersion("angularfire",kn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[VX],imports:[UX]}),n})();class GX{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new zX(t,this.observables,this.project))}}class zX extends iT{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let s=0;s<r;s++)this.toRespond.push(s);for(let s=0;s<r;s++)this.add(wR(this,e[s],void 0,s))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const s=r.indexOf(i);-1!==s&&r.splice(s,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class qX{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new WX(t,this.predicate))}}class WX extends Bi.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const bz="@firebase/database";let G1="";function Cz(n){G1=n}class YX{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ZX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ez=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new YX(t)}}catch(t){}return new ZX},Tm=Ez("localStorage"),z1=Ez("sessionStorage"),dy=new Gl.Yd("@firebase/database"),Sz=function(){let n=1;return function(){return n++}}(),Dz=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},yC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=yC.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let Im=null,Tz=!0;const Iz=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(dy.logLevel=Gl.in.VERBOSE,Im=dy.log.bind(dy),t&&z1.set("logging_enabled",!0)):"function"==typeof n?Im=n:(Im=null,z1.remove("logging_enabled"))},Xr=function(...n){if(!0===Tz&&(Tz=!1,null===Im&&!0===z1.get("logging_enabled")&&Iz(!0)),Im){const t=yC.apply(null,n);Im(t)}},vC=function(n){return function(...t){Xr(n,...t)}},$1=function(...n){const t="FIREBASE INTERNAL ERROR: "+yC(...n);dy.error(t)},Yc=function(...n){const t=`FIREBASE FATAL ERROR: ${yC(...n)}`;throw dy.error(t),new Error(t)},Us=function(...n){const t="FIREBASE WARNING: "+yC(...n);dy.warn(t)},hM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Td="[MIN_NAME]",Zc="[MAX_NAME]",Mm=function(n,t){if(n===t)return 0;if(n===Td||t===Zc)return-1;if(t===Td||n===Zc)return 1;{const e=fM(n),i=fM(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},JX=function(n,t){return n===t?0:n<t?-1:1},bC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},q1=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=q1(n[t[i]]);return e+="}",e},Mz=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function es(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Az=function(n){(0,F.hu)(!hM(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const C=y.join("");let D="";for(p=0;p<64;p+=8){let x=parseInt(C.substr(p,8),2).toString(16);1===x.length&&(x="0"+x),D+=x}return D.toLowerCase()},nee=new RegExp("^-?(0*)\\d{1,10}$"),xz=-2147483648,W1=2147483647,fM=function(n){if(nee.test(n)){const t=Number(n);if(t>=xz&&t<=W1)return t}return null},hy=function(n){try{n()}catch(t){setTimeout(()=>{throw Us("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},wC=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class ree{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Us(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class see{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Xr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Us(t)}}let CC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Nz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bz="websocket",Vz="long_polling";class Z1{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Uz(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===Bz)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Vz)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function oee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return es(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class aee{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const K1={},Q1={};function J1(n){const t=n.toString();return K1[t]||(K1[t]=new aee),K1[t]}class cee{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&hy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hf{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vC(t),this.stats_=J1(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Uz(e,Vz,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new cee(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new X1((...s)=>{const[c,d,p,y,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Nz.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hf.forceAllow_=!0}static forceDisallow(){hf.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!hf.forceAllow_&&(hf.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),r=Mz(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class X1{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Sz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=X1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Xr("frame writing exception"),d.stack&&Xr(d.stack),Xr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Xr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Xr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let mM=null;"undefined"!=typeof MozWebSocket?mM=MozWebSocket:"undefined"!=typeof WebSocket&&(mM=WebSocket);let fy=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vC(this.connId),this.stats_=J1(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Nz.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),Uz(e,Bz,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tm.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${G1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new mM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==mM&&!n.forceDisallow_}static previouslyFailed(){return Tm.isInMemoryStorage||!0===Tm.get("previous_websocket_failure")}markConnectionHealthy(){Tm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Mz(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Wz=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hf,fy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=fy&&fy.isAvailable();let r=i&&!fy.previouslyFailed();if(e.webSocketOnly&&(i||Us("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class e${constructor(t,e,i,r,s,c,d,p,y,C){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vC("c:"+this.id+":"),this.transportManager_=new Wz(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=wC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=bC("t",t),i=bC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=bC("t",t),i=bC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=bC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?$1("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$1("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Us("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),wC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class t${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class n${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class gM extends n${constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gM}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class jn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Rn(){return new jn("")}function rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ff(n){return n.pieces_.length-n.pieceNum_}function Qn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new jn(n.pieces_,t)}function tF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function EC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function s$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new jn(t,0)}function Ei(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof jn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new jn(e,0)}function sn(n){return n.pieceNum_>=n.pieces_.length}function vo(n,t){const e=rn(n),i=rn(t);if(null===e)return t;if(e===i)return vo(Qn(n),Qn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function kee(n,t){const e=EC(n,0),i=EC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Mm(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function nF(n,t){if(ff(n)!==ff(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function el(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ff(n)>ff(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Ree{constructor(t,e){this.errorPrefix_=e,this.parts_=EC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);o$(this)}}function o$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Am(n))}function Am(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class iF extends n${constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new iF}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const SC=1e3;let yM,xm=(()=>{class n extends t${constructor(e,i,r,s,c,d,p,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=vC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=SC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,F.Pz)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new F.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,C=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),e.onComplete&&e.onComplete(C,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const r=(0,F.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Us(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):$1("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=SC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=SC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=SC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ce.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,y=null;const C=function(){y?y.close():(p=!0,s())};e.realtime_={close:C,sendRequest:function(P){(0,F.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const x=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,B]=yield Promise.all([e.authTokenProvider_.getToken(x),e.appCheckTokenProvider_.getToken(x)]);p?Xr("getToken() completed but was canceled"):(Xr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=B&&B.token,y=new e$(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ee=>{Us(ee+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(P){e.log_("Failed to get token: "+P),p||(e.repoInfo_.nodeAdmin&&Us(P),C())}}})()}interrupt(e){Xr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=SC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>q1(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new jn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Xr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Xr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+G1.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gM.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ln{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ln(t,e)}}class _M{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new ln(Td,t),r=new ln(Td,e);return 0!==this.compare(i,r)}minPost(){return ln.MIN}}class c$ extends _M{static get __EMPTY_NODE(){return yM}static set __EMPTY_NODE(t){yM=t}compare(t,e){return Mm(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ln.MIN}maxPost(){return new ln(Zc,yM)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ln(t,yM)}toString(){return".key"}}const Kc=new c$;class vM{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sF,Yl=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Wo.EMPTY_NODE,this.right=null!=c?c:Wo.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Wo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wo{constructor(t,e=Wo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Wo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Yl.BLACK,null,null))}remove(t){return new Wo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Yl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new vM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new vM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new vM(this.root_,null,this.comparator_,!0,t)}}function Uee(n,t){return Mm(n.name,t.name)}function rF(n,t){return Mm(n,t)}Wo.EMPTY_NODE=new class Vee{copy(t,e,i,r,s){return this}insert(t,e,i){return new Yl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const u$=function(n){return"number"==typeof n?"number:"+Az(n):"string:"+n},d$=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===sF||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===sF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let h$,f$,p$,py=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),d$(this.priorityNode_)}static set __childrenNodeConstructor(e){h$=e}static get __childrenNodeConstructor(){return h$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sn(e)?this:".priority"===rn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=rn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===ff(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+u$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Az(this.value_):this.value_,this.lazyHash_=Dz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ii=new class zee extends _M{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Mm(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ln.MIN}maxPost(){return new ln(Zc,new py("[PRIORITY-POST]",p$))}makePost(t,e){const i=f$(t);return new ln(e,new py("[PRIORITY-POST]",i))}toString(){return".priority"}},$ee=Math.log(2);class qee{constructor(t){this.count=parseInt(Math.log(t+1)/$ee,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bM=function(n,t,e,i){n.sort(t);const r=function(p,y){const C=y-p;let D,x;if(0===C)return null;if(1===C)return D=n[p],x=e?e(D):D,new Yl(x,D.node,Yl.BLACK,null,null);{const P=parseInt(C/2,10)+p,B=r(p,P),ee=r(P+1,y);return D=n[P],x=e?e(D):D,new Yl(x,D.node,Yl.BLACK,B,ee)}},d=function(p){let y=null,C=null,D=n.length;const x=function(B,ee){const ue=D-B,ke=D;D-=B;const Ue=r(ue+1,ke),Ve=n[ue],He=e?e(Ve):Ve;P(new Yl(He,Ve.node,ee,null,Ue))},P=function(B){y?(y.left=B,y=B):(C=B,y=B)};for(let B=0;B<p.count;++B){const ee=p.nextBitIsOne(),ue=Math.pow(2,p.count-(B+1));ee?x(ue,Yl.BLACK):(x(ue,Yl.BLACK),x(ue,Yl.RED))}return C}(new qee(n.length));return new Wo(i||t,d)};let oF;const my={};class Id{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(my&&ii,"ChildrenNode.ts has not been loaded"),oF=oF||new Id({".priority":my},{".priority":ii}),oF}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Wo?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Kc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(ln.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?bM(i,t.getCompare()):my;const p=t.toString(),y=Object.assign({},this.indexSet_);y[p]=t;const C=Object.assign({},this.indexes_);return C[p]=d,new Id(C,y)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(r,s)=>{const c=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(c,"Missing index implementation for "+s),r===my){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(ln.Wrap);let y=p.getNext();for(;y;)y.name!==t.name&&d.push(y),y=p.getNext();return d.push(t),bM(d,c.getCompare())}return my}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new ln(t.name,d))),p.insert(t,t.node)}});return new Id(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,r=>{if(r===my)return r;{const s=e.get(t.name);return s?r.remove(new ln(t.name,s)):r}});return new Id(i,this.indexSet_)}}let DC,$t=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&d$(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return DC||(DC=new n(new Wo(rF),null,Id.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||DC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?DC:i}}getChild(e){const i=rn(e);return null===i?this:this.getImmediateChild(i).getChild(Qn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new ln(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?DC:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=rn(e);if(null===r)return i;{(0,F.hu)(".priority"!==rn(e)||1===ff(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Qn(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(ii,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+u$(this.getPriority().val())+":"),this.forEachChild(ii,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Dz(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new ln(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ln(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ln(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ln.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ln.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===TC?-1:0}withIndex(e){if(e===Kc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Kc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ii),s=i.getIterator(ii);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Kc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const TC=new class Wee extends $t{constructor(){super(new Wo(rF),$t.EMPTY_NODE,Id.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $t.EMPTY_NODE}isEmpty(){return!1}};function ki(n,t=null){if(null===n)return $t.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new py(n,ki(t));if(n instanceof Array){let e=$t.EMPTY_NODE;return es(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=ki(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(ki(t))}{const e=[];let i=!1;if(es(n,(c,d)=>{if("."!==c.substring(0,1)){const p=ki(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new ln(c,p)))}}),0===e.length)return $t.EMPTY_NODE;const s=bM(e,Uee,c=>c.name,rF);if(i){const c=bM(e,ii.getCompare());return new $t(s,ki(t),new Id({".priority":c},{".priority":ii}))}return new $t(s,ki(t),Id.Default)}}Object.defineProperties(ln,{MIN:{value:new ln(Td,$t.EMPTY_NODE)},MAX:{value:new ln(Zc,TC)}}),c$.__EMPTY_NODE=$t.EMPTY_NODE,py.__childrenNodeConstructor=$t,function Hee(n){sF=n}(TC),function Gee(n){p$=n}(TC),function jee(n){f$=n}(ki);class aF extends _M{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!sn(t)&&".priority"!==rn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Mm(t.name,e.name):s}makePost(t,e){const i=ki(t),r=$t.EMPTY_NODE.updateChild(this.indexPath_,i);return new ln(e,r)}maxPost(){const t=$t.EMPTY_NODE.updateChild(this.indexPath_,TC);return new ln(Zc,t)}toString(){return EC(this.indexPath_,0).join("/")}}const lF=new class Zee extends _M{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Mm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ln.MIN}maxPost(){return ln.MAX}makePost(t,e){const i=ki(t);return new ln(e,i)}toString(){return".value"}},gy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kee=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=gy.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=gy.charAt(t[r]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),_$=function(n){if(n===""+W1)return"-";const t=fM(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Zc;const s=gy.charAt(gy.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},y$=function(n){if(n===""+xz)return Td;const t=fM(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+W1:(delete e[e.length-1],e.join("")):(e[e.length-1]=gy.charAt(gy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function v$(n){return{type:"value",snapshotNode:n}}function _y(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function IC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function MC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class uF{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(IC(e,d)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(_y(e,i)):c.trackChildChange(MC(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ii,(r,s)=>{e.hasChild(r)||i.trackChildChange(IC(r,s))}),e.isLeafNode()||e.forEachChild(ii,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(MC(r,s,c))}else i.trackChildChange(_y(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?$t.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class AC{constructor(t){this.indexedFilter_=new uF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=AC.getStartPost_(t),this.endPost_=AC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new ln(e,i))||(i=$t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=$t.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority($t.EMPTY_NODE);const s=this;return e.forEachChild(ii,(c,d)=>{s.matches(new ln(c,d))||(r=r.updateImmediateChild(c,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Jee{constructor(t){this.rangedFilter_=new AC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new ln(e,i))||(i=$t.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=$t.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority($t.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();d=(x,P)=>D(P,x)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,C=!1;for(;p.hasNext();){const D=p.getNext();!C&&d(s,D)<=0&&(C=!0),C&&y<this.limit_&&d(D,c)<=0?y++:r=r.updateImmediateChild(D.name,$t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(x,P)=>D(P,x)}else c=this.index_.getCompare();const d=t;(0,F.hu)(d.numChildren()===this.limit_,"");const p=new ln(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(d.hasChild(e)){const D=d.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=x&&(x.name===e||d.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const P=null==x?1:c(x,p);if(C&&!i.isEmpty()&&P>=0)return null!=s&&s.trackChildChange(MC(e,i,D)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(IC(e,D));const ee=d.updateImmediateChild(e,$t.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(null!=s&&s.trackChildChange(_y(x.name,x.node)),ee.updateImmediateChild(x.name,x.node)):ee}}return i.isEmpty()?t:C&&c(y,p)>=0?(null!=s&&(s.trackChildChange(IC(y.name,y.node)),s.trackChildChange(_y(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,$t.EMPTY_NODE)):t}}class wM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Td}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ii}copy(){const t=new wM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function hF(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function CM(n,t){const e=n.copy();return e.index_=t,e}function b$(n){const t={};if(n.isDefault())return t;let e;return n.index_===ii?e="$priority":n.index_===lF?e="$value":n.index_===Kc?e="$key":((0,F.hu)(n.index_ instanceof aF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function w$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ii&&(t.i=n.index_.toString()),t}class EM extends t${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=vC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=EM.getListenId_(t,i),d={};this.listens_[c]=d;const p=b$(t._queryParams);this.restRequest_(s+".json",p,(y,C)=>{let D=C;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(s,D,!1,i),(0,F.DV)(this.listens_,c)===d){let x;x=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(x,null)}})}unlisten(t,e){const i=EM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=b$(t._queryParams),i=t._path.toString(),r=new F.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,F.cI)(d.responseText)}catch(y){Us("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Us("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class rte{constructor(){this.rootNode_=$t.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function SM(){return{value:null,children:new Map}}function yy(n,t,e){if(sn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=rn(t);n.children.has(i)||n.children.set(i,SM()),yy(n.children.get(i),t=Qn(t),e)}}function fF(n,t){if(sn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ii,(i,r)=>{yy(n,new jn(i),r)}),fF(n,t)}}if(n.children.size>0){const e=rn(t);return t=Qn(t),n.children.has(e)&&fF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function pF(n,t,e){null!==n.value?e(t,n.value):function ste(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{pF(r,new jn(t.toString()+"/"+i),e)})}class ote{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&es(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class cte{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ote(t);const i=1e4+2e4*Math.random();wC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;es(t,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),wC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(tl||(tl={})),tl))();function _F(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class DM{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=tl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(sn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new jn(t));return new DM(Rn(),e,this.revert)}}return(0,F.hu)(rn(this.path)===t,"operationForChild called for unrelated child."),new DM(Qn(this.path),this.affectedTree,this.revert)}}class xC{constructor(t,e){this.source=t,this.path=e,this.type=tl.LISTEN_COMPLETE}operationForChild(t){return sn(this.path)?new xC(this.source,Rn()):new xC(this.source,Qn(this.path))}}class km{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=tl.OVERWRITE}operationForChild(t){return sn(this.path)?new km(this.source,Rn(),this.snap.getImmediateChild(t)):new km(this.source,Qn(this.path),this.snap)}}class vy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=tl.MERGE}operationForChild(t){if(sn(this.path)){const e=this.children.subtree(new jn(t));return e.isEmpty()?null:e.value?new km(this.source,Rn(),e.value):new vy(this.source,Rn(),e)}return(0,F.hu)(rn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vy(this.source,Qn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(sn(t))return this.isFullyInitialized()&&!this.filtered_;const e=rn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class ute{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function kC(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function fte(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new ln(t.childName,t.snapshotNode),r=new ln(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function hte(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(p,n.query_))})})}function TM(n,t){return{eventCache:n,serverCache:t}}function RC(n,t,e,i){return TM(new pf(t,e,i),n.serverCache)}function E$(n,t,e,i){return TM(n.eventCache,new pf(t,e,i))}function IM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Rm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yF;class ri{constructor(t,e=(()=>(yF||(yF=new Wo(JX)),yF))()){this.value=t,this.children=e}static fromObject(t){let e=new ri(null);return es(t,(i,r)=>{e=e.set(new jn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Rn(),value:this.value};if(sn(t))return null;{const i=rn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Qn(t),e);return null!=s?{path:Ei(new jn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(sn(t))return this;{const e=rn(t),i=this.children.get(e);return null!==i?i.subtree(Qn(t)):new ri(null)}}set(t,e){if(sn(t))return new ri(e,this.children);{const i=rn(t),s=(this.children.get(i)||new ri(null)).set(Qn(t),e),c=this.children.insert(i,s);return new ri(this.value,c)}}remove(t){if(sn(t))return this.children.isEmpty()?new ri(null):new ri(null,this.children);{const e=rn(t),i=this.children.get(e);if(i){const r=i.remove(Qn(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new ri(null):new ri(this.value,s)}return this}}get(t){if(sn(t))return this.value;{const e=rn(t),i=this.children.get(e);return i?i.get(Qn(t)):null}}setTree(t,e){if(sn(t))return e;{const i=rn(t),s=(this.children.get(i)||new ri(null)).setTree(Qn(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ri(this.value,c)}}fold(t){return this.fold_(Rn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ei(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Rn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(sn(t))return null;{const s=rn(t),c=this.children.get(s);return c?c.findOnPath_(Qn(t),Ei(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Rn(),e)}foreachOnPath_(t,e,i){if(sn(t))return this;{this.value&&i(e,this.value);const r=rn(t),s=this.children.get(r);return s?s.foreachOnPath_(Qn(t),Ei(e,r),i):new ri(null)}}foreach(t){this.foreach_(Rn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ei(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Zl{constructor(t){this.writeTree_=t}static empty(){return new Zl(new ri(null))}}function OC(n,t,e){if(sn(t))return new Zl(new ri(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=vo(r,t);return s=s.updateChild(c,e),new Zl(n.writeTree_.set(r,s))}{const r=new ri(e),s=n.writeTree_.setTree(t,r);return new Zl(s)}}}function vF(n,t,e){let i=n;return es(e,(r,s)=>{i=OC(i,Ei(t,r),s)}),i}function S$(n,t){if(sn(t))return Zl.empty();{const e=n.writeTree_.setTree(t,new ri(null));return new Zl(e)}}function bF(n,t){return null!=Om(n,t)}function Om(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(vo(e.path,t)):null}function D$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ii,(i,r)=>{t.push(new ln(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new ln(i,r.value))}),t}function mf(n,t){if(sn(t))return n;{const e=Om(n,t);return new Zl(null!=e?new ri(e):n.writeTree_.subtree(t))}}function wF(n){return n.writeTree_.isEmpty()}function by(n,t){return T$(Rn(),n.writeTree_,t)}function T$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=T$(Ei(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ei(n,".priority"),i)),e}}function MM(n,t){return k$(t,n)}function vte(n,t){if(n.snap)return el(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&el(Ei(n.path,e),t))return!0;return!1}function wte(n){return n.visible}function I$(n,t,e){let i=Zl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)el(e,c)?(d=vo(e,c),i=OC(i,d,s.snap)):el(c,e)&&(d=vo(c,e),i=OC(i,Rn(),s.snap.getChild(d)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(el(e,c))d=vo(e,c),i=vF(i,d,s.children);else if(el(c,e))if(d=vo(c,e),sn(d))i=vF(i,Rn(),s.children);else{const p=(0,F.DV)(s.children,rn(d));if(p){const y=p.getChild(Qn(d));i=OC(i,Rn(),y)}}}}}return i}function M$(n,t,e,i,r){if(i||r){const s=mf(n.visibleWrites,t);return!r&&wF(s)?e:r||null!=e||bF(s,Rn())?by(I$(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(el(y.path,t)||el(t,y.path))},t),e||$t.EMPTY_NODE):null}{const s=Om(n.visibleWrites,t);if(null!=s)return s;{const c=mf(n.visibleWrites,t);return wF(c)?e:null!=e||bF(c,Rn())?by(c,e||$t.EMPTY_NODE):null}}}function AM(n,t,e,i){return M$(n.writeTree,n.treePath,t,e,i)}function CF(n,t){return function Cte(n,t,e){let i=$t.EMPTY_NODE;const r=Om(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ii,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=mf(n.visibleWrites,t);return e.forEachChild(ii,(c,d)=>{const p=by(mf(s,new jn(c)),d);i=i.updateImmediateChild(c,p)}),D$(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return D$(mf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function A$(n,t,e,i){return function Ete(n,t,e,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ei(t,e);if(bF(n.visibleWrites,s))return null;{const c=mf(n.visibleWrites,s);return wF(c)?r.getChild(e):by(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function xM(n,t){return function Dte(n,t){return Om(n.visibleWrites,t)}(n.writeTree,Ei(n.treePath,t))}function EF(n,t,e){return function Ste(n,t,e,i){const r=Ei(t,e),s=Om(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?by(mf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function x$(n,t){return k$(Ei(n.treePath,t),n.writeTree)}function k$(n,t){return{treePath:n,writeTree:t}}class Ate{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,MC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,IC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,_y(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,MC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const R$=new class xte{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class SF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new pf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rm(this.viewCache_),s=function Mte(n,t,e,i,r,s){return function Tte(n,t,e,i,r,s,c){let d;const p=mf(n.visibleWrites,t),y=Om(p,Rn());if(null!=y)d=y;else{if(null==e)return[];d=by(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const C=[],D=c.getCompare(),x=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=x.getNext();for(;P&&C.length<r;)0!==D(P,i)&&C.push(P),P=x.getNext();return C}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function O$(n,t,e,i,r,s){const c=t.eventCache;if(null!=xM(i,e))return t;{let d,p;if(sn(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=Rm(t),D=CF(i,y instanceof $t?y:$t.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const y=AM(i,Rm(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,s)}else{const y=rn(e);if(".priority"===y){(0,F.hu)(1===ff(e),"Can't have a priority with additional path components");const C=c.getNode();p=t.serverCache.getNode();const D=A$(i,e,C,p);d=null!=D?n.filter.updatePriority(C,D):c.getNode()}else{const C=Qn(e);let D;if(c.isCompleteForChild(y)){p=t.serverCache.getNode();const x=A$(i,e,c.getNode(),p);D=null!=x?c.getNode().getImmediateChild(y).updateChild(C,x):c.getNode().getImmediateChild(y)}else D=EF(i,y,t.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),y,D,C,r,s):c.getNode()}}return RC(t,d,c.isFullyInitialized()||sn(e),n.filter.filtersNodes())}}function kM(n,t,e,i,r,s,c,d){const p=t.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(sn(e))y=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(e,i);y=C.updateFullNode(p.getNode(),P,null)}else{const P=rn(e);if(!p.isCompleteForPath(e)&&ff(e)>1)return t;const B=Qn(e),ue=p.getNode().getImmediateChild(P).updateChild(B,i);y=".priority"===P?C.updatePriority(p.getNode(),ue):C.updateChild(p.getNode(),P,ue,B,R$,null)}const D=E$(t,y,p.isFullyInitialized()||sn(e),C.filtersNodes());return O$(n,D,e,r,new SF(r,D,s),d)}function DF(n,t,e,i,r,s,c){const d=t.eventCache;let p,y;const C=new SF(r,t,s);if(sn(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=RC(t,y,!0,n.filter.filtersNodes());else{const D=rn(e);if(".priority"===D)y=n.filter.updatePriority(t.eventCache.getNode(),i),p=RC(t,y,d.isFullyInitialized(),d.isFiltered());else{const x=Qn(e),P=d.getNode().getImmediateChild(D);let B;if(sn(x))B=i;else{const ee=C.getCompleteChild(D);B=null!=ee?".priority"===tF(x)&&ee.getChild(s$(x)).isEmpty()?ee:ee.updateChild(x,i):$t.EMPTY_NODE}p=P.equals(B)?t:RC(t,n.filter.updateChild(d.getNode(),D,B,x,C,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function P$(n,t){return n.eventCache.isCompleteForChild(t)}function N$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function TF(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,p=t;y=sn(e)?i:new ri(null).setTree(e,i);const C=t.serverCache.getNode();return y.children.inorderTraversal((D,x)=>{if(C.hasChild(D)){const B=N$(0,t.serverCache.getNode().getImmediateChild(D),x);p=kM(n,p,new jn(D),B,r,s,c,d)}}),y.children.inorderTraversal((D,x)=>{const P=!t.serverCache.isCompleteForChild(D)&&void 0===x.value;if(!C.hasChild(D)&&!P){const ee=N$(0,t.serverCache.getNode().getImmediateChild(D),x);p=kM(n,p,new jn(D),ee,r,s,c,d)}}),p}class Vte{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new uF(i.getIndex()),s=function Xee(n){return n.loadsAllData()?new uF(n.getIndex()):n.hasLimit()?new Jee(n):new AC(n)}(i);this.processor_=function kte(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode($t.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode($t.EMPTY_NODE,d.getNode(),null),C=new pf(p,c.isFullyInitialized(),r.filtersNodes()),D=new pf(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=TM(D,C),this.eventGenerator_=new ute(this.query_)}get query(){return this.query_}}function jte(n,t){const e=Rm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!sn(t)&&!e.getImmediateChild(rn(t)).isEmpty())?e.getChild(t):null}function F$(n){return 0===n.eventRegistrations_.length}function L$(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function B$(n,t,e,i){t.type===tl.MERGE&&null!==t.source.queryId&&((0,F.hu)(Rm(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(IM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Ote(n,t,e,i,r){const s=new Ate;let c,d;if(e.type===tl.OVERWRITE){const y=e;y.source.fromUser?c=DF(n,t,y.path,y.snap,i,r,s):((0,F.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!sn(y.path),c=kM(n,t,y.path,y.snap,i,r,d,s))}else if(e.type===tl.MERGE){const y=e;y.source.fromUser?c=function Nte(n,t,e,i,r,s,c){let d=t;return i.foreach((p,y)=>{const C=Ei(e,p);P$(t,rn(C))&&(d=DF(n,d,C,y,r,s,c))}),i.foreach((p,y)=>{const C=Ei(e,p);P$(t,rn(C))||(d=DF(n,d,C,y,r,s,c))}),d}(n,t,y.path,y.children,i,r,s):((0,F.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=TF(n,t,y.path,y.children,i,r,d,s))}else if(e.type===tl.ACK_USER_WRITE){const y=e;c=y.revert?function Bte(n,t,e,i,r,s){let c;if(null!=xM(i,e))return t;{const d=new SF(i,t,r),p=t.eventCache.getNode();let y;if(sn(e)||".priority"===rn(e)){let C;if(t.serverCache.isFullyInitialized())C=AM(i,Rm(t));else{const D=t.serverCache.getNode();(0,F.hu)(D instanceof $t,"serverChildren would be complete if leaf node"),C=CF(i,D)}C=C,y=n.filter.updateFullNode(p,C,s)}else{const C=rn(e);let D=EF(i,C,t.serverCache);null==D&&t.serverCache.isCompleteForChild(C)&&(D=p.getImmediateChild(C)),y=null!=D?n.filter.updateChild(p,C,D,Qn(e),d,s):t.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,$t.EMPTY_NODE,Qn(e),d,s):p,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=AM(i,Rm(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=xM(i,Rn()),RC(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,s):function Fte(n,t,e,i,r,s,c){if(null!=xM(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(sn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return kM(n,t,e,p.getNode().getChild(e),r,s,d,c);if(sn(e)){let y=new ri(null);return p.getNode().forEachChild(Kc,(C,D)=>{y=y.set(new jn(C),D)}),TF(n,t,e,y,r,s,d,c)}return t}{let y=new ri(null);return i.foreach((C,D)=>{const x=Ei(e,C);p.isCompleteForPath(x)&&(y=y.set(C,p.getNode().getChild(x)))}),TF(n,t,e,y,r,s,d,c)}}(n,t,y.path,y.affectedTree,i,r,s)}else{if(e.type!==tl.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);c=function Lte(n,t,e,i,r){const s=t.serverCache;return O$(n,E$(t,s.getNode(),s.isFullyInitialized()||sn(e),s.isFiltered()),e,i,R$,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function Pte(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=IM(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(v$(IM(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function Rte(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,V$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function V$(n,t,e,i){return function dte(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Qee(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),kC(n,r,"child_removed",t,i,e),kC(n,r,"child_added",t,i,e),kC(n,r,"child_moved",s,i,e),kC(n,r,"child_changed",t,i,e),kC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let RM,PM;class U${constructor(){this.views=new Map}}function IF(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),B$(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(B$(c,t,e,i));return s}}function MF(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=AM(e,r?i:null),p=!1;d?p=!0:i instanceof $t?(d=CF(e,i),p=!1):(d=$t.EMPTY_NODE,p=!1);const y=TM(new pf(d,p,!1),new pf(i,r,!1));return new Vte(t,y)}return c}function H$(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function gf(n,t){let e=null;for(const i of n.views.values())e=e||jte(i,t);return e}function j$(n,t){return t._queryParams.loadsAllData()?OM(n):n.views.get(t._queryIdentifier)}function G$(n,t){return null!=j$(n,t)}function _f(n){return null!=OM(n)}function OM(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Jte=1;class z${constructor(t){this.listenProvider_=t,this.syncPointTree_=new ri(null),this.pendingWriteTree_=function Ite(){return{visibleWrites:Zl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AF(n,t,e,i,r){return function mte(n,t,e,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=OC(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?wy(n,new km({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function yf(n,t,e=!1){const i=function _te(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function yte(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&vte(d,i.path)?r=!1:el(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function bte(n){n.visibleWrites=I$(n.allWrites,wte,Rn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=S$(n.visibleWrites,i.path):es(i.children,p=>{n.visibleWrites=S$(n.visibleWrites,Ei(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new ri(null);return null!=i.snap?s=s.set(Rn(),!0):es(i.children,c=>{s=s.set(new jn(c),!0)}),wy(n,new DM(i.path,s,e))}return[]}function PC(n,t,e){return wy(n,new km({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function NM(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||G$(s,t))){const d=function Zte(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=_f(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(L$(y,e,i)),F$(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(L$(p,e,i)),F$(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!_f(n)&&s.push(new(function qte(){return(0,F.hu)(RM,"Reference.ts has not been loaded"),RM}())(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function Wte(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const y=-1!==p.findIndex(D=>D._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(r,(D,x)=>_f(x));if(y&&!C){const D=n.syncPointTree_.subtree(r);if(!D.isEmpty()){const x=function one(n){return n.fold((t,e,i)=>{if(e&&_f(e))return[OM(e)];{let r=[];return e&&(r=H$(e)),es(i,(s,c)=>{r=r.concat(c)}),r}})}(D);for(let P=0;P<x.length;++P){const B=x[P],ee=B.query,ue=K$(n,B);n.listenProvider_.startListening(FC(ee),NC(n,ee),ue.hashFn,ue.onComplete)}}}!C&&p.length>0&&!i&&(y?n.listenProvider_.stopListening(FC(t),null):p.forEach(D=>{const x=n.queryToTagMap.get(LM(D));n.listenProvider_.stopListening(FC(D),x)})),function ane(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=LM(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function $$(n,t,e,i){const r=xF(n,i);if(null!=r){const s=kF(r),c=s.path,d=s.queryId,p=vo(c,t);return RF(n,c,new km(_F(d),p,e))}return[]}function q$(n,t){const e=n._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(e,(y,C)=>{const D=vo(y,e);i=i||gf(C,D),r=r||_f(C)});let c,s=t.syncPointTree_.get(e);s?(r=r||_f(s),i=i||gf(s,Rn())):(s=new U$,t.syncPointTree_=t.syncPointTree_.set(e,s)),null!=i?c=!0:(c=!1,i=$t.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((C,D)=>{const x=gf(D,Rn());x&&(i=i.updateImmediateChild(C,x))}));const d=G$(s,n);if(!d&&!n._queryParams.loadsAllData()){const y=LM(n);(0,F.hu)(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const C=function lne(){return Jte++}();t.queryToTagMap.set(y,C),t.tagToQueryMap.set(C,y)}return{syncPoint:s,writesCache:MM(t.pendingWriteTree_,e),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:d}}function W$(n,t,e){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:c,viewAlreadyExists:d,foundAncestorDefaultView:p}=q$(t,n);let y=function Yte(n,t,e,i,r,s){const c=MF(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Gte(n,t){n.eventRegistrations_.push(t)}(c,e),function zte(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ii,(s,c)=>{i.push(_y(s,c))}),e.isFullyInitialized()&&i.push(v$(e.getNode())),V$(n,i,e.getNode(),t)}(c,e)}(i,t,e,s,r,c);if(!d&&!p){const C=j$(i,t);y=y.concat(function cne(n,t,e){const i=t._path,r=NC(n,t),s=K$(n,e),c=n.listenProvider_.startListening(FC(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!_f(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((y,C,D)=>{if(!sn(y)&&C&&_f(C))return[OM(C).query];{let x=[];return C&&(x=x.concat(H$(C).map(P=>P.query))),es(D,(P,B)=>{x=x.concat(B)}),x}});for(let y=0;y<p.length;++y){const C=p[y];n.listenProvider_.stopListening(FC(C),NC(n,C))}}return c}(n,t,C))}return y}function FM(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=gf(d,vo(c,t));if(y)return y});return M$(r,t,s,e,!0)}function wy(n,t){return Y$(t,n.syncPointTree_,null,MM(n.pendingWriteTree_,Rn()))}function Y$(n,t,e,i){if(sn(n.path))return Z$(n,t,e,i);{const r=t.get(Rn());null==e&&null!=r&&(e=gf(r,Rn()));let s=[];const c=rn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const y=e?e.getImmediateChild(c):null,C=x$(i,c);s=s.concat(Y$(d,p,y,C))}return r&&(s=s.concat(IF(r,n,i,e))),s}}function Z$(n,t,e,i){const r=t.get(Rn());null==e&&null!=r&&(e=gf(r,Rn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,y=x$(i,c),C=n.operationForChild(c);C&&(s=s.concat(Z$(C,d,p,y)))}),r&&(s=s.concat(IF(r,n,i,e))),s}function K$(n,t){const e=t.query,i=NC(n,e);return{hashFn:()=>(function Ute(n){return n.viewCache_.serverCache.getNode()}(t)||$t.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function nne(n,t,e){const i=xF(n,e);if(i){const r=kF(i),s=r.path,c=r.queryId,d=vo(s,t);return RF(n,s,new xC(_F(c),d))}return[]}(n,e._path,i):function tne(n,t){return wy(n,new xC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function tee(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return NM(n,e,null,s)}}}}function NC(n,t){const e=LM(t);return n.queryToTagMap.get(e)}function LM(n){return n._path.toString()+"$"+n._queryIdentifier}function xF(n,t){return n.tagToQueryMap.get(t)}function kF(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new jn(n.substr(0,t))}}function RF(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),IF(i,e,MM(n.pendingWriteTree_,t),null)}function FC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Qte(){return(0,F.hu)(PM,"Reference.ts has not been loaded"),PM}())(n._repo,n._path):n}class OF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new OF(e)}node(){return this.node_}}class PF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ei(this.path_,t);return new PF(this.syncTree_,e)}node(){return FM(this.syncTree_,this.path_)}}const Q$=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?dne(n[".sv"],t,e):"object"==typeof n[".sv"]?hne(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},dne=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},hne=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,F.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},J$=function(n,t,e,i){return FF(t,new PF(e,n),i)},NF=function(n,t,e){return FF(n,new OF(t),e)};function FF(n,t,e){const i=n.getPriority().val(),r=Q$(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=Q$(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new py(d,ki(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new py(r))),c.forEachChild(ii,(d,p)=>{const y=FF(p,t.getImmediateChild(d),e);y!==p&&(s=s.updateImmediateChild(d,y))}),s}}class LF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function BM(n,t){let e=t instanceof jn?t:new jn(t),i=n,r=rn(e);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new LF(r,i,s),e=Qn(e),r=rn(e)}return i}function Pm(n){return n.node.value}function BF(n,t){n.node.value=t,VF(n)}function X$(n){return n.node.childCount>0}function VM(n,t){es(n.node.children,(e,i)=>{t(new LF(e,n,i))})}function e6(n,t,e,i){e&&!i&&t(n),VM(n,r=>{e6(r,t,!0,i)}),e&&i&&t(n)}function LC(n){return new jn(null===n.parent?n.name:LC(n.parent)+"/"+n.name)}function VF(n){null!==n.parent&&function mne(n,t,e){const i=function fne(n){return void 0===Pm(n)&&!X$(n)}(e),r=(0,F.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,VF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,VF(n))}(n.parent,n.name,n)}const gne=/[\[\].#$\/\u0000-\u001F\u007F]/,_ne=/[\[\].#$\u0000-\u001F\u007F]/,UF=10485760,UM=function(n){return"string"==typeof n&&0!==n.length&&!gne.test(n)},t6=function(n){return"string"==typeof n&&0!==n.length&&!_ne.test(n)},BC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!hM(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Qc=function(n,t,e,i){i&&void 0===t||VC((0,F.gK)(n,"value"),t,e)},VC=function(n,t,e){const i=e instanceof jn?new Ree(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Am(i));if("function"==typeof t)throw new Error(n+"contains a function "+Am(i)+" with contents = "+t.toString());if(hM(t))throw new Error(n+"contains "+t.toString()+" "+Am(i));if("string"==typeof t&&t.length>UF/3&&(0,F.ug)(t)>UF)throw new Error(n+"contains a string greater than "+UF+" utf8 bytes "+Am(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(es(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!UM(c)))throw new Error(n+" contains an invalid key ("+c+") "+Am(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Oee(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),o$(n)})(i,c),VC(n,d,i),function Pee(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Am(i)+" in addition to actual children.")}},n6=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];es(t,(c,d)=>{const p=new jn(c);if(VC(r,d,Ei(e,p)),".priority"===tF(p)&&!BC(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=EC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!UM(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(kee);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&el(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},HF=function(n,t,e){if(!e||void 0!==t){if(hM(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!BC(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},UC=function(n,t,e,i){if(!(i&&void 0===e||UM(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},HC=function(n,t,e,i){if(!(i&&void 0===e||t6(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nl=function(n,t){if(".info"===rn(t))throw new Error(n+" failed = Can't modify data under /.info/")},i6=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!UM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),t6(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class wne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!nF(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function r6(n,t,e){HM(n,e),s6(n,i=>nF(i,t))}function il(n,t,e){HM(n,e),s6(n,i=>el(i,t)||el(t,i))}function s6(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Cne(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Cne(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Im&&Xr("event: "+e.toString()),hy(i)}}}const o6="repo_interrupt";class Sne{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=SM(),this.transactionQueueTree_=new LF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function a6(n){const e=n.infoData_.getNode(new jn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function jC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:a6(n)})}function l6(n,t,e,i,r){n.dataUpdateCount++;const s=new jn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,F.UI)(e,y=>ki(y));c=function rne(n,t,e,i){const r=xF(n,i);if(r){const s=kF(r),c=s.path,d=s.queryId,p=vo(c,t),y=ri.fromObject(e);return RF(n,c,new vy(_F(d),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=ki(e);c=$$(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,F.UI)(e,y=>ki(y));c=function ene(n,t,e){const i=ri.fromObject(e);return wy(n,new vy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=ki(e);c=PC(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=Cy(n,s)),il(n.eventQueue_,d,c)}function c6(n,t){jF(n,"connected",t),!1===t&&function Ane(n){Nm(n,"onDisconnectEvents");const t=jC(n),e=SM();pF(n.onDisconnect_,Rn(),(r,s)=>{const c=J$(r,s,n.serverSyncTree_,t);yy(e,r,c)});let i=[];pF(e,Rn(),(r,s)=>{i=i.concat(PC(n.serverSyncTree_,r,s));const c=qF(n,r);Cy(n,c)}),n.onDisconnect_=SM(),il(n.eventQueue_,Rn(),i)}(n)}function jF(n,t,e){const i=new jn("/.info/"+t),r=ki(e);n.infoData_.updateSnapshot(i,r);const s=PC(n.infoSyncTree_,i,r);il(n.eventQueue_,i,s)}function jM(n){return n.nextWriteId_++}function Ine(n,t){const e=function sne(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,C)=>{const D=vo(y,e);i=i||gf(C,D)});let r=n.syncPointTree_.get(e);r?i=i||gf(r,Rn()):(r=new U$,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new pf(i,!0,!1):null;return function Hte(n){return IM(n.viewCache_)}(MF(r,t,MM(n.pendingWriteTree_,t._path),s?c.getNode():$t.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=ki(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())PC(n.serverSyncTree_,t._path,r);else{const c=function ine(n,t){const{syncPoint:e,serverCache:i,writesCache:r,serverCacheComplete:s}=q$(t,n),c=MF(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),t._queryParams.loadsAllData()?null:NC(n,t)}(n.serverSyncTree_,t);$$(n.serverSyncTree_,t._path,r,c)}return NM(n.serverSyncTree_,t,null).length>0&&Nm(n,"unexpected cancel events in repoGetValue"),r},i=>(Nm(n,"get for query "+(0,F.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}function GF(n,t,e,i,r){Nm(n,"set",{path:t.toString(),value:e,priority:i});const s=jC(n),c=ki(e,i),d=FM(n.serverSyncTree_,t),p=NF(c,d,s),y=jM(n),C=AF(n.serverSyncTree_,t,p,y,!0);HM(n.eventQueue_,C),n.server_.put(t.toString(),c.val(!0),(x,P)=>{const B="ok"===x;B||Us("set at "+t+" failed: "+x);const ee=yf(n.serverSyncTree_,y,!B);il(n.eventQueue_,t,ee),vf(0,r,x,P)});const D=qF(n,t);Cy(n,D),il(n.eventQueue_,D,[])}function xne(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&fF(n.onDisconnect_,t),vf(0,e,i,r)})}function u6(n,t,e,i){const r=ki(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&yy(n.onDisconnect_,t,r),vf(0,i,s,c)})}function zF(n,t,e){let i;i=".info"===rn(t._path)?NM(n.infoSyncTree_,t,e):NM(n.serverSyncTree_,t,e),r6(n.eventQueue_,t._path,i)}function d6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(o6)}function Nm(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Xr(e,...t)}function vf(n,t,e,i){t&&hy(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function $F(n,t,e){return FM(n.serverSyncTree_,t,e)||$t.EMPTY_NODE}function GM(n,t=n.transactionQueueTree_){if(t||zM(n,t),Pm(t)){const e=f6(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Fne(n,t,e){const i=e.map(y=>y.currentWriteId),r=$F(n,t,i);let s=r;const c=r.hash();for(let y=0;y<e.length;y++){const C=e[y];(0,F.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const D=vo(t,C.path);s=s.updateChild(D,C.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,y=>{Nm(n,"transaction put response",{path:p.toString(),status:y});let C=[];if("ok"===y){const D=[];for(let x=0;x<e.length;x++)e[x].status=2,C=C.concat(yf(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&D.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();zM(n,BM(n.transactionQueueTree_,t)),GM(n,n.transactionQueueTree_),il(n.eventQueue_,t,C);for(let x=0;x<D.length;x++)hy(D[x])}else{if("datastale"===y)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{Us("transaction at "+p.toString()+" failed: "+y);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=y}Cy(n,t)}},c)}(n,LC(t),e)}else X$(t)&&VM(t,e=>{GM(n,e)})}function Cy(n,t){const e=h6(n,t),i=LC(e);return function Lne(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],y=vo(e,p.path);let D,C=!1;if((0,F.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,D=p.abortReason,r=r.concat(yf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,D="maxretry",r=r.concat(yf(n.serverSyncTree_,p.currentWriteId,!0));else{const x=$F(n,p.path,c);p.currentInputSnapshot=x;const P=t[d].update(x.val());if(void 0!==P){VC("transaction failed: Data returned ",P,p.path);let B=ki(P);"object"==typeof P&&null!=P&&(0,F.r3)(P,".priority")||(B=B.updatePriority(x.getPriority()));const ue=p.currentWriteId,ke=jC(n),Ue=NF(B,x,ke);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=Ue,p.currentWriteId=jM(n),c.splice(c.indexOf(ue),1),r=r.concat(AF(n.serverSyncTree_,p.path,Ue,p.currentWriteId,p.applyLocally)),r=r.concat(yf(n.serverSyncTree_,ue,!0))}else C=!0,D="nodata",r=r.concat(yf(n.serverSyncTree_,p.currentWriteId,!0))}il(n.eventQueue_,e,r),r=[],C&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===D?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(D),!1,null)))}zM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)hy(i[d]);GM(n,n.transactionQueueTree_)}(n,f6(n,e),i),i}function h6(n,t){let e,i=n.transactionQueueTree_;for(e=rn(t);null!==e&&void 0===Pm(i);)i=BM(i,e),e=rn(t=Qn(t));return i}function f6(n,t){const e=[];return p6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function p6(n,t,e){const i=Pm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);VM(t,r=>{p6(n,r,e)})}function zM(n,t){const e=Pm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,BF(t,e.length>0?e:void 0)}VM(t,i=>{zM(n,i)})}function qF(n,t){const e=LC(h6(n,t)),i=BM(n.transactionQueueTree_,t);return function pne(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{WF(n,r)}),WF(n,i),e6(i,r=>{WF(n,r)}),e}function WF(n,t){const e=Pm(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,F.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,F.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(yf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?BF(t,void 0):e.length=s+1,il(n.eventQueue_,LC(t),r);for(let c=0;c<i.length;c++)hy(i[c])}}const YF=function(n,t){const e=Une(n),i=e.namespace;return"firebase.com"===e.domain&&Yc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Yc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Us("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Z1(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new jn(e.pathString)}},Une=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(C,D)),C<D&&(r=function Bne(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(C,D)));const x=function Vne(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Us(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const B=t.indexOf(".");i=t.substring(0,B).toLowerCase(),e=t.substring(B+1),s=i}"ns"in x&&(s=x.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class m6{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class g6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class _6{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class y6{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return xne(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){nl("OnDisconnect.remove",this._path);const t=new F.BH;return u6(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){nl("OnDisconnect.set",this._path),Qc("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return u6(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){nl("OnDisconnect.setWithPriority",this._path),Qc("OnDisconnect.setWithPriority",t,this._path,!1),HF("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function kne(n,t,e,i,r){const s=ki(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&yy(n.onDisconnect_,t,s),vf(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){nl("OnDisconnect.update",this._path),n6("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function Rne(n,t,e,i){if((0,F.xb)(e))return Xr("onDisconnect().update() called with empty data.  Don't do anything."),void vf(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&es(e,(c,d)=>{const p=ki(d);yy(n.onDisconnect_,Ei(t,c),p)}),vf(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Yo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return sn(this._path)?null:tF(this._path)}get ref(){return new rl(this._repo,this._path)}get _queryIdentifier(){const t=w$(this._queryParams),e=q1(t);return"{}"===e?"default":e}get _queryObject(){return w$(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Yo))return!1;const e=this._repo===t._repo,i=nF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xee(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function $M(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function bf(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Kc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Td)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Zc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ii){if(null!=t&&!BC(t)||null!=e&&!BC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof aF||n.getIndex()===lF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rl extends Yo{constructor(t,e){super(t,e,new wM,!1)}get parent(){const t=s$(this._path);return null===t?null:new rl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Fm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new jn(t),i=Lm(this.ref,t);return new Fm(this._node.getChild(e),i,ii)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Fm(r,Lm(this.ref,i),ii)))}hasChild(t){const e=new jn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function v6(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Lm(n._root,t):n._root}function b6(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=YF(t,n._repo.repoInfo_.nodeAdmin);i6("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Yc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),v6(n,e.path.toString())}function Lm(n,t){return null===rn((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),HC("child","path",e,!1)):HC("child","path",t,!1),new rl(n._repo,Ei(n._path,t));var e}function ZF(n,t){n=(0,F.m9)(n),nl("set",n._path),Qc("set",t,n._path,!1);const e=new F.BH;return GF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function $ne(n,t){n6("update",t,n._path,!1);const e=new F.BH;return function Mne(n,t,e,i){Nm(n,"update",{path:t.toString(),value:e});let r=!0;const s=jC(n),c={};if(es(e,(d,p)=>{r=!1,c[d]=J$(Ei(t,d),ki(p),n.serverSyncTree_,s)}),r)Xr("update() called with empty data.  Don't do anything."),vf(0,i,"ok",void 0);else{const d=jM(n),p=function Xte(n,t,e,i){!function gte(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=vF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ri.fromObject(e);return wy(n,new vy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);HM(n.eventQueue_,p),n.server_.merge(t.toString(),e,(y,C)=>{const D="ok"===y;D||Us("update at "+t+" failed: "+y);const x=yf(n.serverSyncTree_,d,!D),P=x.length>0?Cy(n,t):t;il(n.eventQueue_,P,x),vf(0,i,y,C)}),es(e,y=>{const C=qF(n,Ei(t,y));Cy(n,C)}),il(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class WM{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new m6("value",this,new Fm(t.snapshotNode,new rl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new g6(this,t,e):null}matches(t){return t instanceof WM&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class YM{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new g6(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=Lm(new rl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new m6(t.type,this,new Fm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof YM&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function GC(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,y=(C,D)=>{zF(n._repo,n,d),p(C,D)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new _6(e,s||void 0),d="value"===t?new WM(c):new YM(t,c);return function One(n,t,e){let i;i=".info"===rn(t._path)?W$(n.infoSyncTree_,t,e):W$(n.serverSyncTree_,t,e),r6(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>zF(n._repo,n,d)}function KF(n,t,e,i){return GC(n,"value",t,e,i)}function w6(n,t,e,i){return GC(n,"child_added",t,e,i)}function C6(n,t,e,i){return GC(n,"child_changed",t,e,i)}function E6(n,t,e,i){return GC(n,"child_moved",t,e,i)}function S6(n,t,e,i){return GC(n,"child_removed",t,e,i)}function D6(n,t,e){let i=null;const r=e?new _6(e):null;"value"===t?i=new WM(r):t&&(i=new YM(t,r)),zF(n._repo,n,i)}class Kl{}class T6 extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qc("endAt",this._value,t._path,!0);const e=hF(t._queryParams,this._value,this._key);if(qM(e),bf(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yo(t._repo,t._path,e,t._orderByCalled)}}class Yne extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qc("endBefore",this._value,t._path,!1);const e=function ite(n,t,e){let i,r;return n.index_===Kc?("string"==typeof t&&(t=y$(t)),r=hF(n,t,e)):(i=null==e?Td:y$(e),r=hF(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(qM(e),bf(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yo(t._repo,t._path,e,t._orderByCalled)}}class I6 extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qc("startAt",this._value,t._path,!0);const e=dF(t._queryParams,this._value,this._key);if(qM(e),bf(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Yo(t._repo,t._path,e,t._orderByCalled)}}class Qne extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qc("startAfter",this._value,t._path,!1);const e=function nte(n,t,e){let i;if(n.index_===Kc)"string"==typeof t&&(t=_$(t)),i=dF(n,t,e);else{let r;r=null==e?Zc:_$(e),i=dF(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(qM(e),bf(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Yo(t._repo,t._path,e,t._orderByCalled)}}class Xne extends Kl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yo(t._repo,t._path,function ete(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class tie extends Kl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yo(t._repo,t._path,function tte(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class iie extends Kl{constructor(t){super(),this._path=t}_apply(t){$M(t,"orderByChild");const e=new jn(this._path);if(sn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new aF(e),r=CM(t._queryParams,i);return bf(r),new Yo(t._repo,t._path,r,!0)}}class sie extends Kl{_apply(t){$M(t,"orderByKey");const e=CM(t._queryParams,Kc);return bf(e),new Yo(t._repo,t._path,e,!0)}}class aie extends Kl{_apply(t){$M(t,"orderByPriority");const e=CM(t._queryParams,ii);return bf(e),new Yo(t._repo,t._path,e,!0)}}class cie extends Kl{_apply(t){$M(t,"orderByValue");const e=CM(t._queryParams,lF);return bf(e),new Yo(t._repo,t._path,e,!0)}}class die extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Qc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new T6(this._value,this._key)._apply(new I6(this._value,this._key)._apply(t))}}function Ql(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function $te(n){(0,F.hu)(!RM,"__referenceConstructor has already been defined"),RM=n})(rl),function Kte(n){(0,F.hu)(!PM,"__referenceConstructor has already been defined"),PM=n}(rl);const QF={};function A6(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Yc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=YF(s,r),d=c.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${d.namespace}`,c=YF(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const C=r&&p?new CC(CC.OWNER):new see(n.name,n.options,t);i6("Invalid Firebase Database URL",c),sn(c.path)||Yc("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function gie(n,t,e,i){let r=QF[t.name];r||(r={},QF[t.name]=r);let s=r[n.toURLString()];return s&&Yc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Sne(n,false,e,i),r[n.toURLString()]=s,s}(d,n,C,new ree(n.name,e));return new yie(D,n)}class yie{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Dne(n,t,e){if(n.stats_=J1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new EM(n.repoInfo_,(i,r,s,c)=>{l6(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>c6(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new xm(n.repoInfo_,t,(i,r,s,c)=>{l6(n,i,r,s,c)},i=>{c6(n,i)},i=>{!function Tne(n,t){es(t,(e,i)=>{jF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function lee(n,t){const e=n.toString();return Q1[e]||(Q1[e]=t()),Q1[e]}(n.repoInfo_,()=>new cte(n.stats_,n.server_)),n.infoData_=new rte,n.infoSyncTree_=new z$({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=PC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),jF(n,"connected",!1),n.serverSyncTree_=new z$({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const y=c(d,p);il(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rl(this._repo,Rn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function mie(n,t){const e=QF[t];(!e||e[n.key]!==n)&&Yc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),d6(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Yc("Cannot call "+t+" on a deleted database.")}}function x6(){Wz.IS_TRANSPORT_INITIALIZED&&Us("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function vie(){x6(),hf.forceDisallow()}function bie(){x6(),fy.forceDisallow(),hf.forceAllow()}function Sie(n,t){Iz(n,t)}const Tie={".sv":"timestamp"};class Aie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}xm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},xm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Die(n){Cz(lo.SDK_VERSION),(0,lo._registerComponent)(new zl.wA("database",(t,{instanceIdentifier:e})=>A6(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,lo.registerVersion)(bz,"0.13.3",n),(0,lo.registerVersion)(bz,"0.13.3","esm2017")}();const Oie=new Gl.Yd("@firebase/database-compat"),k6=function(n){Oie.warn("FIREBASE WARNING: "+n)};class Fie{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,k6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Lie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class wf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),HC("DataSnapshot.child","path",t,!1),new wf(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),HC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new wf(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new ba(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class bs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const c=bs.getCancelAndContextArgs_("Query.on",i,r),d=(y,C)=>{e.call(c.context,new wf(this.database,y),C)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return KF(this._delegate,d,p),e;case"child_added":return w6(this._delegate,d,p),e;case"child_removed":return S6(this._delegate,d,p),e;case"child_changed":return C6(this._delegate,d,p),e;case"child_moved":return E6(this._delegate,d,p),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,D6(this._delegate,t,r)}else D6(this._delegate,t)}get(){return function qne(n){return Ine((n=(0,F.m9)(n))._repo,n).then(t=>new Fm(t,new rl(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new wf(this.database,t))}once(t,e,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const s=bs.getCancelAndContextArgs_("Query.once",i,r),c=new F.BH,d=(y,C)=>{const D=new wf(this.database,y);e&&e.call(s.context,D,C),c.resolve(D)};d.userCallback=e,d.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(t){case"value":KF(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":w6(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":S6(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":C6(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":E6(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new bs(this.database,Ql(this._delegate,function eie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xne(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new bs(this.database,Ql(this._delegate,function nie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new tie(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new bs(this.database,Ql(this._delegate,function rie(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return HC("orderByChild","path",n,!1),new iie(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new bs(this.database,Ql(this._delegate,function oie(){return new sie}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new bs(this.database,Ql(this._delegate,function lie(){return new aie}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new bs(this.database,Ql(this._delegate,function uie(){return new cie}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new bs(this.database,Ql(this._delegate,function Kne(n=null,t){return UC("startAt","key",t,!0),new I6(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new bs(this.database,Ql(this._delegate,function Jne(n,t){return UC("startAfter","key",t,!0),new Qne(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new bs(this.database,Ql(this._delegate,function Wne(n,t){return UC("endAt","key",t,!0),new T6(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new bs(this.database,Ql(this._delegate,function Zne(n,t){return UC("endBefore","key",t,!0),new Yne(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new bs(this.database,Ql(this._delegate,function hie(n,t){return UC("equalTo","key",t,!0),new die(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof bs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,F.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ba(this.database,new rl(this._delegate._repo,this._delegate._path))}}class ba extends bs{constructor(t,e){super(t,new Yo(e._repo,e._path,new wM,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ba(this.database,Lm(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ba(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new ba(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=ZF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,k6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nl("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=$ne(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function zne(n,t,e){if(nl("setWithPriority",n._path),Qc("setWithPriority",t,n._path,!1),HF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return GF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function jne(n){return nl("remove",n._path),ZF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function xie(n,t,e){var i;if(n=(0,F.m9)(n),nl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new F.BH,d=KF(n,()=>{});return function Nne(n,t,e,i,r,s){Nm(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:Sz(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=$F(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{VC("transaction failed: Data returned ",p,c.path),c.status=0;const y=BM(n.transactionQueueTree_,t),C=Pm(y)||[];let D;C.push(c),BF(y,C),"object"==typeof p&&null!==p&&(0,F.r3)(p,".priority")?(D=(0,F.DV)(p,".priority"),(0,F.hu)(BC(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(FM(n.serverSyncTree_,t)||$t.EMPTY_NODE).getPriority().val();const x=jC(n),P=ki(p,D),B=NF(P,d,x);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=B,c.currentWriteId=jM(n);const ee=AF(n.serverSyncTree_,t,B,c.currentWriteId,c.applyLocally);il(n.eventQueue_,t,ee),GM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,y,C)=>{let D=null;p?s.reject(p):(D=new Fm(C,new rl(n._repo,n._path),ii),s.resolve(new Aie(y,D)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Lie(s.committed,new wf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Gne(n,t){n=(0,F.m9)(n),nl("setPriority",n._path),HF("setPriority",t,!1);const e=new F.BH;return GF(n._repo,Ei(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function Hne(n,t){n=(0,F.m9)(n),nl("push",n._path),Qc("push",t,n._path,!0);const e=a6(n._repo),i=Kee(e),r=Lm(n,i),s=Lm(n,i);let c;return c=null!=t?ZF(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new ba(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new ba(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return nl("Reference.onDisconnect",this._delegate._path),new Fie(new y6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:vie,forceLongPolling:bie}}useEmulator(t,e,i={}){!function wie(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Yc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Yc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new CC(CC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new CC(c)}!function pie(n,t,e,i){n.repoInfo_=new Z1(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof ba){const e=b6(this._delegate,t.toString());return new ba(this,e)}{const e=v6(this._delegate,t);return new ba(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=b6(this._delegate,t);return new ba(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Cie(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),d6(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Eie(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function Pne(n){n.persistentConnection_&&n.persistentConnection_.resume(o6)}(n._repo)}(this._delegate)}}zC.ServerValue={TIMESTAMP:function Iie(){return Tie}(),increment:n=>function Mie(n){return{".sv":{increment:n}}}(n)};var Vie=Object.freeze({__proto__:null,initStandalone:function Bie({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Cz(e);const c=new zl.zt("auth-internal",new zl.H0("database-standalone"));return c.setComponent(new zl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new zC(A6(n,c,void 0,t,s),n),namespace:r}}});const Uie=zC.ServerValue;function R6(n){return null==n}function O6(n){return"function"==typeof n.set}function P6(n,t){return O6(t)?t:n.ref(t)}function N6(n,t){if(function jie(n){return"string"==typeof n}(n))return t.stringCase();if(O6(n))return t.firebaseCase();if(function Gie(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function $C(n,t,e="on",i=za.z){return new gi.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Je.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,nD.B)())}function F6(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function qie(n,t){const{payload:e,prevKey:i,key:r}=t,s=F6(n,r),c=function $ie(n,t){if(R6(t))return 0;{const e=F6(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function L6(n){return(R6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function B6(n,t,e){return function zie(n,t,e){return $C(n,"value","once",e).pipe(Ai(i=>{const r=[(0,nt.of)(i)];return t.forEach(s=>r.push($C(n,s,"on",e))),(0,oo.T)(...r).pipe(Gp(qie,[]))}),Uu())}(n,t=L6(t),e)}function V6(n,t,e){const i=(t=L6(t)).map(r=>$C(n,r,"on",e));return(0,oo.T)(...i)}function U6(n,t){return function(i,r){return N6(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Kie(n){return function(e){return e?N6(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function H6(n,t){return function(){return $C(n,"value","on",t)}}!function Hie(n){n.INTERNAL.registerComponent(new zl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new zC(r,i)},"PUBLIC").setServiceProps({Reference:ba,Query:bs,Database:zC,DataSnapshot:wf,enableLogging:Sie,INTERNAL:Vie,ServerValue:Uie}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(GR.Z);const Xie=new a.OlP("angularfire2.realtimeDatabaseURL"),ere=new a.OlP("angularfire2.database.use-emulator");let tre=(()=>{class n{constructor(e,i,r,s,c,d,p,y,C,D,x,P,B,ee,ue){this.schedulers=d;const ke=p,Ue=(0,Pr.on)(e,c,i);y&&a1(Ue,c,C,x,P,B,D,ee),this.database=(0,Pr.cc)(`${Ue.name}.database.${r}`,"AngularFireDatabase",Ue.name,()=>{const Ve=c.runOutsideAngular(()=>Ue.database(r||void 0));return ke&&Ve.useEmulator(...ke),Ve},[ke])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>P6(this.database,e));let s=r;return i&&(s=i(r)),function Qie(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:U6(i,"update"),set:U6(i,"set"),push:r=>i.push(r),remove:Kie(i),snapshotChanges:r=>B6(n,r,e).pipe(kn.iC),stateChanges:r=>V6(n,r,e).pipe(kn.iC),auditTrail:r=>function Wie(n,t,e){return function Zie(n,t,e){return function Yie(n,t){return $C(n,"value","on",t).pipe((0,Je.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function jX(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new GX(n,e))}}(t),(0,Je.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function $X(n){return t=>t.lift(new qX(n))}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Je.U)(r=>r.actions))}(n,V6(n,t).pipe(Gp((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(kn.iC),valueChanges:(r,s)=>B6(n,r,e).pipe((0,Je.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),kn.iC)}}(s,this)}object(e){return function Jie(n,t){return{query:n,snapshotChanges:()=>H6(n,t.schedulers.outsideAngular)().pipe(kn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>H6(n,t.schedulers.outsideAngular)().pipe(kn.iC,(0,Je.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>P6(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pr.Dh),a.LFG(Pr.xv,8),a.LFG(Xie,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(kn.HU),a.LFG(ere,8),a.LFG(tC,8),a.LFG(t1,8),a.LFG(n1,8),a.LFG(i1,8),a.LFG(r1,8),a.LFG(s1,8),a.LFG(o1,8),a.LFG(eC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nre=(()=>{class n{constructor(){UI.Z.registerVersion("angularfire",kn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[tre]}),n})();const j6_firebase={apiKey:"AIzaSyD1iZkmmjI3EzpRjADOhWLXEVW4_OBC9xw",authDomain:"store-436c3.firebaseapp.com",projectId:"store-436c3",storageBucket:"store-436c3.appspot.com",messagingSenderId:"690920901241",appId:"1:690920901241:web:5135f90c29ca47704422a8",measurementId:"G-Z5X626RB8D"};let fre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Nc,tn],Nc,tn]}),n})();!function At(n,t,e){(0,a.dwT)(n,t,e)}(Vf);let pre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[J9]}),n.\u0275inj=a.cJS({providers:[{provide:a.soG,useValue:"pt-br"}],imports:[[Pr.hO.initializeApp(j6_firebase),ka,$9,eB,YW,Jq,MD,hk,Kg,lV,Km,u0,Np,_D,jW,xq,gW,Nk,fre,Vq,d7,HX,v7,nre]]}),n})();sc().bootstrapModule(pre).catch(n=>console.error(n))},5867:(Ke,ye,L)=>{L.d(ye,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=L(9681);(0,a.registerVersion)("firebase","9.9.0","app")},127:(Ke,ye,L)=>{L.d(ye,{Z:()=>a.Z});var a=L(3942);a.Z.registerVersion("firebase","9.9.0","app-compat")},5881:(Ke,ye,L)=>{L.r(ye);var a=L(5861),G=L(3942),N=L(6803),ce=L(2090),se=(L(9681),L(1877),L(4859));function re(){return window}function $(){return($=(0,a.Z)(function*(oe,J,Q){var Ee;const{BuildInfo:ze}=re();(0,N.aq)(J.sessionId,"AuthEvent did not contain a session ID");const Xe=yield Se(J.sessionId),bt={};return(0,N.ar)()?bt.ibi=ze.packageName:(0,N.as)()?bt.apn=ze.packageName:(0,N.at)(oe,"operation-not-supported-in-this-environment"),ze.displayName&&(bt.appDisplayName=ze.displayName),bt.sessionId=Xe,(0,N.au)(oe,Q,J.type,void 0,null!==(Ee=J.eventId)&&void 0!==Ee?Ee:void 0,bt)})).apply(this,arguments)}function le(){return(le=(0,a.Z)(function*(oe){const{BuildInfo:J}=re(),Q={};(0,N.ar)()?Q.iosBundleId=J.packageName:(0,N.as)()?Q.androidPackageName=J.packageName:(0,N.at)(oe,"operation-not-supported-in-this-environment"),yield(0,N.av)(oe,Q)})).apply(this,arguments)}function be(){return(be=(0,a.Z)(function*(oe,J,Q){const{cordova:Ee}=re();let ze=()=>{};try{yield new Promise((Xe,bt)=>{let Yt=null;function Qt(){var Ft;Xe();const ur=null===(Ft=Ee.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof ur&&ur(),"function"==typeof(null==Q?void 0:Q.close)&&Q.close()}function Wn(){Yt||(Yt=window.setTimeout(()=>{bt((0,N.aw)(oe,"redirect-cancelled-by-user"))},2e3))}function Si(){"visible"===(null==document?void 0:document.visibilityState)&&Wn()}J.addPassiveListener(Qt),document.addEventListener("resume",Wn,!1),(0,N.as)()&&document.addEventListener("visibilitychange",Si,!1),ze=()=>{J.removePassiveListener(Qt),document.removeEventListener("resume",Wn,!1),document.removeEventListener("visibilitychange",Si,!1),Yt&&window.clearTimeout(Yt)}})}finally{ze()}})).apply(this,arguments)}function Se(oe){return Be.apply(this,arguments)}function Be(){return(Be=(0,a.Z)(function*(oe){const J=st(oe),Q=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(Q)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function st(oe){if((0,N.aq)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const J=new ArrayBuffer(oe.length),Q=new Uint8Array(J);for(let Ee=0;Ee<oe.length;Ee++)Q[Ee]=oe.charCodeAt(Ee);return Q}class un extends N.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(Q=>Q(J)),super.onEvent(J)}initialized(){var J=this;return(0,a.Z)(function*(){yield J.initPromise})()}}function vt(oe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,a.Z)(function*(oe){const J=yield yt()._get(tt(oe));return J&&(yield yt()._remove(tt(oe))),J})).apply(this,arguments)}function Ze(){const oe=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Q=0;Q<20;Q++){const Ee=Math.floor(Math.random()*J.length);oe.push(J.charAt(Ee))}return oe.join("")}function yt(){return(0,N.ay)(N.b)}function tt(oe){return(0,N.az)("authEvent",oe.config.apiKey,oe.name)}function Zi(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[J,...Q]=oe.split("?");return(0,ce.zd)(Q.join("?"))}function Gt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function Ki(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function On(oe=(0,ce.z$)()){return!("file:"!==Ki()&&"ionic:"!==Ki()&&"capacitor:"!==Ki()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){try{const oe=self.localStorage,J=N.aI();if(oe)return oe.setItem(J,"1"),oe.removeItem(J),!function Fr(oe=(0,ce.z$)()){return function Dn(){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Pi(oe=(0,ce.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ce.hl)()}catch(oe){return Pe()&&(0,ce.hl)()}return!1}function Pe(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tn(){return(function Qi(){return"http:"===Ki()||"https:"===Ki()}()||(0,ce.ru)()||On())&&!function Ln(){return(0,ce.b$)()||(0,ce.UG)()}()&&wr()&&!Pe()}function si(){return On()&&"undefined"!=typeof document}function Bn(){return(Bn=(0,a.Z)(function*(){return!!si()&&new Promise(oe=>{const J=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),oe(!0)})})})).apply(this,arguments)}const dn={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=N.ax,Cr="persistence";function Vn(oe){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(oe){yield oe._initializationPromise;const J=qt(),Q=N.az(Cr,oe.config.apiKey,oe.name);J&&J.setItem(Q,oe._getPersistence())})).apply(this,arguments)}function qt(){var oe;try{return(null===(oe=function zn(){return"undefined"!=typeof window?window:null}())||void 0===oe?void 0:oe.sessionStorage)||null}catch(J){return null}}const lt=N.ax;class ct{constructor(){this.browserResolver=N.ay(N.k),this.cordovaResolver=N.ay(class ws{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(J){var Q=this;return(0,a.Z)(function*(){const Ee=J._key();let ze=Q.eventManagers.get(Ee);return ze||(ze=new un(J),Q.eventManagers.set(Ee,ze),Q.attachCallbackListeners(J,ze)),ze})()}_openPopup(J){(0,N.at)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,Q,Ee,ze){var Xe=this;return(0,a.Z)(function*(){!function ve(oe){var J,Q,Ee,ze,Xe,bt,Yt,Qt,Wn,Si;const Ft=re();(0,N.ax)("function"==typeof(null===(J=null==Ft?void 0:Ft.universalLinks)||void 0===J?void 0:J.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(void 0!==(null===(Q=null==Ft?void 0:Ft.BuildInfo)||void 0===Q?void 0:Q.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(Xe=null===(ze=null===(Ee=null==Ft?void 0:Ft.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===Xe?void 0:Xe.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Qt=null===(Yt=null===(bt=null==Ft?void 0:Ft.cordova)||void 0===bt?void 0:bt.plugins)||void 0===Yt?void 0:Yt.browsertab)||void 0===Qt?void 0:Qt.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Si=null===(Wn=null==Ft?void 0:Ft.cordova)||void 0===Wn?void 0:Wn.InAppBrowser)||void 0===Si?void 0:Si.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const bt=yield Xe._initialize(J);yield bt.initialized(),bt.resetRedirect(),(0,N.aD)(),yield Xe._originValidation(J);const Yt=function Nt(oe,J,Q=null){return{type:J,eventId:Q,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:oe.tenantId,error:(0,N.aw)(oe,"no-auth-event")}}(J,Ee,ze);yield function Fn(oe,J){return yt()._set(tt(oe),J)}(J,Yt);const Qt=yield function V(oe,J,Q){return $.apply(this,arguments)}(J,Yt,Q),Wn=yield function _e(oe){const{cordova:J}=re();return new Promise(Q=>{J.plugins.browsertab.isAvailable(Ee=>{let ze=null;Ee?J.plugins.browsertab.openUrl(oe):ze=J.InAppBrowser.open(oe,(0,N.ap)()?"_blank":"_system","location=yes"),Q(ze)})})}(Qt);return function ge(oe,J,Q){return be.apply(this,arguments)}(J,bt,Wn)})()}_isIframeWebStorageSupported(J,Q){throw new Error("Method not implemented.")}_originValidation(J){const Q=J._key();return this.originValidationPromises[Q]||(this.originValidationPromises[Q]=function H(oe){return le.apply(this,arguments)}(J)),this.originValidationPromises[Q]}attachCallbackListeners(J,Q){const{universalLinks:Ee,handleOpenURL:ze,BuildInfo:Xe}=re(),bt=setTimeout((0,a.Z)(function*(){yield vt(J),Q.onEvent(Gt())}),500),Yt=function(){var Si=(0,a.Z)(function*(Ft){clearTimeout(bt);const ur=yield vt(J);let Vr=null;ur&&(null==Ft?void 0:Ft.url)&&(Vr=function Me(oe,J){var Q,Ee;const ze=function qe(oe){const J=Zi(oe),Q=J.link?decodeURIComponent(J.link):void 0,Ee=Zi(Q).link,ze=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Zi(ze).link||ze||Ee||Q||oe}(J);if(ze.includes("/__/auth/callback")){const Xe=Zi(ze),bt=Xe.firebaseError?function Et(oe){try{return JSON.parse(oe)}catch(J){return null}}(decodeURIComponent(Xe.firebaseError)):null,Yt=null===(Ee=null===(Q=null==bt?void 0:bt.code)||void 0===Q?void 0:Q.split("auth/"))||void 0===Ee?void 0:Ee[1],Qt=Yt?(0,N.aw)(Yt):null;return Qt?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:ze,postBody:null}}return null}(ur,Ft.url)),Q.onEvent(Vr||Gt())});return function(ur){return Si.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,Yt);const Qt=ze,Wn=`${Xe.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var Si=(0,a.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(Wn)&&Yt({url:Ft}),"function"==typeof Qt)try{Qt(Ft)}catch(ur){console.error(ur)}});return function(Ft){return Si.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(J){var Q=this;return(0,a.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,Q,Ee,ze){var Xe=this;return(0,a.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openPopup(J,Q,Ee,ze)})()}_openRedirect(J,Q,Ee,ze){var Xe=this;return(0,a.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openRedirect(J,Q,Ee,ze)})()}_isIframeWebStorageSupported(J,Q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,Q)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return si()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,a.Z)(function*(){if(J.underlyingResolver)return;const Q=yield function ft(){return Bn.apply(this,arguments)}();J.underlyingResolver=Q?J.cordovaResolver:J.browserResolver})()}}function Cs(oe){return oe.unwrap()}function ht(oe){return pi(oe)}function pi(oe){const{_tokenResponse:J}=oe instanceof ce.ZR?oe.customData:oe;if(!J)return null;if(!(oe instanceof ce.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return N.P.credentialFromResult(oe);const Q=J.providerId;if(!Q||Q===N.o.PASSWORD)return null;let Ee;switch(Q){case N.o.GOOGLE:Ee=N.Q;break;case N.o.FACEBOOK:Ee=N.N;break;case N.o.GITHUB:Ee=N.T;break;case N.o.TWITTER:Ee=N.W;break;default:const{oauthIdToken:ze,oauthAccessToken:Xe,oauthTokenSecret:bt,pendingToken:Yt,nonce:Qt}=J;return Xe||bt||ze||Yt?Yt?Q.startsWith("saml.")?N.aL._create(Q,Yt):N.J._fromParams({providerId:Q,signInMethod:Q,pendingToken:Yt,idToken:ze,accessToken:Xe}):new N.U(Q).credential({idToken:ze,accessToken:Xe,rawNonce:Qt}):null}return oe instanceof ce.ZR?Ee.credentialFromError(oe):Ee.credentialFromResult(oe)}function Cn(oe,J){return J.catch(Q=>{throw Q instanceof ce.ZR&&function Lr(oe,J){var Q,Ee;const ze=null===(Q=J.customData)||void 0===Q?void 0:Q._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ee=J)||void 0===Ee?void 0:Ee.code))J.resolver=new W(oe,N.an(oe,J));else if(ze){const Xe=pi(J),bt=J;Xe&&(bt.credential=Xe,bt.tenantId=ze.tenantId||void 0,bt.email=ze.email||void 0,bt.phoneNumber=ze.phoneNumber||void 0)}}(oe,Q),Q}).then(Q=>{const ze=Q.user;return{operationType:Q.operationType,credential:ht(Q),additionalUserInfo:N.al(Q),user:q.getOrCreate(ze)}})}function et(oe,J){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(oe,J){const Q=yield J;return{verificationId:Q.verificationId,confirm:Ee=>Cn(oe,Q.confirm(Ee))}})).apply(this,arguments)}class W{constructor(J,Q){this.resolver=Q,this.auth=function hn(oe){return oe.wrapped()}(J)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Cn(Cs(this.auth),this.resolver.resolveSignIn(J))}}class q{constructor(J){this._delegate=J,this.multiFactor=N.ao(J)}static getOrCreate(J){return q.USER_MAP.has(J)||q.USER_MAP.set(J,new q(J)),q.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var Q=this;return(0,a.Z)(function*(){return Cn(Q.auth,N.Z(Q._delegate,J))})()}linkWithPhoneNumber(J,Q){var Ee=this;return(0,a.Z)(function*(){return et(Ee.auth,N.l(Ee._delegate,J,Q))})()}linkWithPopup(J){var Q=this;return(0,a.Z)(function*(){return Cn(Q.auth,N.d(Q._delegate,J,ct))})()}linkWithRedirect(J){var Q=this;return(0,a.Z)(function*(){return yield Vn(N.aE(Q.auth)),N.g(Q._delegate,J,ct)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var Q=this;return(0,a.Z)(function*(){return Cn(Q.auth,N._(Q._delegate,J))})()}reauthenticateWithPhoneNumber(J,Q){return et(this.auth,N.r(this._delegate,J,Q))}reauthenticateWithPopup(J){return Cn(this.auth,N.e(this._delegate,J,ct))}reauthenticateWithRedirect(J){var Q=this;return(0,a.Z)(function*(){return yield Vn(N.aE(Q.auth)),N.h(Q._delegate,J,ct)})()}sendEmailVerification(J){return N.ab(this._delegate,J)}unlink(J){var Q=this;return(0,a.Z)(function*(){return yield N.ak(Q._delegate,J),Q})()}updateEmail(J){return N.ag(this._delegate,J)}updatePassword(J){return N.ah(this._delegate,J)}updatePhoneNumber(J){return N.u(this._delegate,J)}updateProfile(J){return N.af(this._delegate,J)}verifyBeforeUpdateEmail(J,Q){return N.ac(this._delegate,J,Q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}q.USER_MAP=new WeakMap;const z=N.ax;let Y=(()=>{class oe{constructor(Q,Ee){if(this.app=Q,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=Q.options;z(ze,"invalid-api-key",{appName:Q.name}),z(ze,"invalid-api-key",{appName:Q.name});const Xe="undefined"!=typeof window?ct:void 0;this._delegate=Ee.initialize({options:{persistence:Ae(ze,Q.name),popupRedirectResolver:Xe}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?q.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Q){this._delegate.languageCode=Q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Q){this._delegate.tenantId=Q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Q,Ee){N.G(this._delegate,Q,Ee)}applyActionCode(Q){return N.a2(this._delegate,Q)}checkActionCode(Q){return N.a3(this._delegate,Q)}confirmPasswordReset(Q,Ee){return N.a1(this._delegate,Q,Ee)}createUserWithEmailAndPassword(Q,Ee){var ze=this;return(0,a.Z)(function*(){return Cn(ze._delegate,N.a5(ze._delegate,Q,Ee))})()}fetchProvidersForEmail(Q){return this.fetchSignInMethodsForEmail(Q)}fetchSignInMethodsForEmail(Q){return N.aa(this._delegate,Q)}isSignInWithEmailLink(Q){return N.a8(this._delegate,Q)}getRedirectResult(){var Q=this;return(0,a.Z)(function*(){z(Tn(),Q._delegate,"operation-not-supported-in-this-environment");const Ee=yield N.j(Q._delegate,ct);return Ee?Cn(Q._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(Q){!function vr(oe,J){(0,N.aE)(oe)._logFramework(J)}(this._delegate,Q)}onAuthStateChanged(Q,Ee,ze){const{next:Xe,error:bt,complete:Yt}=K(Q,Ee,ze);return this._delegate.onAuthStateChanged(Xe,bt,Yt)}onIdTokenChanged(Q,Ee,ze){const{next:Xe,error:bt,complete:Yt}=K(Q,Ee,ze);return this._delegate.onIdTokenChanged(Xe,bt,Yt)}sendSignInLinkToEmail(Q,Ee){return N.a7(this._delegate,Q,Ee)}sendPasswordResetEmail(Q,Ee){return N.a0(this._delegate,Q,Ee||void 0)}setPersistence(Q){var Ee=this;return(0,a.Z)(function*(){let ze;switch(function Xn(oe,J){Jn(Object.values(dn).includes(J),oe,"invalid-persistence-type"),(0,ce.b$)()?Jn(J!==dn.SESSION,oe,"unsupported-persistence-type"):(0,ce.UG)()?Jn(J===dn.NONE,oe,"unsupported-persistence-type"):Pe()?Jn(J===dn.NONE||J===dn.LOCAL&&(0,ce.hl)(),oe,"unsupported-persistence-type"):Jn(J===dn.NONE||wr(),oe,"unsupported-persistence-type")}(Ee._delegate,Q),Q){case dn.SESSION:ze=N.a;break;case dn.LOCAL:ze=(yield N.ay(N.i)._isAvailable())?N.i:N.b;break;case dn.NONE:ze=N.L;break;default:return N.at("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(Q){return this.signInWithCredential(Q)}signInAnonymously(){return Cn(this._delegate,N.X(this._delegate))}signInWithCredential(Q){return Cn(this._delegate,N.Y(this._delegate,Q))}signInWithCustomToken(Q){return Cn(this._delegate,N.$(this._delegate,Q))}signInWithEmailAndPassword(Q,Ee){return Cn(this._delegate,N.a6(this._delegate,Q,Ee))}signInWithEmailLink(Q,Ee){return Cn(this._delegate,N.a9(this._delegate,Q,Ee))}signInWithPhoneNumber(Q,Ee){return et(this._delegate,N.s(this._delegate,Q,Ee))}signInWithPopup(Q){var Ee=this;return(0,a.Z)(function*(){return z(Tn(),Ee._delegate,"operation-not-supported-in-this-environment"),Cn(Ee._delegate,N.c(Ee._delegate,Q,ct))})()}signInWithRedirect(Q){var Ee=this;return(0,a.Z)(function*(){return z(Tn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield Vn(Ee._delegate),N.f(Ee._delegate,Q,ct)})()}updateCurrentUser(Q){return this._delegate.updateCurrentUser(Q)}verifyPasswordResetCode(Q){return N.a4(this._delegate,Q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=dn,oe})();function K(oe,J,Q){let Ee=oe;"function"!=typeof oe&&({next:Ee,error:J,complete:Q}=oe);const ze=Ee;return{next:bt=>ze(bt&&q.getOrCreate(bt)),error:J,complete:Q}}function Ae(oe,J){const Q=function is(oe,J){const Q=qt();if(!Q)return[];const Ee=N.az(Cr,oe,J);switch(Q.getItem(Ee)){case dn.NONE:return[N.L];case dn.LOCAL:return[N.i,N.a];case dn.SESSION:return[N.a];default:return[]}}(oe,J);if("undefined"!=typeof self&&!Q.includes(N.i)&&Q.push(N.i),"undefined"!=typeof window)for(const Ee of[N.b,N.a])Q.includes(Ee)||Q.push(Ee);return Q.includes(N.L)||Q.push(N.L),Q}class je{constructor(){this.providerId="phone",this._delegate=new N.P(Cs(G.Z.auth()))}static credential(J,Q){return N.P.credential(J,Q)}verifyPhoneNumber(J,Q){return this._delegate.verifyPhoneNumber(J,Q)}unwrap(){return this._delegate}}je.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,je.PROVIDER_ID=N.P.PROVIDER_ID;const gt=N.ax;class on{constructor(J,Q,Ee=G.Z.app()){var ze;gt(null===(ze=Ee.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new N.R(J,Q,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Br(oe){oe.INTERNAL.registerComponent(new se.wA("auth-compat",J=>{const Q=J.getProvider("app-compat").getImmediate(),Ee=J.getProvider("auth");return new Y(Q,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:je,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:on,TwitterAuthProvider:N.W,Auth:Y,AuthCredential:N.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.18")}(G.Z)},2916:(Ke,ye,L)=>{L.d(ye,{y:()=>$});var a=L(3489),N=L(7668),ce=L(3292),te=L(3821),se=L(5379);var V=L(2830);let $=(()=>{class le{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const be=new le;return be.source=this,be.operator=ge,be}subscribe(ge,be,ve){const{operator:Se}=this,Be=function de(le,_e,ge){if(le){if(le instanceof a.L)return le;if(le[N.b])return le[N.b]()}return le||_e||ge?new a.L(le,_e,ge):new a.L(ce.c)}(ge,be,ve);if(Be.add(Se?Se.call(Be,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),V.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(ge){try{return this._subscribe(ge)}catch(be){V.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=be),function G(le){for(;le;){const{closed:_e,destination:ge,isStopped:be}=le;if(_e||be)return!1;le=ge&&ge instanceof a.L?ge:null}return!0}(ge)?ge.error(be):console.warn(be)}}forEach(ge,be){return new(be=H(be))((ve,Se)=>{let Be;Be=this.subscribe(st=>{try{ge(st)}catch(Ht){Se(Ht),Be&&Be.unsubscribe()}},Se,ve)})}_subscribe(ge){const{source:be}=this;return be&&be.subscribe(ge)}[te.L](){return this}pipe(...ge){return 0===ge.length?this:function ie(le){return 0===le.length?se.y:1===le.length?le[0]:function(ge){return le.reduce((be,ve)=>ve(be),ge)}}(ge)(this)}toPromise(ge){return new(ge=H(ge))((be,ve)=>{let Se;this.subscribe(Be=>Se=Be,Be=>ve(Be),()=>be(Se))})}}return le.create=_e=>new le(_e),le})();function H(le){if(le||(le=V.v.Promise||Promise),!le)throw new Error("no Promise impl found");return le}},3292:(Ke,ye,L)=>{L.d(ye,{c:()=>N});var a=L(2830),G=L(2782);const N={closed:!0,next(ce){},error(ce){if(a.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,G.z)(ce)},complete(){}}},8929:(Ke,ye,L)=>{L.d(ye,{Yc:()=>se,xQ:()=>re});var a=L(2916),G=L(3489),N=L(2654),ce=L(5279),de=L(5283),te=L(7668);class se extends G.L{constructor($){super($),this.destination=$}}let re=(()=>{class V extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new se(this)}lift(H){const le=new ie(this,this);return le.operator=H,le}next(H){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:le}=this,_e=le.length,ge=le.slice();for(let be=0;be<_e;be++)ge[be].next(H)}}error(H){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:le}=this,_e=le.length,ge=le.slice();for(let be=0;be<_e;be++)ge[be].error(H);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:H}=this,le=H.length,_e=H.slice();for(let ge=0;ge<le;ge++)_e[ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new ce.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new ce.N;return this.hasError?(H.error(this.thrownError),N.w.EMPTY):this.isStopped?(H.complete(),N.w.EMPTY):(this.observers.push(H),new de.W(this,H))}asObservable(){const H=new a.y;return H.source=this,H}}return V.create=($,H)=>new ie($,H),V})();class ie extends re{constructor($,H){super(),this.destination=$,this.source=H}next($){const{destination:H}=this;H&&H.next&&H.next($)}error($){const{destination:H}=this;H&&H.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:H}=this;return H?this.source.subscribe($):N.w.EMPTY}}},5283:(Ke,ye,L)=>{L.d(ye,{W:()=>G});var a=L(2654);class G extends a.w{constructor(ce,de){super(),this.subject=ce,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,de=ce.observers;if(this.subject=null,!de||0===de.length||ce.isStopped||ce.closed)return;const te=de.indexOf(this.subscriber);-1!==te&&de.splice(te,1)}}},3489:(Ke,ye,L)=>{L.d(ye,{L:()=>se});var a=L(7043),G=L(3292),N=L(2654),ce=L(7668),de=L(2830),te=L(2782);class se extends N.w{constructor(V,$,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=G.c;break;case 1:if(!V){this.destination=G.c;break}if("object"==typeof V){V instanceof se?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,V,$,H)}}[ce.b](){return this}static create(V,$,H){const le=new se(V,$,H);return le.syncErrorThrowable=!1,le}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class re extends se{constructor(V,$,H,le){super(),this._parentSubscriber=V;let _e,ge=this;(0,a.m)($)?_e=$:$&&(_e=$.next,H=$.error,le=$.complete,$!==G.c&&(ge=Object.create($),(0,a.m)(ge.unsubscribe)&&this.add(ge.unsubscribe.bind(ge)),ge.unsubscribe=this.unsubscribe.bind(this))),this._context=ge,this._next=_e,this._error=H,this._complete=le}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;de.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:H}=de.v;if(this._error)H&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if($.syncErrorThrowable)H?($.syncErrorValue=V,$.syncErrorThrown=!0):(0,te.z)(V),this.unsubscribe();else{if(this.unsubscribe(),H)throw V;(0,te.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const $=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,$){try{V.call(this._context,$)}catch(H){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw H;(0,te.z)(H)}}__tryOrSetError(V,$,H){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,H)}catch(le){return de.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=le,V.syncErrorThrown=!0,!0):((0,te.z)(le),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(Ke,ye,L)=>{L.d(ye,{w:()=>te});var a=L(6688),G=L(7830),N=L(7043);const de=(()=>{function re(ie){return Error.call(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((V,$)=>`${$+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie,this}return re.prototype=Object.create(Error.prototype),re})();class te{constructor(ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=ie)}unsubscribe(){let ie;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:$,_unsubscribe:H,_subscriptions:le}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof te)V.remove(this);else if(null!==V)for(let _e=0;_e<V.length;++_e)V[_e].remove(this);if((0,N.m)(H)){$&&(this._unsubscribe=void 0);try{H.call(this)}catch(_e){ie=_e instanceof de?se(_e.errors):[_e]}}if((0,a.k)(le)){let _e=-1,ge=le.length;for(;++_e<ge;){const be=le[_e];if((0,G.K)(be))try{be.unsubscribe()}catch(ve){ie=ie||[],ve instanceof de?ie=ie.concat(se(ve.errors)):ie.push(ve)}}}if(ie)throw new de(ie)}add(ie){let V=ie;if(!ie)return te.EMPTY;switch(typeof ie){case"function":V=new te(ie);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof te)){const le=V;V=new te,V._subscriptions=[le]}break;default:throw new Error("unrecognized teardown "+ie+" added to Subscription.")}let{_parentOrParents:$}=V;if(null===$)V._parentOrParents=this;else if($ instanceof te){if($===this)return V;V._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return V;$.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[V]:H.push(V),V}remove(ie){const V=this._subscriptions;if(V){const $=V.indexOf(ie);-1!==$&&V.splice($,1)}}}var re;function se(re){return re.reduce((ie,V)=>ie.concat(V instanceof de?V.errors:V),[])}te.EMPTY=((re=new te).closed=!0,re)},2830:(Ke,ye,L)=>{L.d(ye,{v:()=>G});let a=!1;const G={Promise:void 0,set useDeprecatedSynchronousErrorHandling(N){if(N){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=N},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(Ke,ye,L)=>{L.d(ye,{Ds:()=>te,IY:()=>ce,ft:()=>re});var a=L(3489),G=L(2916),N=L(9249);class ce extends a.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class te extends a.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function re(ie,V){if(V.closed)return;if(ie instanceof G.y)return ie.subscribe(V);let $;try{$=(0,N.s)(ie)(V)}catch(H){V.error(H)}return $}},1762:(Ke,ye,L)=>{L.d(ye,{N:()=>te,c:()=>de});var a=L(8929),G=L(2916),N=L(2654),ce=L(4327);class de extends G.y{constructor($,H){super(),this.source=$,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new N.w,$.add(this.source.subscribe(new se(this.getSubject(),this))),$.closed&&(this._connection=null,$=N.w.EMPTY)),$}refCount(){return(0,ce.x)()(this)}}const te=(()=>{const V=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class se extends a.Yc{constructor($,H){super($),this.connectable=H}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const H=$._connection;$._refCount=0,$._subject=null,$._connection=null,H&&H.unsubscribe()}}}},8896:(Ke,ye,L)=>{L.d(ye,{E:()=>G,c:()=>N});var a=L(2916);const G=new a.y(de=>de.complete());function N(de){return de?function ce(de){return new a.y(te=>de.schedule(()=>te.complete()))}(de):G}},5254:(Ke,ye,L)=>{L.d(ye,{D:()=>ge});var a=L(2916),G=L(9249),N=L(2654),ce=L(3821),se=L(6454),re=L(5430),$=L(8955),H=L(8515);function ge(be,ve){return ve?function _e(be,ve){if(null!=be){if(function V(be){return be&&"function"==typeof be[ce.L]}(be))return function de(be,ve){return new a.y(Se=>{const Be=new N.w;return Be.add(ve.schedule(()=>{const st=be[ce.L]();Be.add(st.subscribe({next(Ht){Be.add(ve.schedule(()=>Se.next(Ht)))},error(Ht){Be.add(ve.schedule(()=>Se.error(Ht)))},complete(){Be.add(ve.schedule(()=>Se.complete()))}}))})),Be})}(be,ve);if((0,$.t)(be))return function te(be,ve){return new a.y(Se=>{const Be=new N.w;return Be.add(ve.schedule(()=>be.then(st=>{Be.add(ve.schedule(()=>{Se.next(st),Be.add(ve.schedule(()=>Se.complete()))}))},st=>{Be.add(ve.schedule(()=>Se.error(st)))}))),Be})}(be,ve);if((0,H.z)(be))return(0,se.r)(be,ve);if(function le(be){return be&&"function"==typeof be[re.hZ]}(be)||"string"==typeof be)return function ie(be,ve){if(!be)throw new Error("Iterable cannot be null");return new a.y(Se=>{const Be=new N.w;let st;return Be.add(()=>{st&&"function"==typeof st.return&&st.return()}),Be.add(ve.schedule(()=>{st=be[re.hZ](),Be.add(ve.schedule(function(){if(Se.closed)return;let Ht,un;try{const Nt=st.next();Ht=Nt.value,un=Nt.done}catch(Nt){return void Se.error(Nt)}un?Se.complete():(Se.next(Ht),this.schedule())}))})),Be})}(be,ve)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,ve):be instanceof a.y?be:new a.y((0,G.s)(be))}},3009:(Ke,ye,L)=>{L.d(ye,{n:()=>ce});var a=L(2916),G=L(3650),N=L(6454);function ce(de,te){return te?(0,N.r)(de,te):new a.y((0,G.V)(de))}},6787:(Ke,ye,L)=>{L.d(ye,{T:()=>de});var a=L(2916),G=L(2866),N=L(9146),ce=L(3009);function de(...te){let se=Number.POSITIVE_INFINITY,re=null,ie=te[te.length-1];return(0,G.K)(ie)?(re=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(se=te.pop())):"number"==typeof ie&&(se=te.pop()),null===re&&1===te.length&&te[0]instanceof a.y?te[0]:(0,N.J)(se)((0,ce.n)(te,re))}},1086:(Ke,ye,L)=>{L.d(ye,{of:()=>ce});var a=L(2866),G=L(3009),N=L(6454);function ce(...de){let te=de[de.length-1];return(0,a.K)(te)?(de.pop(),(0,N.r)(de,te)):(0,G.n)(de)}},1737:(Ke,ye,L)=>{L.d(ye,{_:()=>G});var a=L(2916);function G(ce,de){return new a.y(de?te=>de.schedule(N,0,{error:ce,subscriber:te}):te=>te.error(ce))}function N({error:ce,subscriber:de}){de.error(ce)}},4850:(Ke,ye,L)=>{L.d(ye,{U:()=>G});var a=L(3489);function G(de,te){return function(re){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new N(de,te))}}class N{constructor(te,se){this.project=te,this.thisArg=se}call(te,se){return se.subscribe(new ce(te,this.project,this.thisArg))}}class ce extends a.L{constructor(te,se,re){super(te),this.project=se,this.count=0,this.thisArg=re||this}_next(te){let se;try{se=this.project.call(this.thisArg,te,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(se)}}},9146:(Ke,ye,L)=>{L.d(ye,{J:()=>N});var a=L(1709),G=L(5379);function N(ce=Number.POSITIVE_INFINITY){return(0,a.zg)(G.y,ce)}},1709:(Ke,ye,L)=>{L.d(ye,{zg:()=>ce});var a=L(4850),G=L(5254),N=L(1177);function ce(re,ie,V=Number.POSITIVE_INFINITY){return"function"==typeof ie?$=>$.pipe(ce((H,le)=>(0,G.D)(re(H,le)).pipe((0,a.U)((_e,ge)=>ie(H,_e,le,ge))),V)):("number"==typeof ie&&(V=ie),$=>$.lift(new de(re,V)))}class de{constructor(ie,V=Number.POSITIVE_INFINITY){this.project=ie,this.concurrent=V}call(ie,V){return V.subscribe(new te(ie,this.project,this.concurrent))}}class te extends N.Ds{constructor(ie,V,$=Number.POSITIVE_INFINITY){super(ie),this.project=V,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ie){this.active<this.concurrent?this._tryNext(ie):this.buffer.push(ie)}_tryNext(ie){let V;const $=this.index++;try{V=this.project(ie,$)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(V)}_innerSub(ie){const V=new N.IY(this),$=this.destination;$.add(V);const H=(0,N.ft)(ie,V);H!==V&&$.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ie){this.destination.next(ie)}notifyComplete(){const ie=this.buffer;this.active--,ie.length>0?this._next(ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Ke,ye,L)=>{L.d(ye,{ht:()=>ie,QV:()=>se});var a=L(3489),G=L(8896),N=L(1086),ce=L(1737);class te{constructor(H,le,_e){this.kind=H,this.value=le,this.error=_e,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,le,_e){switch(this.kind){case"N":return H&&H(this.value);case"E":return le&&le(this.error);case"C":return _e&&_e()}}accept(H,le,_e){return H&&"function"==typeof H.next?this.observe(H):this.do(H,le,_e)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,ce._)(this.error);case"C":return(0,G.c)()}throw new Error("unexpected notification kind value")}static createNext(H){return void 0!==H?new te("N",H):te.undefinedValueNotification}static createError(H){return new te("E",void 0,H)}static createComplete(){return te.completeNotification}}function se($,H=0){return function(_e){return _e.lift(new re($,H))}}te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0);class re{constructor(H,le=0){this.scheduler=H,this.delay=le}call(H,le){return le.subscribe(new ie(H,this.scheduler,this.delay))}}class ie extends a.L{constructor(H,le,_e=0){super(H),this.scheduler=le,this.delay=_e}static dispatch(H){const{notification:le,destination:_e}=H;le.observe(_e),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new V(H,this.destination)))}_next(H){this.scheduleMessage(te.createNext(H))}_error(H){this.scheduleMessage(te.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(te.createComplete()),this.unsubscribe()}}class V{constructor(H,le){this.notification=H,this.destination=le}}},4327:(Ke,ye,L)=>{L.d(ye,{x:()=>G});var a=L(3489);function G(){return function(te){return te.lift(new N(te))}}class N{constructor(te){this.connectable=te}call(te,se){const{connectable:re}=this;re._refCount++;const ie=new ce(te,re),V=se.subscribe(ie);return ie.closed||(ie.connection=re.connect()),V}}class ce extends a.L{constructor(te,se){super(te),this.connectable=se}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const se=te._refCount;if(se<=0)return void(this.connection=null);if(te._refCount=se-1,se>1)return void(this.connection=null);const{connection:re}=this,ie=te._connection;this.connection=null,ie&&(!re||ie===re)&&ie.unsubscribe()}}},2474:(Ke,ye,L)=>{L.d(ye,{B:()=>se});var a=L(1762);class N{constructor(ie,V){this.subjectFactory=ie,this.selector=V}call(ie,V){const{selector:$}=this,H=this.subjectFactory(),le=$(H).subscribe(ie);return le.add(V.subscribe(H)),le}}var ce=L(4327),de=L(8929);function te(){return new de.xQ}function se(){return re=>(0,ce.x)()(function G(re,ie){return function($){let H;if(H="function"==typeof re?re:function(){return re},"function"==typeof ie)return $.lift(new N(H,ie));const le=Object.create($,a.N);return le.source=$,le.subjectFactory=H,le}}(te)(re))}},3334:(Ke,ye,L)=>{L.d(ye,{R:()=>de});var a=L(2916),G=L(8139),N=L(4241);class ce extends a.y{constructor(re,ie=0,V=G.e){super(),this.source=re,this.delayTime=ie,this.scheduler=V,(!(0,N.k)(ie)||ie<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=G.e)}static create(re,ie=0,V=G.e){return new ce(re,ie,V)}static dispatch(re){const{source:ie,subscriber:V}=re;return this.add(ie.subscribe(V))}_subscribe(re){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function de(se,re=0){return function(V){return V.lift(new te(se,re))}}class te{constructor(re,ie){this.scheduler=re,this.delay=ie}call(re,ie){return new ce(ie,this.delay,this.scheduler).subscribe(re)}}},2868:(Ke,ye,L)=>{L.d(ye,{b:()=>ce});var a=L(3489);function G(){}var N=L(7043);function ce(se,re,ie){return function($){return $.lift(new de(se,re,ie))}}class de{constructor(re,ie,V){this.nextOrObserver=re,this.error=ie,this.complete=V}call(re,ie){return ie.subscribe(new te(re,this.nextOrObserver,this.error,this.complete))}}class te extends a.L{constructor(re,ie,V,$){super(re),this._tapNext=G,this._tapError=G,this._tapComplete=G,this._tapError=V||G,this._tapComplete=$||G,(0,N.m)(ie)?(this._context=this,this._tapNext=ie):ie&&(this._context=ie,this._tapNext=ie.next||G,this._tapError=ie.error||G,this._tapComplete=ie.complete||G)}_next(re){try{this._tapNext.call(this._context,re)}catch(ie){return void this.destination.error(ie)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(ie){return void this.destination.error(ie)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},6454:(Ke,ye,L)=>{L.d(ye,{r:()=>N});var a=L(2916),G=L(2654);function N(ce,de){return new a.y(te=>{const se=new G.w;let re=0;return se.add(de.schedule(function(){re!==ce.length?(te.next(ce[re++]),te.closed||se.add(this.schedule())):te.complete()})),se})}},6686:(Ke,ye,L)=>{L.d(ye,{o:()=>N});var a=L(2654);class G extends a.w{constructor(de,te){super()}schedule(de,te=0){return this}}class N extends G{constructor(de,te){super(de,te),this.scheduler=de,this.work=te,this.pending=!1}schedule(de,te=0){if(this.closed)return this;this.state=de;const se=this.id,re=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(re,se,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(re,this.id,te),this}requestAsyncId(de,te,se=0){return setInterval(de.flush.bind(de,this),se)}recycleAsyncId(de,te,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return te;clearInterval(te)}execute(de,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(de,te);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,te){let re,se=!1;try{this.work(de)}catch(ie){se=!0,re=!!ie&&ie||new Error(ie)}if(se)return this.unsubscribe(),re}_unsubscribe(){const de=this.id,te=this.scheduler,se=te.actions,re=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&se.splice(re,1),null!=de&&(this.id=this.recycleAsyncId(te,de,null)),this.delay=null}}},2268:(Ke,ye,L)=>{L.d(ye,{v:()=>G});let a=(()=>{class N{constructor(de,te=N.now){this.SchedulerAction=de,this.now=te}schedule(de,te=0,se){return new this.SchedulerAction(this,de).schedule(se,te)}}return N.now=()=>Date.now(),N})();class G extends a{constructor(ce,de=a.now){super(ce,()=>G.delegate&&G.delegate!==this?G.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,de=0,te){return G.delegate&&G.delegate!==this?G.delegate.schedule(ce,de,te):super.schedule(ce,de,te)}flush(ce){const{actions:de}=this;if(this.active)return void de.push(ce);let te;this.active=!0;do{if(te=ce.execute(ce.state,ce.delay))break}while(ce=de.shift());if(this.active=!1,te){for(;ce=de.shift();)ce.unsubscribe();throw te}}}},8139:(Ke,ye,L)=>{L.d(ye,{e:()=>H,E:()=>$});let a=1;const G=Promise.resolve(),N={};function ce(le){return le in N&&(delete N[le],!0)}const de={setImmediate(le){const _e=a++;return N[_e]=!0,G.then(()=>ce(_e)&&le()),_e},clearImmediate(le){ce(le)}};var se=L(6686),ie=L(2268);const $=new class V extends ie.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:ge}=this;let be,ve=-1,Se=ge.length;_e=_e||ge.shift();do{if(be=_e.execute(_e.state,_e.delay))break}while(++ve<Se&&(_e=ge.shift()));if(this.active=!1,be){for(;++ve<Se&&(_e=ge.shift());)_e.unsubscribe();throw be}}}(class re extends se.o{constructor(_e,ge){super(_e,ge),this.scheduler=_e,this.work=ge}requestAsyncId(_e,ge,be=0){return null!==be&&be>0?super.requestAsyncId(_e,ge,be):(_e.actions.push(this),_e.scheduled||(_e.scheduled=de.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,ge,be=0){if(null!==be&&be>0||null===be&&this.delay>0)return super.recycleAsyncId(_e,ge,be);0===_e.actions.length&&(de.clearImmediate(ge),_e.scheduled=void 0)}}),H=$},353:(Ke,ye,L)=>{L.d(ye,{P:()=>ce,z:()=>N});var a=L(6686);const N=new(L(2268).v)(a.o),ce=N},341:(Ke,ye,L)=>{L.d(ye,{c:()=>te,N:()=>de});var a=L(6686),N=L(2268);const de=new class ce extends N.v{}(class G extends a.o{constructor(re,ie){super(re,ie),this.scheduler=re,this.work=ie}schedule(re,ie=0){return ie>0?super.schedule(re,ie):(this.delay=ie,this.state=re,this.scheduler.flush(this),this)}execute(re,ie){return ie>0||this.closed?super.execute(re,ie):this._execute(re,ie)}requestAsyncId(re,ie,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(re,ie,V):re.flush(this)}}),te=de},5430:(Ke,ye,L)=>{L.d(ye,{hZ:()=>G});const G=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Ke,ye,L)=>{L.d(ye,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ke,ye,L)=>{L.d(ye,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(Ke,ye,L)=>{L.d(ye,{N:()=>G});const G=(()=>{function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return N.prototype=Object.create(Error.prototype),N})()},2782:(Ke,ye,L)=>{function a(G){setTimeout(()=>{throw G},0)}L.d(ye,{z:()=>a})},5379:(Ke,ye,L)=>{function a(G){return G}L.d(ye,{y:()=>a})},6688:(Ke,ye,L)=>{L.d(ye,{k:()=>a});const a=Array.isArray||(G=>G&&"number"==typeof G.length)},8515:(Ke,ye,L)=>{L.d(ye,{z:()=>a});const a=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7043:(Ke,ye,L)=>{function a(G){return"function"==typeof G}L.d(ye,{m:()=>a})},4241:(Ke,ye,L)=>{L.d(ye,{k:()=>G});var a=L(6688);function G(N){return!(0,a.k)(N)&&N-parseFloat(N)+1>=0}},7830:(Ke,ye,L)=>{function a(G){return null!==G&&"object"==typeof G}L.d(ye,{K:()=>a})},8955:(Ke,ye,L)=>{function a(G){return!!G&&"function"!=typeof G.subscribe&&"function"==typeof G.then}L.d(ye,{t:()=>a})},2866:(Ke,ye,L)=>{function a(G){return G&&"function"==typeof G.schedule}L.d(ye,{K:()=>a})},9249:(Ke,ye,L)=>{L.d(ye,{s:()=>$});var a=L(3650),G=L(2782),ce=L(5430),te=L(3821),re=L(8515),ie=L(8955),V=L(7830);const $=H=>{if(H&&"function"==typeof H[te.L])return(H=>le=>{const _e=H[te.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(le)})(H);if((0,re.z)(H))return(0,a.V)(H);if((0,ie.t)(H))return(H=>le=>(H.then(_e=>{le.closed||(le.next(_e),le.complete())},_e=>le.error(_e)).then(null,G.z),le))(H);if(H&&"function"==typeof H[ce.hZ])return(H=>le=>{const _e=H[ce.hZ]();for(;;){let ge;try{ge=_e.next()}catch(be){return le.error(be),le}if(ge.done){le.complete();break}if(le.next(ge.value),le.closed)break}return"function"==typeof _e.return&&le.add(()=>{_e.return&&_e.return()}),le})(H);{const _e=`You provided ${(0,V.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},3650:(Ke,ye,L)=>{L.d(ye,{V:()=>a});const a=G=>N=>{for(let ce=0,de=G.length;ce<de&&!N.closed;ce++)N.next(G[ce]);N.complete()}},5e3:(Ke,ye,L)=>{L.d(ye,{$8M:()=>Dl,$Z:()=>Mg,AFp:()=>PD,ALo:()=>JS,AaK:()=>re,BQk:()=>no,CHM:()=>Aa,CRH:()=>gD,CZH:()=>vb,CqO:()=>Cv,EJc:()=>DB,EiD:()=>XC,EpF:()=>Th,F$t:()=>Sv,F4k:()=>Rg,FYo:()=>HS,FiY:()=>as,G48:()=>ld,Gf:()=>pD,GfV:()=>jS,GkF:()=>Bl,Gpc:()=>$,Gre:()=>Vv,Hsn:()=>wp,Ikx:()=>$v,JOm:()=>ja,JVY:()=>ng,L6k:()=>$f,LAX:()=>My,LFG:()=>Re,LSH:()=>R,Lbi:()=>eR,MAs:()=>IE,MGl:()=>Pg,NdJ:()=>Ih,O4$:()=>gu,OlP:()=>An,Oqu:()=>Vg,PXZ:()=>Eb,Q6J:()=>Fl,QGY:()=>wv,Qsj:()=>pk,R0b:()=>Fs,RDi:()=>Eo,Rgc:()=>n_,SBq:()=>Za,Sil:()=>IB,Suo:()=>mD,TTD:()=>hl,TgZ:()=>xg,Udp:()=>Av,VLi:()=>aR,WFA:()=>Mh,X6Q:()=>$D,XFs:()=>ft,Xpm:()=>je,Y36:()=>Dh,YKP:()=>Sk,YNc:()=>TE,Yjl:()=>ze,Yz7:()=>Sn,ZZ4:()=>Nb,_Bn:()=>ck,_UZ:()=>kg,_Vd:()=>oo,_c5:()=>bR,_uU:()=>eS,aQg:()=>Fb,c2e:()=>tR,cJS:()=>Qi,cg1:()=>Oh,d8E:()=>zg,dDg:()=>oR,deG:()=>pc,dqk:()=>ht,dwT:()=>mS,eBb:()=>qf,eFA:()=>HD,ekj:()=>xv,f3M:()=>It,g9A:()=>od,gxx:()=>Cg,h0i:()=>nd,hGG:()=>iT,hij:()=>Ug,iGM:()=>Bk,ifc:()=>qt,ip1:()=>yb,kL8:()=>gS,kYT:()=>J,kcU:()=>Pf,lG2:()=>Ee,lcZ:()=>eD,mCW:()=>ca,n5z:()=>Wd,n_E:()=>t_,oAB:()=>oe,oxw:()=>HE,pB0:()=>ig,q3G:()=>_,q4F:()=>GS,qLn:()=>Fy,qOj:()=>fa,qZA:()=>Ll,qzn:()=>ku,s9C:()=>Ah,sBO:()=>WD,sIi:()=>mh,s_b:()=>s_,soG:()=>m_,tBr:()=>os,tb:()=>Ul,tp0:()=>Hi,uIk:()=>lv,vHH:()=>ge,vpe:()=>$r,wAp:()=>Ct,xi3:()=>tD,xp6:()=>TA,yhl:()=>zf,ynx:()=>bp,z2F:()=>Tb,z3N:()=>la,zSh:()=>tv,zs3:()=>qa});var a=L(8929),G=L(2654),N=L(2916),ce=L(6787),de=L(2474);function te(o){for(let l in o)if(o[l]===te)return l;throw Error("Could not find renamed property on target object.")}function se(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function re(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(re).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ie(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const V=te({__forward_ref__:te});function $(o){return o.__forward_ref__=$,o.toString=function(){return re(this())},o}function H(o){return le(o)?o():o}function le(o){return"function"==typeof o&&o.hasOwnProperty(V)&&o.__forward_ref__===$}class ge extends Error{constructor(l,u){super(function be(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,u)),this.code=l}}function ve(o){return"string"==typeof o?o:null==o?"":String(o)}function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ve(o)}function un(o,l){const u=l?` in ${l}`:"";throw new ge(-201,`No provider for ${Se(o)} found${u}`)}function yn(o,l){null==o&&function Gt(o,l,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,o,null,"!=")}function Sn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Qi(o){return{providers:o.providers||[],imports:o.imports||[]}}function On(o){return Ln(o,wr)||Ln(o,Tn)}function Ln(o,l){return o.hasOwnProperty(l)?o[l]:null}function Fr(o){return o&&(o.hasOwnProperty(Pe)||o.hasOwnProperty(si))?o[Pe]:null}const wr=te({\u0275prov:te}),Pe=te({\u0275inj:te}),Tn=te({ngInjectableDef:te}),si=te({ngInjectorDef:te});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Bn;function dn(o){const l=Bn;return Bn=o,l}function Jn(o,l,u){const h=On(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&ft.Optional?null:void 0!==l?l:void un(re(o),"Injector")}function Xn(o){return{toString:o}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),qt=(()=>{return(o=qt||(qt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",qt;var o})();const lt="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,Cs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ht=lt||"undefined"!=typeof global&&global||ct||Cs,Cn={},et=[],cr=te({\u0275cmp:te}),W=te({\u0275dir:te}),q=te({\u0275pipe:te}),z=te({\u0275mod:te}),Y=te({\u0275fac:te}),K=te({__NG_ELEMENT_ID__:te});let Ae=0;function je(o){return Xn(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||et,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||qt.Emulated,id:"c",styles:o.styles||et,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,g=o.features,v=o.pipes;return h.id+=Ae++,h.inputs=Q(o.inputs,u),h.outputs=Q(o.outputs),g&&g.forEach(E=>E(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(on):null,h.pipeDefs=v?()=>("function"==typeof v?v():v).map(Xt):null,h})}function on(o){return Xe(o)||function bt(o){return o[W]||null}(o)}function Xt(o){return function Yt(o){return o[q]||null}(o)}const Br={};function oe(o){return Xn(()=>{const l={type:o.type,bootstrap:o.bootstrap||et,declarations:o.declarations||et,imports:o.imports||et,exports:o.exports||et,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Br[o.id]=o.type),l})}function J(o,l){return Xn(()=>{const u=Qt(o,!0);u.declarations=l.declarations||et,u.imports=l.imports||et,u.exports=l.exports||et})}function Q(o,l){if(null==o)return Cn;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}const Ee=je;function ze(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Xe(o){return o[cr]||null}function Qt(o,l){const u=o[z]||null;if(!u&&!0===l)throw new Error(`Type ${re(o)} does not have '\u0275mod' property.`);return u}function Li(o){return Array.isArray(o)&&"object"==typeof o[1]}function dr(o){return Array.isArray(o)&&!0===o[1]}function eu(o){return 0!=(8&o.flags)}function Di(o){return 2==(2&o.flags)}function Gs(o){return 1==(1&o.flags)}function Es(o){return null!==o.template}function Ad(o){return 0!=(512&o[2])}function Qo(o,l){return o.hasOwnProperty(Y)?o[Y]:null}class dl{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function hl(){return Jo}function Jo(o){return o.type.prototype.ngOnChanges&&(o.setInput=Co),fl}function fl(){const o=Fd(this),l=null==o?void 0:o.current;if(l){const u=o.previous;if(u===Cn)o.previous=l;else for(let h in l)u[h]=l[h];o.current=null,this.ngOnChanges(l)}}function Co(o,l,u,h){const f=Fd(o)||function Ji(o,l){return o[hr]=l}(o,{previous:Cn,current:null}),g=f.current||(f.current={}),v=f.previous,E=this.declaredInputs[u],S=v[E];g[E]=new dl(S&&S.currentValue,l,v===Cn),o[h]=l}hl.ngInherit=!0;const hr="__ngSimpleChanges__";function Fd(o){return o[hr]||null}let pl;function Eo(o){pl=o}function gn(o){return!!o.listen}const Bd={createRenderer:(o,l)=>function zs(){return void 0!==pl?pl:"undefined"!=typeof document?document:void 0}()};function Jt(o){for(;Array.isArray(o);)o=o[0];return o}function Ia(o,l){return Jt(l[o])}function Xi(o,l){return Jt(l[o.index])}function ai(o,l){return o.data[l]}function Dr(o,l){return o[l]}function er(o,l){const u=l[o];return Li(u)?u:u[0]}function Do(o){return 4==(4&o[2])}function To(o){return 128==(128&o[2])}function Tr(o,l){return null==l?null:o[l]}function li(o){o[18]=0}function ta(o,l){o[5]+=l;let u=o,h=o[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const wt={lFrame:pu(null),bindingsEnabled:!0};function Ma(){return wt.bindingsEnabled}function De(){return wt.lFrame.lView}function zt(){return wt.lFrame.tView}function Aa(o){return wt.lFrame.contextLView=o,o[8]}function Pn(){let o=lu();for(;null!==o&&64===o.type;)o=o.parent;return o}function lu(){return wt.lFrame.currentTNode}function Ir(o,l){const u=wt.lFrame;u.currentTNode=o,u.isParent=l}function ml(){return wt.lFrame.isParent}function nc(){wt.lFrame.isParent=!1}function Ti(){const o=wt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function qs(){return wt.lFrame.bindingIndex++}function Mr(o){const l=wt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function sc(o,l){const u=wt.lFrame;u.bindingIndex=u.bindingRootIndex=o,ka(l)}function ka(o){wt.lFrame.currentDirectiveIndex=o}function oc(o){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function ac(){return wt.lFrame.currentQueryIndex}function hu(o){wt.lFrame.currentQueryIndex=o}function lc(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function fu(o,l,u){if(u&ft.SkipSelf){let f=l,g=o;for(;!(f=f.parent,null!==f||u&ft.Host||(f=lc(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,o=g}const h=wt.lFrame=Hd();return h.currentTNode=l,h.lView=o,!0}function ra(o){const l=Hd(),u=o[1];wt.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Hd(){const o=wt.lFrame,l=null===o?null:o.child;return null===l?pu(o):l}function pu(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function kf(){const o=wt.lFrame;return wt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const cc=kf;function tr(){const o=kf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ci(){return wt.lFrame.selectedIndex}function Mo(o){wt.lFrame.selectedIndex=o}function $n(){const o=wt.lFrame;return ai(o.tView,o.selectedIndex)}function gu(){wt.lFrame.currentNamespace="svg"}function Pf(){!function gl(){wt.lFrame.currentNamespace=null}()}function _u(o,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:k}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),S&&(o.viewHooks||(o.viewHooks=[])).push(-u,S),M&&((o.viewHooks||(o.viewHooks=[])).push(u,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,M)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(u,k)}}function _l(o,l,u){Gd(o,l,3,u)}function yl(o,l,u,h){(3&o[2])===u&&Gd(o,l,u,h)}function ti(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function Gd(o,l,u,h){const g=null!=h?h:-1,v=l.length-1;let E=0;for(let S=void 0!==h?65535&o[18]:0;S<v;S++)if("number"==typeof l[S+1]){if(E=l[S],null!=h&&E>=h)break}else l[S]<0&&(o[18]+=65536),(E<g||-1==g)&&(qm(o,u,l,S),o[18]=(4294901760&o[18])+S+2),S++}function qm(o,l,u,h){const f=u[h]<0,g=u[h+1],E=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Ra{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function ko(o,l,u){const h=gn(o);let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],E=u[f++],S=u[f++];h?o.setAttribute(l,E,S,v):l.setAttributeNS(v,E,S)}else{const v=g,E=u[++f];Zn(v)?h&&o.setProperty(l,v,E):h?o.setAttribute(l,v,E):l.setAttribute(v,E),f++}}return f}function Bi(o){return 3===o||4===o||6===o}function Zn(o){return 64===o.charCodeAt(0)}function dc(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Ff(o,u,f,null,-1===u||2===u?l[++h]:null)}}return o}function Ff(o,l,u,h,f){let g=0,v=o.length;if(-1===l)v=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===l){v=-1;break}if(E>l){v=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==f&&(o[g+1]=f));if(h===o[g+1])return void(o[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,l),g=v+1),o.splice(g++,0,u),null!==h&&o.splice(g++,0,h),null!==f&&o.splice(g++,0,f)}function Je(o){return-1!==o}function Ro(o){return 32767&o}function _i(o,l){let u=function Lf(o){return o>>16}(o),h=l;for(;u>0;)h=h[15],u--;return h}let Ds=!0;function Oo(o){const l=Ds;return Ds=o,l}let hc=0;function Po(o,l){const u=No(o,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(o.injectorIndex=l.length,vu(h.data,o),vu(l,null),vu(h.blueprint,null));const f=Oa(o,l),g=o.injectorIndex;if(Je(f)){const v=Ro(f),E=_i(f,l),S=E[1].data;for(let M=0;M<8;M++)l[g+M]=E[v+M]|S[v+M]}return l[g+8]=f,g}function vu(o,l){o.push(0,0,0,0,0,0,0,0,l)}function No(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Oa(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(h=2===v?g.declTNode:1===v?f[6]:null,null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function sa(o,l,u){!function Ts(o,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(K)&&(h=u[K]),null==h&&(h=u[K]=hc++);const f=255&h;l.data[o+(f>>5)]|=1<<f}(o,l,u)}function fc(o,l,u){if(u&ft.Optional)return o;un(l,"NodeInjector")}function vl(o,l,u,h){if(u&ft.Optional&&void 0===h&&(h=null),0==(u&(ft.Self|ft.Host))){const f=o[9],g=dn(void 0);try{return f?f.get(l,h,u&ft.Optional):Jn(l,h,u&ft.Optional)}finally{dn(g)}}return fc(h,l,u)}function Hn(o,l,u,h=ft.Default,f){if(null!==o){const g=function El(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(K)?o[K]:void 0;return"number"==typeof l?l>=0?255&l:Pa:l}(u);if("function"==typeof g){if(!fu(l,o,h))return h&ft.Host?fc(f,u,h):vl(l,u,h,f);try{const v=g(h);if(null!=v||h&ft.Optional)return v;un(u)}finally{cc()}}else if("number"==typeof g){let v=null,E=No(o,l),S=-1,M=h&ft.Host?l[16][6]:null;for((-1===E||h&ft.SkipSelf)&&(S=-1===E?Oa(o,l):l[E+8],-1!==S&&bu(h,!1)?(v=l[1],E=Ro(S),l=_i(S,l)):E=-1);-1!==E;){const k=l[1];if(Gn(g,E,k.data)){const U=wl(E,l,u,v,h,M);if(U!==bl)return U}S=l[E+8],-1!==S&&bu(h,l[1].data[E+8]===M)&&Gn(g,E,l)?(v=k,E=Ro(S),l=_i(S,l)):E=-1}}}return vl(l,u,h,f)}const bl={};function Pa(){return new Vi(Pn(),De())}function wl(o,l,u,h,f,g){const v=l[1],E=v.data[o+8],k=Cl(E,v,u,null==h?Di(E)&&Ds:h!=v&&0!=(3&E.type),f&ft.Host&&g===E);return null!==k?Ar(l,v,k,E):bl}function Cl(o,l,u,h,f){const g=o.providerIndexes,v=l.data,E=1048575&g,S=o.directiveStart,k=g>>20,Z=f?E+k:o.directiveEnd;for(let ae=h?E:E+k;ae<Z;ae++){const we=v[ae];if(ae<S&&u===we||ae>=S&&we.type===u)return ae}if(f){const ae=v[S];if(ae&&Es(ae)&&ae.type===u)return S}return null}function Ar(o,l,u,h){let f=o[u];const g=l.data;if(function zd(o){return o instanceof Ra}(f)){const v=f;v.resolving&&function Be(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new ge(-200,`Circular dependency in DI detected for ${o}${u}`)}(Se(g[u]));const E=Oo(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?dn(v.injectImpl):null;fu(o,h,ft.Default);try{f=o[u]=v.factory(void 0,g,o,h),l.firstCreatePass&&u>=h.directiveStart&&function jd(o,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const v=Jo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],l)}finally{null!==S&&dn(S),Oo(E),v.resolving=!1,cc()}}return f}function Gn(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function bu(o,l){return!(o&ft.Self||o&ft.Host&&l)}class Vi{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Hn(this._tNode,this._lView,l,h,u)}}function Wd(o){return Xn(()=>{const l=o.prototype.constructor,u=l[Y]||Sl(l),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const g=f[Y]||Sl(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Sl(o){return le(o)?()=>{const l=Sl(H(o));return l&&l()}:Qo(o)}function Dl(o){return function qd(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(Bi(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Pn(),o)}const oa="__parameters__";function Is(o,l,u){return Xn(()=>{const h=function Yd(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const v=new f(...g);return E.annotation=v,E;function E(S,M,k){const U=S.hasOwnProperty(oa)?S[oa]:Object.defineProperty(S,oa,{value:[]})[oa];for(;U.length<=k;)U.push(null);return(U[k]=U[k]||[]).push(v),S}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class An{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pc=new An("AnalyzeForEntryComponents");function jt(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(l===o&&(l=o.slice(0,u)),jt(h,l)):l!==o&&l.push(h)}return l}function nr(o,l){o.forEach(u=>Array.isArray(u)?nr(u,l):l(u))}function Kd(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Il(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function kr(o,l){const u=[];for(let h=0;h<o;h++)u.push(l);return u}function Ur(o,l,u){let h=Ms(o,l);return h>=0?o[1|h]=u:(h=~h,function Rr(o,l,u,h){let f=o.length;if(f==l)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=h}}(o,h,l,u)),h}function Qd(o,l){const u=Ms(o,l);if(u>=0)return o[1|u]}function Ms(o,l){return function Du(o,l,u){let h=0,f=o.length>>u;for(;f!==h;){const g=h+(f-h>>1),v=o[g<<u];if(l===v)return g<<u;v>l?f=g:h=g+1}return~(f<<u)}(o,l,1)}const xs={},La="__NG_DI_FLAG__",xl="ngTempTokenPath",T=/\n/gm,O="__source",j=te({provide:String,useValue:te});let ne;function he(o){const l=ne;return ne=o,l}function Te(o,l=ft.Default){if(void 0===ne)throw new ge(203,"");return null===ne?Jn(o,void 0,l):ne.get(o,l&ft.Optional?null:void 0,l)}function Re(o,l=ft.Default){return(function zn(){return Bn}()||Te)(H(o),l)}const It=Re;function Mt(o){const l=[];for(let u=0;u<o.length;u++){const h=H(o[u]);if(Array.isArray(h)){if(0===h.length)throw new ge(900,"");let f,g=ft.Default;for(let v=0;v<h.length;v++){const E=h[v],S=di(E);"number"==typeof S?-1===S?f=E.token:g|=S:f=E}l.push(Re(f,g))}else l.push(Re(h))}return l}function ut(o,l){return o[La]=l,o.prototype[La]=l,o}function di(o){return o[La]}const os=ut(Is("Inject",o=>({token:o})),-1),as=ut(Is("Optional"),8),Hi=ut(Is("SkipSelf"),4);let eh;function Va(o){var l;return(null===(l=function vc(){if(void 0===eh&&(eh=null,ht.trustedTypes))try{eh=ht.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return eh}())||void 0===l?void 0:l.createHTML(o))||o}class Js{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gf extends Js{getTypeName(){return"HTML"}}class Ty extends Js{getTypeName(){return"Style"}}class tg extends Js{getTypeName(){return"Script"}}class Iy extends Js{getTypeName(){return"URL"}}class nh extends Js{getTypeName(){return"ResourceURL"}}function la(o){return o instanceof Js?o.changingThisBreaksApplicationSecurity:o}function ku(o,l){const u=zf(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function zf(o){return o instanceof Js&&o.getTypeName()||null}function ng(o){return new Gf(o)}function $f(o){return new Ty(o)}function qf(o){return new tg(o)}function My(o){return new Iy(o)}function ig(o){return new nh(o)}class Wf{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Va(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class JC{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Va(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Va(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ru=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ca(o){return(o=String(o)).match(Ru)||o.match(wc)?o:"unsafe:"+o}function ks(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function Cc(...o){const l={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const Pu=ks("area,br,col,hr,img,wbr"),Zf=ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nu=ks("rp,rt"),rh=Cc(Pu,Cc(Zf,ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cc(Nu,ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cc(Nu,Zf)),Ec=ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sh=ks("srcset"),Sc=Cc(Ec,sh,ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ky=ks("script,style,template");class ag{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!rh.hasOwnProperty(u))return this.sanitizedSomething=!0,!ky.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),v=g.name,E=v.toLowerCase();if(!Sc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let S=g.value;Ec[E]&&(S=ca(S)),sh[E]&&(o=S,S=(o=String(o)).split(",").map(l=>ca(l.trim())).join(", ")),this.buf.push(" ",v,'="',Qf(S),'"')}var o;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();rh.hasOwnProperty(u)&&!Pu.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Qf(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Dc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ua=/([^\#-~ |!])/g;function Qf(o){return o.replace(/&/g,"&amp;").replace(Dc,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ua,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jf;function XC(o,l){let u=null;try{Jf=Jf||function ih(o){const l=new JC(o);return function Yf(){try{return!!(new window.DOMParser).parseFromString(Va(""),"text/html")}catch(o){return!1}}()?new Wf(l):l}(o);let h=l?String(l):"";u=Jf.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=Jf.getInertBodyElement(h)}while(h!==g);return Va((new ag).sanitizeChildren(b(u)||u))}finally{if(u){const h=b(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function b(o){return"content"in o&&function m(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var _=(()=>((_=_||{})[_.NONE=0]="NONE",_[_.HTML=1]="HTML",_[_.STYLE=2]="STYLE",_[_.SCRIPT=3]="SCRIPT",_[_.URL=4]="URL",_[_.RESOURCE_URL=5]="RESOURCE_URL",_))();function R(o){const l=function cs(){const o=De();return o&&o[12]}();return l?l.sanitize(_.URL,o)||"":ku(o,"URL")?la(o):ca(ve(o))}const Xf="__ngContext__";function Ii(o,l){o[Xf]=l}function Ha(o){const l=function Ic(o){return o[Xf]||null}(o);return l?Array.isArray(l)?l:l.lView:null}function Ny(o){return o.ngOriginalError}function JM(o,...l){o.error(...l)}class Fy{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=function t0(o){return o&&o.ngErrorLogger||JM}(l);h(this._console,"ERROR",l),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Ny(l);for(;u&&Ny(u);)u=Ny(u);return u||null}}const iA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ht))();function da(o){return o instanceof Function?o():o}var ja=(()=>((ja=ja||{})[ja.Important=1]="Important",ja[ja.DashCase=2]="DashCase",ja))();function c0(o,l){return undefined(o,l)}function np(o){const l=o[3];return dr(l)?l[3]:l}function d0(o){return cA(o[13])}function h0(o){return cA(o[4])}function cA(o){for(;null!==o&&!dr(o);)o=o[4];return o}function Gr(o,l,u,h,f){if(null!=h){let g,v=!1;dr(h)?g=h:Li(h)&&(v=!0,h=h[0]);const E=Jt(h);0===o&&null!==u?null==f?rp(l,u,E):Ac(l,u,E,f||null,!0):1===o&&null!==u?Ac(l,u,E,f||null,!0):2===o?function vA(o,l,u){const h=Uy(o,l);h&&function hg(o,l,u,h){gn(o)?o.removeChild(l,u,h):l.removeChild(u)}(o,h,l,u)}(l,E,v):3===o&&l.destroyNode(E),null!=g&&function lL(o,l,u,h,f){const g=u[7];g!==Jt(u)&&Gr(l,o,h,g,f);for(let E=10;E<u.length;E++){const S=u[E];sp(S[1],S,o,l,h,g)}}(l,o,g,u,f)}}function f0(o,l,u){if(gn(o))return o.createElement(l,u);{const h=null!==u?function Mf(o){const l=o.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?o.createElement(l):o.createElementNS(h,l)}}function pA(o,l){const u=o[9],h=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,ta(f,-1)),u.splice(h,1)}function p0(o,l){if(o.length<=10)return;const u=10+l,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&pA(f,h),l>0&&(o[u-1][4]=h[4]);const g=Il(o,10+l);!function uA(o,l){sp(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=g[19];null!==v&&v.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function dg(o,l){if(!(256&l[2])){const u=l[11];gn(u)&&u.destroyNode&&sp(o,l,u,3,null,null),function dA(o){let l=o[13];if(!l)return Lu(o[1],o);for(;l;){let u=null;if(Li(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==o;)Li(l)&&Lu(l[1],l),l=l[3];null===l&&(l=o),Li(l)&&Lu(l[1],l),u=l&&l[4]}l=u}}(l)}}function Lu(o,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function sL(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof Ra)){const g=u[h+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=f[g[v]],S=g[v+1];try{S.call(E)}finally{}}else try{g.call(f)}finally{}}}}(o,l),function rL(o,l){const u=o.cleanup,h=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],E="function"==typeof v?v(l):Jt(l[v]),S=h[f=u[g+2]],M=u[g+3];"boolean"==typeof M?E.removeEventListener(u[g],S,M):M>=0?h[f=M]():h[f=-M].unsubscribe(),g+=2}else{const v=h[f=u[g+1]];u[g].call(v)}if(null!==h){for(let g=f+1;g<h.length;g++)h[g]();l[7]=null}}(o,l),1===l[1].type&&gn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&dr(l[3])){u!==l[3]&&pA(u,l);const h=l[19];null!==h&&h.detachView(o)}}}function m0(o,l,u){return function g0(o,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===qt.None||f===qt.Emulated)return null}return Xi(h,u)}(o,l.parent,u)}function Ac(o,l,u,h,f){gn(o)?o.insertBefore(l,u,h,f):l.insertBefore(u,h,f)}function rp(o,l,u){gn(o)?o.appendChild(l,u):l.appendChild(u)}function Vy(o,l,u,h,f){null!==h?Ac(o,l,u,h,f):rp(o,l,u)}function Uy(o,l){return gn(o)?o.parentNode(l):l.parentNode}function mA(o,l,u){return _0(o,l,u)}let _0=function gA(o,l,u){return 40&o.type?Xi(o,u):null};function Hy(o,l,u,h){const f=m0(o,h,l),g=l[11],E=mA(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let S=0;S<u.length;S++)Vy(g,f,u[S],E,!1);else Vy(g,f,u,E,!1)}function jy(o,l){if(null!==l){const u=l.type;if(3&u)return Xi(l,o);if(4&u)return v0(-1,o[l.index]);if(8&u){const h=l.child;if(null!==h)return jy(o,h);{const f=o[l.index];return dr(f)?v0(-1,f):Jt(f)}}if(32&u)return c0(l,o)()||Jt(o[l.index]);{const h=yA(o,l);return null!==h?Array.isArray(h)?h[0]:jy(np(o[16]),h):jy(o,l.next)}}return null}function yA(o,l){return null!==l?o[16][6].projection[l.projection]:null}function v0(o,l){const u=10+o+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return jy(h,f)}return l[7]}function b0(o,l,u,h,f,g,v){for(;null!=u;){const E=h[u.index],S=u.type;if(v&&0===l&&(E&&Ii(Jt(E),h),u.flags|=4),64!=(64&u.flags))if(8&S)b0(o,l,u.child,h,f,g,!1),Gr(l,o,f,E,g);else if(32&S){const M=c0(u,h);let k;for(;k=M();)Gr(l,o,f,k,g);Gr(l,o,f,E,g)}else 16&S?bA(o,l,h,u,f,g):Gr(l,o,f,E,g);u=v?u.projectionNext:u.next}}function sp(o,l,u,h,f,g){b0(u,h,o.firstChild,l,f,g,!1)}function bA(o,l,u,h,f,g){const v=u[16],S=v[6].projection[h.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)Gr(l,o,f,S[M],g);else b0(o,l,S,v[3],f,g,!0)}function fg(o,l,u){gn(o)?o.setAttribute(l,"style",u):l.style.cssText=u}function w0(o,l,u){gn(o)?""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u):l.className=u}function wA(o,l,u){let h=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||o.charCodeAt(f+g)<=32)return f}u=f+1}}const CA="ng-template";function uL(o,l,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==wA(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function EA(o){return 4===o.type&&o.value!==CA}function dL(o,l,u){return l===(4!==o.type||u?o.value:CA)}function hL(o,l,u){let h=4;const f=o.attrs||[],g=function mL(o){for(let l=0;l<o.length;l++)if(Bi(o[l]))return l;return o.length}(f);let v=!1;for(let E=0;E<l.length;E++){const S=l[E];if("number"!=typeof S){if(!v)if(4&h){if(h=2|1&h,""!==S&&!dL(o,S,u)||""===S&&1===l.length){if(Ga(h))return!1;v=!0}}else{const M=8&h?S:l[++E];if(8&h&&null!==o.attrs){if(!uL(o.attrs,M,u)){if(Ga(h))return!1;v=!0}continue}const U=fL(8&h?"class":S,f,EA(o),u);if(-1===U){if(Ga(h))return!1;v=!0;continue}if(""!==M){let Z;Z=U>g?"":f[U+1].toLowerCase();const ae=8&h?Z:null;if(ae&&-1!==wA(ae,M,0)||2&h&&M!==Z){if(Ga(h))return!1;v=!0}}}}else{if(!v&&!Ga(h)&&!Ga(S))return!1;if(v&&Ga(S))continue;v=!1,h=S|1&h}}return Ga(h)||v}function Ga(o){return 0==(1&o)}function fL(o,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function gL(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,o)}function SA(o,l,u=!1){for(let h=0;h<l.length;h++)if(hL(o,l[h],u))return!0;return!1}function _L(o,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function DA(o,l){return o?":not("+l.trim()+")":l}function yL(o){let l=o[0],u=1,h=2,f="",g=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&h){const E=o[++u];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!Ga(v)&&(l+=DA(g,f),f=""),h=v,g=g||!Ga(h);u++}return""!==f&&(l+=DA(g,f)),l}const Bt={};function TA(o){IA(zt(),De(),ci()+o,!1)}function IA(o,l,u,h){if(!h)if(3==(3&l[2])){const g=o.preOrderCheckHooks;null!==g&&_l(l,g,u)}else{const g=o.preOrderHooks;null!==g&&yl(l,g,0,u)}Mo(u)}function Gy(o,l){return o<<17|l<<2}function ha(o){return o>>17&32767}function E0(o){return 2|o}function xc(o){return(131068&o)>>2}function S0(o,l){return-131069&o|l<<2}function D0(o){return 1|o}function LA(o,l){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],g=u[h+1];if(-1!==g){const v=o.data[g];hu(f),v.contentQueries(2,l[g],g)}}}function op(o,l,u,h,f,g,v,E,S,M){const k=l.blueprint.slice();return k[0]=f,k[2]=140|h,li(k),k[3]=k[15]=o,k[8]=u,k[10]=v||o&&o[10],k[11]=E||o&&o[11],k[12]=S||o&&o[12]||null,k[9]=M||o&&o[9]||null,k[6]=g,k[16]=2==l.type?o[16]:k,k}function Rs(o,l,u,h,f){let g=o.data[l];if(null===g)g=function rr(o,l,u,h,f){const g=lu(),v=ml(),S=o.data[l]=function HA(o,l,u,h,f,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,h,f);return null===o.firstChild&&(o.firstChild=S),null!==g&&(v?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}(o,l,u,h,f),function ic(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const v=function $s(){const o=wt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ir(g,!0),g}function za(o,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),o.blueprint.push(h),o.data.push(null);return f}function Ol(o,l,u){ra(l);try{const h=o.viewQuery;null!==h&&or(1,h,u);const f=o.template;null!==f&&P0(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&LA(o,l),o.staticViewQueries&&or(2,o.viewQuery,u);const g=o.components;null!==g&&function OL(o,l){for(let u=0;u<l.length;u++)j0(o,l[u])}(l,g)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{l[2]&=-5,tr()}}function ch(o,l,u,h){const f=l[2];if(256!=(256&f)){ra(l);try{li(l),function xa(o){return wt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&P0(o,l,u,2,h);const v=3==(3&f);if(v){const M=o.preOrderCheckHooks;null!==M&&_l(l,M,null)}else{const M=o.preOrderHooks;null!==M&&yl(l,M,0,null),ti(l,0)}if(function Zy(o){for(let l=d0(o);null!==l;l=h0(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],g=f[3];0==(1024&f[2])&&ta(g,1),f[2]|=1024}}}(l),function Yy(o){for(let l=d0(o);null!==l;l=h0(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];To(h)&&ch(f,h,f.template,h[8])}}(l),null!==o.contentQueries&&LA(o,l),v){const M=o.contentCheckHooks;null!==M&&_l(l,M)}else{const M=o.contentHooks;null!==M&&yl(l,M,1),ti(l,1)}!function kL(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)Mo(~f);else{const g=f,v=u[++h],E=u[++h];sc(v,g),E(2,l[g])}}}finally{Mo(-1)}}(o,l);const E=o.components;null!==E&&function RL(o,l){for(let u=0;u<l.length;u++)H0(o,l[u])}(l,E);const S=o.viewQuery;if(null!==S&&or(2,S,h),v){const M=o.viewCheckHooks;null!==M&&_l(l,M)}else{const M=o.viewHooks;null!==M&&yl(l,M,2),ti(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,ta(l[3],-1))}finally{tr()}}}function BA(o,l,u,h){const f=l[10],v=Do(l);try{!v&&f.begin&&f.begin(),v&&Ol(o,l,h),ch(o,l,u,h)}finally{!v&&f.end&&f.end()}}function P0(o,l,u,h,f){const g=ci(),v=2&h;try{Mo(-1),v&&l.length>20&&IA(o,l,20,!1),u(h,f)}finally{Mo(g)}}function VA(o,l,u){if(eu(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function pg(o,l,u){!Ma()||(function uh(o,l,u,h){const f=u.directiveStart,g=u.directiveEnd;o.firstCreatePass||Po(u,l),Ii(h,l);const v=u.initialInputs;for(let E=f;E<g;E++){const S=o.data[E],M=Es(S);M&&V0(l,u,S);const k=Ar(l,o,E,u);Ii(k,l),null!==v&&zA(0,E-f,k,S,0,v),M&&(er(u.index,l)[8]=k)}}(o,l,u,Xi(u,l)),128==(128&u.flags)&&function dh(o,l,u){const h=u.directiveStart,f=u.directiveEnd,v=u.index,E=function du(){return wt.lFrame.currentDirectiveIndex}();try{Mo(v);for(let S=h;S<f;S++){const M=o.data[S],k=l[S];ka(S),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Wy(M,k)}}finally{Mo(-1),ka(E)}}(o,l,u))}function Xs(o,l,u=Xi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const v=h[g+1],E=-1===v?u(l,o):o[v];o[f++]=E}}}function Or(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=mg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function mg(o,l,u,h,f,g,v,E,S,M){const k=20+h,U=k+f,Z=function UA(o,l){const u=[];for(let h=0;h<l;h++)u.push(h<o?null:Bt);return u}(k,U),ae="function"==typeof M?M():M;return Z[1]={type:o,blueprint:Z,template:u,queries:null,viewQuery:E,declTNode:l,data:Z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:S,consts:ae,incompleteFirstPass:!1}}function Uu(o,l,u,h){const f=Xy(l);null===u?f.push(h):(f.push(u),o.firstCreatePass&&ev(o).push(h,f.length-1))}function F0(o,l,u){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function eo(o,l,u,h,f,g,v,E){const S=Xi(l,u);let k,M=l.inputs;!E&&null!=M&&(k=M[h])?($A(o,u,k,h,f),Di(l)&&function jA(o,l){const u=er(l,o);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function Lt(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=v?v(f,l.value||"",h):f,gn(g)?g.setProperty(S,h,f):Zn(h)||(S.setProperty?S.setProperty(h,f):S[h]=f))}function L0(o,l,u,h){let f=!1;if(Ma()){const g=function B0(o,l,u){const h=o.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const v=h[g];SA(u,v.selectors,!1)&&(f||(f=[]),sa(Po(u,l),o,v.type),Es(v)?(hh(o,u),f.unshift(v)):f.push(v))}return f}(o,l,u),v=null===h?null:{"":-1};if(null!==g){f=!0,cp(u,o.data.length,g.length);for(let k=0;k<g.length;k++){const U=g[k];U.providersResolver&&U.providersResolver(U)}let E=!1,S=!1,M=za(o,l,g.length,null);for(let k=0;k<g.length;k++){const U=g[k];u.mergedAttrs=dc(u.mergedAttrs,U.hostAttrs),kc(o,u,l,M,U),lp(M,U,v),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const Z=U.type.prototype;!E&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!S&&(Z.ngOnChanges||Z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),S=!0),M++}!function Bo(o,l){const h=l.directiveEnd,f=o.data,g=l.attrs,v=[];let E=null,S=null;for(let M=l.directiveStart;M<h;M++){const k=f[M],U=k.inputs,Z=null===g||EA(l)?null:U0(U,g);v.push(Z),E=F0(U,M,E),S=F0(k.outputs,M,S)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=E,l.outputs=S}(o,u)}v&&function GA(o,l,u){if(l){const h=o.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new ge(-301,!1);h.push(l[f],g)}}}(u,h,v)}return u.mergedAttrs=dc(u.mergedAttrs,u.attrs),f}function gg(o,l,u,h,f,g){const v=g.hostBindings;if(v){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const S=~l.index;(function cn(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(E)!=S&&E.push(S),E.push(h,f,v)}}function Wy(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function hh(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function lp(o,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=o;Es(l)&&(u[""]=o)}}function cp(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function kc(o,l,u,h,f){o.data[h]=f;const g=f.factory||(f.factory=Qo(f.type)),v=new Ra(g,Es(f),null);o.blueprint[h]=v,u[h]=v,gg(o,l,0,h,za(o,u,f.hostVars,Bt),f)}function V0(o,l,u){const h=Xi(l,o),f=Or(u),g=o[10],v=_g(o,op(o,f,null,u.onPush?64:16,h,l,g,g.createRenderer(h,u),null,null));o[l.index]=v}function Os(o,l,u,h,f,g){const v=Xi(o,l);!function up(o,l,u,h,f,g,v){if(null==g)gn(o)?o.removeAttribute(l,f,u):l.removeAttribute(f);else{const E=null==v?ve(g):v(g,h||"",f);gn(o)?o.setAttribute(l,f,E,u):u?l.setAttributeNS(u,f,E):l.setAttribute(f,E)}}(l[11],v,g,o.value,u,h,f)}function zA(o,l,u,h,f,g){const v=g[l];if(null!==v){const E=h.setInput;for(let S=0;S<v.length;){const M=v[S++],k=v[S++],U=v[S++];null!==E?h.setInput(u,U,M,k):u[k]=U}}}function U0(o,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Rc(o,l,u,h){return new Array(o,!0,!1,l,null,0,h,u,null,null)}function H0(o,l){const u=er(l,o);if(To(u)){const h=u[1];80&u[2]?ch(h,u,h.template,u[8]):u[5]>0&&Ky(u)}}function Ky(o){for(let h=d0(o);null!==h;h=h0(h))for(let f=10;f<h.length;f++){const g=h[f];if(1024&g[2]){const v=g[1];ch(v,g,v.template,g[8])}else g[5]>0&&Ky(g)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=er(u[h],o);To(f)&&f[5]>0&&Ky(f)}}function j0(o,l){const u=er(l,o),h=u[1];(function G0(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(h,u),Ol(h,u,u[8])}function _g(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Qy(o){for(;o;){o[2]|=64;const l=np(o);if(Ad(o)&&!l)return o;o=l}return null}function dp(o){!function vg(o){for(let l=0;l<o.components.length;l++){const u=o.components[l],h=Ha(u),f=h[1];BA(f,h,f.template,u)}}(o[8])}function or(o,l,u){hu(0),l(o,u)}const Jy=(()=>Promise.resolve(null))();function Xy(o){return o[7]||(o[7]=[])}function ev(o){return o.cleanup||(o.cleanup=[])}function $0(o,l,u){return(null===o||Es(o))&&(u=function So(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function q0(o,l){const u=o[9],h=u?u.get(Fy,null):null;h&&h.handleError(l)}function $A(o,l,u,h,f){for(let g=0;g<u.length;){const v=u[g++],E=u[g++],S=l[v],M=o.data[v];null!==M.setInput?M.setInput(S,f,h,E):S[E]=f}}function $a(o,l,u){const h=Ia(l,o);!function us(o,l,u){gn(o)?o.setValue(l,u):l.textContent=u}(o[11],h,u)}function wg(o,l,u){let h=u?o.styles:null,f=u?o.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?g=E:1==g?f=ie(f,E):2==g&&(h=ie(h,E+": "+l[++v]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}const Cg=new An("INJECTOR",-1);class W0{get(l,u=xs){if(u===xs){const h=new Error(`NullInjectorError: No provider for ${re(l)}!`);throw h.name="NullInjectorError",h}return u}}const tv=new An("Set Injector scope."),fh={},Y0={};let nv;function Z0(){return void 0===nv&&(nv=new W0),nv}function K0(o,l=null,u=null,h){const f=Q0(o,l,u,h);return f._resolveInjectorDefTypes(),f}function Q0(o,l=null,u=null,h){return new J0(o,u,l||Z0(),h)}class J0{constructor(l,u,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&nr(u,E=>this.processProvider(E,l,u)),nr([l],E=>this.processInjectorType(E,[],g)),this.records.set(Cg,ph(void 0,this));const v=this.records.get(tv);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:re(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=xs,h=ft.Default){this.assertNotDestroyed();const f=he(this),g=dn(void 0);try{if(!(h&ft.SkipSelf)){let E=this.records.get(l);if(void 0===E){const S=function rE(o){return"function"==typeof o||"object"==typeof o&&o instanceof An}(l)&&On(l);E=S&&this.injectableDefInScope(S)?ph(X0(l),fh):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(h&ft.Self?Z0():this.parent).get(l,u=h&ft.Optional&&u===xs?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[xl]=v[xl]||[]).unshift(re(l)),f)throw v;return function ir(o,l,u,h){const f=o[xl];throw l[O]&&f.unshift(l[O]),o.message=function Ks(o,l,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=re(l);if(Array.isArray(l))f=l.map(re).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let E=l[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):re(E)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(T,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[xl]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{dn(g),he(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,f)=>l.push(re(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processInjectorType(l,u,h){if(!(l=H(l)))return!1;let f=Fr(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,E=-1!==h.indexOf(v);if(void 0!==g&&(f=Fr(g)),null==f)return!1;if(null!=f.imports&&!E){let k;h.push(v);try{nr(f.imports,U=>{this.processInjectorType(U,u,h)&&(void 0===k&&(k=[]),k.push(U))})}finally{}if(void 0!==k)for(let U=0;U<k.length;U++){const{ngModule:Z,providers:ae}=k[U];nr(ae,we=>this.processProvider(we,Z,ae||et))}}this.injectorDefTypes.add(v);const S=Qo(v)||(()=>new v);this.records.set(v,ph(S,fh));const M=f.providers;if(null!=M&&!E){const k=l;nr(M,U=>this.processProvider(U,k,M))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,h){let f=hp(l=H(l))?l:H(l&&l.provide);const g=function UL(o,l,u){return tE(o)?ph(void 0,o.useValue):ph(eE(o),fh)}(l);if(hp(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=ph(void 0,fh,!0),v.factory=()=>Mt(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,u){return u.value===fh&&(u.value=Y0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function iE(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=H(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function X0(o){const l=On(o),u=null!==l?l.factory:Qo(o);if(null!==u)return u;if(o instanceof An)throw new ge(204,!1);if(o instanceof Function)return function VL(o){const l=o.length;if(l>0)throw kr(l,"?"),new ge(204,!1);const u=function Dn(o){const l=o&&(o[wr]||o[Tn]);if(l){const u=function Pi(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new ge(204,!1)}function eE(o,l,u){let h;if(hp(o)){const f=H(o);return Qo(f)||X0(f)}if(tE(o))h=()=>H(o.useValue);else if(function HL(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Mt(o.deps||[]));else if(function YA(o){return!(!o||!o.useExisting)}(o))h=()=>Re(H(o.useExisting));else{const f=H(o&&(o.useClass||o.provide));if(!function nE(o){return!!o.deps}(o))return Qo(f)||X0(f);h=()=>new f(...Mt(o.deps))}return h}function ph(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function tE(o){return null!==o&&"object"==typeof o&&j in o}function hp(o){return"function"==typeof o}let qa=(()=>{class o{static create(u,h){var f;if(Array.isArray(u))return K0({name:""},h,u,"");{const g=null!==(f=u.name)&&void 0!==f?f:"";return K0({name:g},u.parent,u.providers,g)}}}return o.THROW_IF_NOT_FOUND=xs,o.NULL=new W0,o.\u0275prov=Sn({token:o,providedIn:"any",factory:()=>Re(Cg)}),o.__NG_ELEMENT_ID__=-1,o})();function zr(o,l){_u(Ha(o)[1],Pn())}function fa(o){let l=function pE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;l;){let f;if(Es(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ge(903,"");f=l.\u0275dir}if(f){if(u){h.push(f);const v=o;v.inputs=zi(o.inputs),v.declaredInputs=zi(o.declaredInputs),v.outputs=zi(o.outputs);const E=f.hostBindings;E&&Zt(o,E);const S=f.viewQuery,M=f.contentQueries;if(S&&zL(o,S),M&&mE(o,M),se(o.inputs,f.inputs),se(o.declaredInputs,f.declaredInputs),se(o.outputs,f.outputs),Es(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(o),E===fa&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Vo(o){let l=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=l+=f.hostVars,f.hostAttrs=dc(f.hostAttrs,u=dc(u,f.hostAttrs))}}(h)}function zi(o){return o===Cn?{}:o===et?[]:o}function zL(o,l){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function mE(o,l){const u=o.contentQueries;o.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function Zt(o,l){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let av=null;function Gu(){if(!av){const o=ht.Symbol;if(o&&o.iterator)av=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(av=h)}}}return av}function mh(o){return!!zu(o)&&(Array.isArray(o)||!(o instanceof Map)&&Gu()in o)}function zu(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pa(o,l,u){return o[l]=u}function St(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function lv(o,l,u,h){const f=De();return St(f,qs(),l)&&(zt(),Os($n(),f,o,l,u,h)),lv}function _h(o,l,u,h){return St(o,qs(),u)?l+ve(u)+h:Bt}function TE(o,l,u,h,f,g,v,E){const S=De(),M=zt(),k=o+20,U=M.firstCreatePass?function XA(o,l,u,h,f,g,v,E,S){const M=l.consts,k=Rs(l,o,4,v||null,Tr(M,E));L0(l,u,k,Tr(M,S)),_u(l,k);const U=k.tViews=mg(2,k,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,k),U.queries=l.queries.embeddedTView(k)),k}(k,M,S,l,u,h,f,g,v):M.data[k];Ir(U,!1);const Z=S[11].createComment("");Hy(M,S,Z,U),Ii(Z,S),_g(S,S[k]=Rc(Z,S,Z,U)),Gs(U)&&pg(M,S,U),null!=v&&Xs(S,U,E)}function IE(o){return Dr(function uu(){return wt.lFrame.contextLView}(),20+o)}function Dh(o,l=ft.Default){const u=De();return null===u?Re(o,l):Hn(Pn(),u,H(o),l)}function Mg(){throw new Error("invalid")}function Fl(o,l,u){const h=De();return St(h,qs(),l)&&eo(zt(),$n(),h,o,l,h[11],u,!1),Fl}function vp(o,l,u,h,f){const v=f?"class":"style";$A(o,u,l.inputs[v],v,h)}function xg(o,l,u,h){const f=De(),g=zt(),v=20+o,E=f[11],S=f[v]=f0(E,l,function Nf(){return wt.lFrame.currentNamespace}()),M=g.firstCreatePass?function Ag(o,l,u,h,f,g,v){const E=l.consts,M=Rs(l,o,2,f,Tr(E,g));return L0(l,u,M,Tr(E,v)),null!==M.attrs&&wg(M,M.attrs,!1),null!==M.mergedAttrs&&wg(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(v,g,f,0,l,u,h):g.data[v];Ir(M,!0);const k=M.mergedAttrs;null!==k&&ko(E,S,k);const U=M.classes;null!==U&&w0(E,S,U);const Z=M.styles;return null!==Z&&fg(E,S,Z),64!=(64&M.flags)&&Hy(g,f,S,M),0===function ou(){return wt.lFrame.elementDepthCount}()&&Ii(S,f),function tc(){wt.lFrame.elementDepthCount++}(),Gs(M)&&(pg(g,f,M),VA(g,M,f)),null!==h&&Xs(f,M),xg}function Ll(){let o=Pn();ml()?nc():(o=o.parent,Ir(o,!1));const l=o;!function Vd(){wt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(_u(u,o),eu(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Wm(o){return 0!=(16&o.flags)}(l)&&vp(u,l,De(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function nt(o){return 0!=(32&o.flags)}(l)&&vp(u,l,De(),l.stylesWithoutHost,!1),Ll}function kg(o,l,u,h){return xg(o,l,u,h),Ll(),kg}function bp(o,l,u){const h=De(),f=zt(),g=o+20,v=f.firstCreatePass?function VE(o,l,u,h,f){const g=l.consts,v=Tr(g,h),E=Rs(l,o,8,"ng-container",v);return null!==v&&wg(E,v,!0),L0(l,u,E,Tr(g,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(g,f,h,l,u):f.data[g];Ir(v,!0);const E=h[g]=h[11].createComment("");return Hy(f,h,E,v),Ii(E,h),Gs(v)&&(pg(f,h,v),VA(f,v,h)),null!=u&&Xs(h,v),bp}function no(){let o=Pn();const l=zt();return ml()?nc():(o=o.parent,Ir(o,!1)),l.firstCreatePass&&(_u(l,o),eu(o)&&l.queries.elementEnd(o)),no}function Bl(o,l,u){return bp(o,l,u),no(),Bl}function Th(){return De()}function wv(o){return!!o&&"function"==typeof o.then}function Rg(o){return!!o&&"function"==typeof o.subscribe}const Cv=Rg;function Ih(o,l,u,h){const f=De(),g=zt(),v=Pn();return Og(g,f,f[11],v,o,l,!!u,h),Ih}function Mh(o,l){const u=Pn(),h=De(),f=zt();return Og(f,h,$0(oc(f.data),u,h),u,o,l,!1),Mh}function Og(o,l,u,h,f,g,v,E){const S=Gs(h),k=o.firstCreatePass&&ev(o),U=l[8],Z=Xy(l);let ae=!0;if(3&h.type||E){const $e=Xi(h,l),it=E?E($e):$e,Ie=Z.length,_t=E?nn=>E(Jt(nn[h.index])):h.index;if(gn(u)){let nn=null;if(!E&&S&&(nn=function cx(o,l,u,h){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===h){const E=l[7],S=f[g+2];return E.length>S?E[S]:null}"string"==typeof v&&(g+=2)}return null}(o,l,f,h.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=g,nn.__ngLastListenerFn__=g,ae=!1;else{g=Ev(h,l,U,g,!1);const xn=u.listen(it,f,g);Z.push(g,xn),k&&k.push(f,_t,Ie,Ie+1)}}else g=Ev(h,l,U,g,!0),it.addEventListener(f,g,v),Z.push(g),k&&k.push(f,_t,Ie,v)}else g=Ev(h,l,U,g,!1);const we=h.outputs;let Le;if(ae&&null!==we&&(Le=we[f])){const $e=Le.length;if($e)for(let it=0;it<$e;it+=2){const ao=l[Le[it]][Le[it+1]].subscribe(g),cd=Z.length;Z.push(g,ao),k&&k.push(f,h.index,cd,-(cd+1))}}}function UE(o,l,u,h){try{return!1!==u(h)}catch(f){return q0(o,f),!1}}function Ev(o,l,u,h,f){return function g(v){if(v===Function)return h;const E=2&o.flags?er(o.index,l):l;0==(32&l[2])&&Qy(E);let S=UE(l,0,h,v),M=g.__ngNextListenerFn__;for(;M;)S=UE(l,0,M,v)&&S,M=M.__ngNextListenerFn__;return f&&!1===S&&(v.preventDefault(),v.returnValue=!1),S}}function HE(o=1){return function Rf(o){return(wt.lFrame.contextLView=function mu(o,l){for(;o>0;)l=l[15],o--;return l}(o,wt.lFrame.contextLView))[8]}(o)}function io(o,l){let u=null;const h=function pL(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?SA(o,g,!0):_L(h,g))return f}else u=f}return u}function Sv(o){const l=De()[16][6];if(!l.projection){const h=l.projection=kr(o?o.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const v=o?io(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:h[v]=g,f[v]=g),g=g.next}}}function wp(o,l=0,u){const h=De(),f=zt(),g=Rs(f,20+o,16,null,u||null);null===g.projection&&(g.projection=l),nc(),64!=(64&g.flags)&&function aL(o,l,u){bA(l[11],0,l,u,m0(o,u,l),mA(u.parent||l[6],u,l))}(f,h,g)}function Ah(o,l,u){return Pg(o,"",l,"",u),Ah}function Pg(o,l,u,h,f){const g=De(),v=_h(g,l,u,h);return v!==Bt&&eo(zt(),$n(),g,o,v,g[11],f,!1),Pg}function Tv(o,l,u,h,f){const g=o[u+1],v=null===l;let E=h?ha(g):xc(g),S=!1;for(;0!==E&&(!1===S||v);){const k=o[E+1];hx(o[E],l)&&(S=!0,o[E+1]=h?D0(k):E0(k)),E=h?ha(k):xc(k)}S&&(o[u+1]=h?E0(g):D0(g))}function hx(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Ms(o,l)>=0}const Mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Iv(o){return o.substring(Mi.key,Mi.keyEnd)}function YE(o,l){const u=Mi.textEnd;return u===l?-1:(l=Mi.keyEnd=function Zu(o,l,u){for(;l<u&&o.charCodeAt(l)>32;)l++;return l}(o,Mi.key=l,u),xh(o,l,u))}function xh(o,l,u){for(;l<u&&o.charCodeAt(l)<=32;)l++;return l}function Av(o,l,u){return so(o,l,u,!1),Av}function xv(o,l){return so(o,l,null,!0),xv}function ro(o,l){for(let u=function px(o){return function Ep(o){Mi.key=0,Mi.keyEnd=0,Mi.value=0,Mi.valueEnd=0,Mi.textEnd=o.length}(o),YE(o,xh(o,0,Mi.textEnd))}(l);u>=0;u=YE(l,u))Ur(o,Iv(l),!0)}function so(o,l,u,h){const f=De(),g=zt(),v=Mr(2);g.firstUpdatePass&&Rv(g,o,v,h),l!==Bt&&St(f,v,l)&&Lv(g,g.data[ci()],f,f[11],o,f[v+1]=function vx(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=re(la(o)))),o}(l,u),h,v)}function QE(o,l){return l>=o.expandoStartIndex}function Rv(o,l,u,h){const f=o.data;if(null===f[u+1]){const g=f[ci()],v=QE(o,u);XE(g,h)&&null===l&&!v&&(l=!1),l=function _x(o,l,u,h){const f=oc(o);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=Sp(u=Pv(null,o,l,u,h),l.attrs,h),g=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=Pv(f,o,l,u,h),null===g){let S=function QL(o,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==xc(h))return o[ha(h)]}(o,l,h);void 0!==S&&Array.isArray(S)&&(S=Pv(null,o,l,S[1],h),S=Sp(S,l.attrs,h),function Ov(o,l,u,h){o[ha(u?l.classBindings:l.styleBindings)]=h}(o,l,h,S))}else g=function JL(o,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=Sp(h,o[g].hostAttrs,u);return Sp(h,l.attrs,u)}(o,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function Ng(o,l,u,h,f,g){let v=g?l.classBindings:l.styleBindings,E=ha(v),S=xc(v);o[h]=u;let k,M=!1;if(Array.isArray(u)){const U=u;k=U[1],(null===k||Ms(U,k)>0)&&(M=!0)}else k=u;if(f)if(0!==S){const Z=ha(o[E+1]);o[h+1]=Gy(Z,E),0!==Z&&(o[Z+1]=S0(o[Z+1],h)),o[E+1]=function wL(o,l){return 131071&o|l<<17}(o[E+1],h)}else o[h+1]=Gy(E,0),0!==E&&(o[E+1]=S0(o[E+1],h)),E=h;else o[h+1]=Gy(S,0),0===E?E=h:o[S+1]=S0(o[S+1],h),S=h;M&&(o[h+1]=E0(o[h+1])),Tv(o,k,h,!0),Tv(o,k,h,!1),function WE(o,l,u,h,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof l&&Ms(g,l)>=0&&(u[h+1]=D0(u[h+1]))}(l,k,o,h,g),v=Gy(E,S),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,h)}}function Pv(o,l,u,h,f){let g=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(g=l[E],h=Sp(h,g.hostAttrs,f),g!==o);)E++;return null!==o&&(u.directiveStylingLast=E),h}function Sp(o,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ur(o,v,!!u||l[++g]))}return void 0===o?null:o}function Lv(o,l,u,h,f,g,v,E){if(!(3&l.type))return;const S=o.data,M=S[E+1];Bg(function AA(o){return 1==(1&o)}(M)?JE(S,l,u,f,xc(M),v):void 0)||(Bg(g)||function C0(o){return 2==(2&o)}(M)&&(g=JE(S,null,u,f,E,v)),function cL(o,l,u,h,f){const g=gn(o);if(l)f?g?o.addClass(u,h):u.classList.add(h):g?o.removeClass(u,h):u.classList.remove(h);else{let v=-1===h.indexOf("-")?void 0:ja.DashCase;if(null==f)g?o.removeStyle(u,h,v):u.style.removeProperty(h);else{const E="string"==typeof f&&f.endsWith("!important");E&&(f=f.slice(0,-10),v|=ja.Important),g?o.setStyle(u,h,f,v):u.style.setProperty(h,f,E?"important":"")}}}(h,v,Ia(ci(),u),f,g))}function JE(o,l,u,h,f,g){const v=null===l;let E;for(;f>0;){const S=o[f],M=Array.isArray(S),k=M?S[1]:S,U=null===k;let Z=u[f+1];Z===Bt&&(Z=U?et:void 0);let ae=U?Qd(Z,h):k===h?Z:void 0;if(M&&!Bg(ae)&&(ae=Qd(S,h)),Bg(ae)&&(E=ae,v))return E;const we=o[f+1];f=v?ha(we):xc(we)}if(null!==l){let S=g?l.residualClasses:l.residualStyles;null!=S&&(E=Qd(S,h))}return E}function Bg(o){return void 0!==o}function XE(o,l){return 0!=(o.flags&(l?16:32))}function eS(o,l=""){const u=De(),h=zt(),f=o+20,g=h.firstCreatePass?Rs(h,f,1,l,null):h.data[f],v=u[f]=function ug(o,l){return gn(o)?o.createText(l):o.createTextNode(l)}(u[11],l);Hy(h,u,v,g),Ir(g,!1)}function Vg(o){return Ug("",o,""),Vg}function Ug(o,l,u){const h=De(),f=_h(h,o,l,u);return f!==Bt&&$a(h,ci(),f),Ug}function Vv(o,l,u){!function Ps(o,l,u,h){const f=zt(),g=Mr(2);f.firstUpdatePass&&Rv(f,null,g,h);const v=De();if(u!==Bt&&St(v,g,u)){const E=f.data[ci()];if(XE(E,h)&&!QE(f,g)){let S=h?E.classesWithoutHost:E.stylesWithoutHost;null!==S&&(u=ie(S,u||"")),vp(f,E,v,u,h)}else!function Fv(o,l,u,h,f,g,v,E){f===Bt&&(f=et);let S=0,M=0,k=0<f.length?f[0]:null,U=0<g.length?g[0]:null;for(;null!==k||null!==U;){const Z=S<f.length?f[S+1]:void 0,ae=M<g.length?g[M+1]:void 0;let Le,we=null;k===U?(S+=2,M+=2,Z!==ae&&(we=U,Le=ae)):null===U||null!==k&&k<U?(S+=2,we=k):(M+=2,we=U,Le=ae),null!==we&&Lv(o,l,u,h,we,Le,v,E),k=S<f.length?f[S]:null,U=M<g.length?g[M]:null}}(f,E,v,v[11],v[g+1],v[g+1]=function yx(o,l,u){if(null==u||""===u)return et;const h=[],f=la(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(h,g,f[g]);else"string"==typeof f&&l(h,f);return h}(o,l,u),h,g)}}(Ur,ro,_h(De(),o,l,u),!0)}function $v(o,l,u){const h=De();return St(h,qs(),l)&&eo(zt(),$n(),h,o,l,h[11],u,!0),$v}function zg(o,l,u){const h=De();if(St(h,qs(),l)){const g=zt(),v=$n();eo(g,v,h,o,l,$0(oc(g.data),v,h),u,!0)}return zg}const Ku=void 0;var Ix=["en",[["a","p"],["AM","PM"],Ku],[["AM","PM"],Ku,Ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ku,"{1} 'at' {0}",Ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tx(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Rh={};function mS(o,l,u){"string"!=typeof l&&(u=l,l=o[Ct.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Rh[l]=o,u&&(Rh[l][Ct.ExtraData]=u)}function Oh(o){const l=function Ax(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=qv(l);if(u)return u;const h=l.split("-")[0];if(u=qv(h),u)return u;if("en"===h)return Ix;throw new Error(`Missing locale data for the locale "${o}".`)}function gS(o){return Oh(o)[Ct.PluralCase]}function qv(o){return o in Rh||(Rh[o]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[o]),Rh[o]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const $g="en-US";let Rx=$g;function nb(o,l,u,h,f){if(o=H(o),Array.isArray(o))for(let g=0;g<o.length;g++)nb(o[g],l,u,h,f);else{const g=zt(),v=De();let E=hp(o)?o:H(o.provide),S=eE(o);const M=Pn(),k=1048575&M.providerIndexes,U=M.directiveStart,Z=M.providerIndexes>>20;if(hp(o)||!o.multi){const ae=new Ra(S,f,Dh),we=BS(E,l,f?k:k+Z,U);-1===we?(sa(Po(M,v),g,E),td(g,o,l.length),l.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(ae),v.push(ae)):(u[we]=ae,v[we]=ae)}else{const ae=BS(E,l,k+Z,U),we=BS(E,l,k,k+Z),Le=ae>=0&&u[ae],$e=we>=0&&u[we];if(f&&!$e||!f&&!Le){sa(Po(M,v),g,E);const it=function oB(o,l,u,h,f){const g=new Ra(o,u,Dh);return g.multi=[],g.index=l,g.componentProviders=0,LS(g,f,h&&!u),g}(f?sB:rB,u.length,f,h,S);!f&&$e&&(u[we].providerFactory=it),td(g,o,l.length,0),l.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(it),v.push(it)}else td(g,o,ae>-1?ae:we,LS(u[f?we:ae],S,!f&&h));!f&&h&&$e&&u[we].componentProviders++}}}function td(o,l,u,h){const f=hp(l),g=function jL(o){return!!o.useClass}(l);if(f||g){const S=(g?H(l.useClass):l).prototype.ngOnDestroy;if(S){const M=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const k=M.indexOf(u);-1===k?M.push(u,[h,S]):M[k+1].push(h,S)}else M.push(u,S)}}}function LS(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function BS(o,l,u,h){for(let f=u;f<h;f++)if(l[f]===o)return f;return-1}function rB(o,l,u,h){return VS(this.multi,[])}function sB(o,l,u,h){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ar(u,u[1],this.providerFactory.index,h);g=E.slice(0,v),VS(f,g);for(let S=v;S<E.length;S++)g.push(E[S])}else g=[],VS(f,g);return g}function VS(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function ck(o,l=[]){return u=>{u.providersResolver=(h,f)=>function lk(o,l,u){const h=zt();if(h.firstCreatePass){const f=Es(o);nb(u,h.data,h.blueprint,f,!0),nb(l,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,l)}}class uk{}class hk{resolveComponentFactory(l){throw function Rp(o){const l=Error(`No component factory found for ${re(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let oo=(()=>{class o{}return o.NULL=new hk,o})();function fk(){return Op(Pn(),De())}function Op(o,l){return new Za(Xi(o,l))}let Za=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=fk,o})();function US(o){return o instanceof Za?o.nativeElement:o}class HS{}let pk=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function gk(){const o=De(),u=er(Pn().index,o);return function mk(o){return o[11]}(Li(u)?u:o)}(),o})(),_k=(()=>{class o{}return o.\u0275prov=Sn({token:o,providedIn:"root",factory:()=>null}),o})();class jS{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const GS=new jS("13.3.11"),ib={};function Qg(o,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Jt(g)),dr(g))for(let E=10;E<g.length;E++){const S=g[E],M=S[1].firstChild;null!==M&&Qg(S[1],S,M,h)}const v=u.type;if(8&v)Qg(o,l,u.child,h);else if(32&v){const E=c0(u,l);let S;for(;S=E();)h.push(S)}else if(16&v){const E=yA(l,u);if(Array.isArray(E))h.push(...E);else{const S=np(l[16]);Qg(S[1],S,E,h,!0)}}u=f?u.projectionNext:u.next}return h}class Pp{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Qg(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(dr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(p0(l,h),Il(u,h))}this._attachedToViewContainer=!1}dg(this._lView[1],this._lView)}onDestroy(l){Uu(this._lView[1],this._lView,null,l)}markForCheck(){Qy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function bg(o,l,u){const h=l[10];h.begin&&h.begin();try{ch(o,l,o.template,u)}catch(f){throw q0(l,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ip(o,l){sp(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ge(902,"");this._appRef=l}}class yk extends Pp{constructor(l){super(l),this._view=l}detectChanges(){dp(this._view)}checkNoChanges(){}get context(){return null}}class zS extends oo{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Xe(l);return new rb(u,this.ngModule)}}function $S(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class rb extends uk{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function vL(o){return o.map(yL).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return $S(this.componentDef.inputs)}get outputs(){return $S(this.componentDef.outputs)}create(l,u,h,f){const g=(f=f||this.ngModule)?function bk(o,l){return{get:(u,h,f)=>{const g=o.get(u,ib,f);return g!==ib||h===ib?g:l.get(u,h,f)}}}(l,f.injector):l,v=g.get(HS,Bd),E=g.get(_k,null),S=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=h?function N0(o,l,u){if(gn(o))return o.selectRootElement(l,u===qt.ShadowDom);let h="string"==typeof l?o.querySelector(l):l;return h.textContent="",h}(S,h,this.componentDef.encapsulation):f0(v.createRenderer(null,this.componentDef),M,function vk(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(M)),U=this.componentDef.onPush?576:528,Z=function mp(o,l){return{components:[],scheduler:o||iA,clean:Jy,playerHandler:l||null,flags:0}}(),ae=mg(0,null,null,1,0,null,null,null,null,null),we=op(null,ae,Z,U,null,null,v,S,E,g);let Le,$e;ra(we);try{const it=function fE(o,l,u,h,f,g){const v=u[1];u[20]=o;const S=Rs(v,20,2,"#host",null),M=S.mergedAttrs=l.hostAttrs;null!==M&&(wg(S,M,!0),null!==o&&(ko(f,o,M),null!==S.classes&&w0(f,o,S.classes),null!==S.styles&&fg(f,o,S.styles)));const k=h.createRenderer(o,l),U=op(u,Or(l),null,l.onPush?64:16,u[20],S,h,k,g||null,null);return v.firstCreatePass&&(sa(Po(S,u),v,l.type),hh(v,S),cp(S,u.length,1)),_g(u,U),u[20]=U}(k,this.componentDef,we,v,S);if(k)if(h)ko(S,k,["ng-version",GS.full]);else{const{attrs:Ie,classes:_t}=function bL(o){const l=[],u=[];let h=1,f=2;for(;h<o.length;){let g=o[h];if("string"==typeof g)2===f?""!==g&&l.push(g,o[++h]):8===f&&u.push(g);else{if(!Ga(f))break;f=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ie&&ko(S,k,Ie),_t&&_t.length>0&&w0(S,k,_t.join(" "))}if($e=ai(ae,20),void 0!==u){const Ie=$e.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const nn=u[_t];Ie.push(null!=nn?Array.from(nn):null)}}Le=function pp(o,l,u,h,f){const g=u[1],v=function Pl(o,l,u){const h=Pn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),kc(o,h,l,za(o,l,1,null),u));const f=Ar(l,o,h.directiveStart,h);Ii(f,l);const g=Xi(h,l);return g&&Ii(g,l),f}(g,u,l);if(h.components.push(v),o[8]=v,f&&f.forEach(S=>S(v,l)),l.contentQueries){const S=Pn();l.contentQueries(1,v,S.directiveStart)}const E=Pn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Mo(E.index),gg(u[1],E,0,E.directiveStart,E.directiveEnd,l),Wy(l,v)),v}(it,this.componentDef,we,Z,[zr]),Ol(ae,we,null)}finally{tr()}return new Ck(this.componentType,Le,Op($e,we),we,$e)}}class Ck extends class aB{}{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new yk(f),this.componentType=l}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class nd{}class Sk{}const Lh=new Map;class Ik extends nd{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zS(this);const h=Qt(l);this._bootstrapComponents=da(h.bootstrap),this._r3Injector=Q0(l,u,[{provide:nd,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],re(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=qa.THROW_IF_NOT_FOUND,h=ft.Default){return l===qa||l===nd||l===Cg?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Jg extends Sk{constructor(l){super(),this.moduleType=l,null!==Qt(l)&&function uB(o){const l=new Set;!function u(h){const f=Qt(h,!0),g=f.id;null!==g&&(function Dk(o,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${o} - ${re(l)} vs ${re(l.name)}`)}(g,Lh.get(g),h),Lh.set(g,h));const v=da(f.imports);for(const E of v)l.has(E)||(l.add(E),u(E))}(o)}(l)}create(l){return new Ik(this.moduleType,l)}}function id(o,l){const u=o[l];return u===Bt?void 0:u}function Np(o,l,u,h,f,g,v){const E=l+u;return function Wa(o,l,u,h){const f=St(o,l,u);return St(o,l+1,h)||f}(o,E,f,g)?pa(o,E+2,v?h.call(v,f,g):h(f,g)):id(o,E+2)}function JS(o,l){const u=zt();let h;const f=o+20;u.firstCreatePass?(h=function XS(o,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(o===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=Qo(h.type)),v=dn(Dh);try{const E=Oo(!1),S=g();return Oo(E),function ex(o,l,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=h}(u,De(),f,S),S}finally{dn(v)}}function eD(o,l,u){const h=o+20,f=De(),g=Dr(f,h);return Fp(f,h)?function Bh(o,l,u,h,f,g){const v=l+u;return St(o,v,f)?pa(o,v+1,g?h.call(g,f):h(f)):id(o,v+1)}(f,Ti(),l,g.transform,u,g):g.transform(u)}function tD(o,l,u,h){const f=o+20,g=De(),v=Dr(g,f);return Fp(g,f)?Np(g,Ti(),l,v.transform,u,h,v):v.transform(u,h)}function Fp(o,l){return o[1].data[l].pure}function Xg(o){return l=>{setTimeout(o,void 0,l)}}const $r=class rD extends a.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var f,g,v;let E=l,S=u||(()=>null),M=h;if(l&&"object"==typeof l){const U=l;E=null===(f=U.next)||void 0===f?void 0:f.bind(U),S=null===(g=U.error)||void 0===g?void 0:g.bind(U),M=null===(v=U.complete)||void 0===v?void 0:v.bind(U)}this.__isAsync&&(S=Xg(S),E&&(E=Xg(E)),M&&(M=Xg(M)));const k=super.subscribe({next:E,error:S,complete:M});return l instanceof G.w&&l.add(k),k}};function e_(){return this._results[Gu()]()}class t_{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gu(),h=t_.prototype;h[u]||(h[u]=e_)}get changes(){return this._changes||(this._changes=new $r)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=jt(l);(this._changesDetected=!function Vf(o,l,u){if(o.length!==l.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let n_=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ok,o})();const i_=n_,sD=class extends i_{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=op(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(u)),Ol(u,h,l),new Pp(h)}};function Ok(){return r_(Pn(),De())}function r_(o,l){return 4&o.type?new sD(l,o,Op(o,l)):null}let s_=(()=>{class o{}return o.__NG_ELEMENT_ID__=Pk,o})();function Pk(){return cD(Pn(),De())}const oD=s_,aD=class extends oD{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Op(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const l=Oa(this._hostTNode,this._hostLView);if(Je(l)){const u=_i(l,this._hostLView),h=Ro(l);return new Vi(u[1].data[h+8],u)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=lD(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const f=l.createEmbeddedView(u||{});return this.insert(f,h),f}createComponent(l,u,h,f,g){const v=l&&!function Ui(o){return"function"==typeof o}(l);let E;if(v)E=u;else{const U=u||{};E=U.index,h=U.injector,f=U.projectableNodes,g=U.ngModuleRef}const S=v?l:new rb(Xe(l)),M=h||this.parentInjector;if(!g&&null==S.ngModule){const Z=(v?M:this.parentInjector).get(nd,null);Z&&(g=Z)}const k=S.create(M,f,void 0,g);return this.insert(k.hostView,E),k}insert(l,u){const h=l._lView,f=h[1];if(function Xl(o){return dr(o[3])}(h)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const U=h[3],Z=new aD(U,U[6],U[3]);Z.detach(Z.indexOf(l))}}const g=this._adjustIndex(u),v=this._lContainer;!function hA(o,l,u,h){const f=10+h,g=u.length;h>0&&(u[f-1][4]=l),h<g-10?(l[4]=u[f],Kd(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function fA(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(v,l);const E=l[19];null!==E&&E.insertView(o),l[2]|=128}(f,h,v,g);const E=v0(g,v),S=h[11],M=Uy(S,v[7]);return null!==M&&function iL(o,l,u,h,f,g){h[0]=f,h[6]=l,sp(o,h,u,1,f,g)}(f,v[6],S,h,M,E),l.attachToViewContainerRef(),Kd(ob(v),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=lD(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=p0(this._lContainer,u);h&&(Il(ob(this._lContainer),u),dg(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=p0(this._lContainer,u);return h&&null!=Il(ob(this._lContainer),u)?new Pp(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function lD(o){return o[8]}function ob(o){return o[8]||(o[8]=[])}function cD(o,l){let u;const h=l[o.index];if(dr(h))u=h;else{let f;if(8&o.type)f=Jt(h);else{const g=l[11];f=g.createComment("");const v=Xi(o,l);Ac(g,Uy(g,v),f,function oL(o,l){return gn(o)?o.nextSibling(l):l.nextSibling}(g,v),!1)}l[o.index]=u=Rc(h,l,f,o),_g(l,u)}return new aD(u,o,l)}class ab{constructor(l){this.queryList=l,this.matches=null}clone(){return new ab(this.queryList)}setDirty(){this.queryList.setDirty()}}class o_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new o_(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==yD(l,u).matches&&this.queries[u].setDirty()}}class uD{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class lb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new lb(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Uh{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Uh(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,dD(u,g)),this.matchTNodeWithReadOption(l,u,Cl(u,l,g,!1,!1))}else h===n_?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Cl(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Za||f===s_||f===n_&&4&u.type)this.addMatch(u.index,-2);else{const g=Cl(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function dD(o,l){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function pB(o,l,u,h){return-1===u?function hD(o,l){return 11&o.type?Op(o,l):4&o.type?r_(o,l):null}(l,o):-2===u?function Lk(o,l,u){return u===Za?Op(l,o):u===n_?r_(l,o):u===s_?cD(l,o):void 0}(o,l,h):Ar(o,o[1],u,l)}function cb(o,l,u,h){const f=l[19].queries[h];if(null===f.matches){const g=o.data,v=u.matches,E=[];for(let S=0;S<v.length;S+=2){const M=v[S];E.push(M<0?null:pB(l,g[M],v[S+1],u.metadata.read))}f.matches=E}return f.matches}function fD(o,l,u,h){const f=o.queries.getByIndex(u),g=f.matches;if(null!==g){const v=cb(o,l,f,u);for(let E=0;E<g.length;E+=2){const S=g[E];if(S>0)h.push(v[E/2]);else{const M=g[E+1],k=l[-S];for(let U=10;U<k.length;U++){const Z=k[U];Z[17]===Z[3]&&fD(Z[1],Z,M,h)}if(null!==k[9]){const U=k[9];for(let Z=0;Z<U.length;Z++){const ae=U[Z];fD(ae[1],ae,M,h)}}}}}return h}function Bk(o){const l=De(),u=zt(),h=ac();hu(h+1);const f=yD(u,h);if(o.dirty&&Do(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?fD(u,l,h,[]):cb(u,l,f,h);o.reset(g,US),o.notifyOnChanges()}return!0}return!1}function pD(o,l,u){const h=zt();h.firstCreatePass&&(_D(h,new uD(o,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Lp(h,De(),l)}function mD(o,l,u,h){const f=zt();if(f.firstCreatePass){const g=Pn();_D(f,new uD(l,u,h),g.index),function ub(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}Lp(f,De(),u)}function gD(){return function Vk(o,l){return o[19].queries[l].queryList}(De(),ac())}function Lp(o,l,u){const h=new t_(4==(4&u));Uu(o,l,h,h.destroy),null===l[19]&&(l[19]=new o_),l[19].queries.push(new ab(h))}function _D(o,l,u){null===o.queries&&(o.queries=new lb),o.queries.track(new Uh(l,u))}function yD(o,l){return o.queries.getByIndex(l)}function p_(...o){}const yb=new An("Application Initializer");let vb=(()=>{class o{constructor(u){this.appInits=u,this.resolve=p_,this.reject=p_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(wv(g))u.push(g);else if(Cv(g)){const v=new Promise((E,S)=>{g.subscribe({complete:E,error:S})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Re(yb,8))},o.\u0275prov=Sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const PD=new An("AppId",{providedIn:"root",factory:function Xk(){return`${Ka()}${Ka()}${Ka()}`}});function Ka(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const od=new An("Platform Initializer"),eR=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ul=new An("appBootstrapListener");let tR=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const m_=new An("LocaleId",{providedIn:"root",factory:()=>It(m_,ft.Optional|ft.SkipSelf)||function nR(){return"undefined"!=typeof $localize&&$localize.locale||$g}()}),DB=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TB{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let IB=(()=>{class o{compileModuleSync(u){return new Jg(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=da(Qt(u).declarations).reduce((v,E)=>{const S=Xe(E);return S&&v.push(new rb(S)),v},[]);return new TB(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const AB=(()=>Promise.resolve(0))();function Up(o){"undefined"==typeof Zone?AB.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Fs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $r(!1),this.onMicrotaskEmpty=new $r(!1),this.onStable=new $r(!1),this.onError=new $r(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function g_(){let o=ht.requestAnimationFrame,l=ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function rR(o){const l=()=>{!function xB(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(ht,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,FD(o),o.isCheckStableRunning=!0,Hp(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),FD(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,v,E)=>{try{return bb(o),u.invokeTask(f,g,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&l(),sR(o)}},onInvoke:(u,h,f,g,v,E,S)=>{try{return bb(o),u.invoke(f,g,v,E,S)}finally{o.shouldCoalesceRunChangeDetection&&l(),sR(o)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,FD(o),Hp(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,iR,p_,p_);try{return g.runTask(v,u,h)}finally{g.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const iR={};function Hp(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function FD(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function bb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function sR(o){o._nesting--,Hp(o)}class __{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $r,this.onMicrotaskEmpty=new $r,this.onStable=new $r,this.onError=new $r}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}let oR=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),Up(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Up(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Re(Fs))},o.\u0275prov=Sn({token:o,factory:o.\u0275fac}),o})(),LD=(()=>{class o{constructor(){this._applications=new Map,wb.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return wb.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class kB{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function aR(o){wb=o}let wb=new kB,ad=null;const Cb=new An("AllowMultipleToken"),BD=new An("PlatformOnDestroy");class Eb{constructor(l,u){this.name=l,this.token=u}}function HD(o,l,u=[]){const h=`Platform: ${l}`,f=new An(h);return(g=[])=>{let v=jD();if(!v||v.injector.get(Cb,!1)){const E=[...u,...g,{provide:f,useValue:!0}];o?o(E):function UD(o){if(ad&&!ad.get(Cb,!1))throw new ge(400,"");ad=o;const l=o.get(GD),u=o.get(od,null);u&&u.forEach(h=>h())}(function Sb(o=[],l){return qa.create({name:l,providers:[{provide:tv,useValue:"platform"},{provide:BD,useValue:()=>ad=null},...o]})}(E,h))}return function lR(o){const l=jD();if(!l)throw new ge(401,"");return l}()}}function jD(){var o;return null!==(o=null==ad?void 0:ad.get(GD))&&void 0!==o?o:null}let GD=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const E=function NB(o,l){let u;return u="noop"===o?new __:("zone.js"===o?void 0:o)||new Fs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),S=[{provide:Fs,useValue:E}];return E.run(()=>{const M=qa.create({providers:S,parent:this.injector,name:u.moduleType.name}),k=u.create(M),U=k.injector.get(Fy,null);if(!U)throw new ge(402,"");return E.runOutsideAngular(()=>{const Z=E.onError.subscribe({next:ae=>{U.handleError(ae)}});k.onDestroy(()=>{Ib(this._modules,k),Z.unsubscribe()})}),function FB(o,l,u){try{const h=u();return wv(h)?h.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>o.handleError(h)),h}}(U,E,()=>{const Z=k.injector.get(vb);return Z.runInitializers(),Z.donePromise.then(()=>(function Ox(o){yn(o,"Expected localeId to be defined"),"string"==typeof o&&(Rx=o.toLowerCase().replace(/_/g,"-"))}(k.injector.get(m_,$g)||$g),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,h=[]){const f=Db({},h);return function RB(o,l,u){const h=new Jg(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(Tb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new ge(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(BD,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Re(qa))},o.\u0275prov=Sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Db(o,l){return Array.isArray(l)?l.reduce(Db,o):Object.assign(Object.assign({},o),l)}let Tb=(()=>{class o{constructor(u,h,f,g){this._zone=u,this._injector=h,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new N.y(S=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),Up(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ce.T)(v,E.pipe((0,de.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new ge(405,"");let f;f=u instanceof uk?u:this._injector.get(oo).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const g=function VD(o){return o.isBoundToModule}(f)?void 0:this._injector.get(nd),E=f.create(qa.NULL,[],h||f.selector,g),S=E.location.nativeElement,M=E.injector.get(oR,null),k=M&&E.injector.get(LD);return M&&k&&k.registerApplication(S,M),E.onDestroy(()=>{this.detachView(E.hostView),Ib(this.components,E),k&&k.unregisterApplication(S)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ge(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Ib(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Ul,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Re(Fs),Re(qa),Re(Fy),Re(vb))},o.\u0275prov=Sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ib(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let Mb=!0,zD=!1;function $D(){return zD=!0,Mb}function ld(){if(zD)throw new Error("Cannot enable prod mode after platform setup.");Mb=!1}let WD=(()=>{class o{}return o.__NG_ELEMENT_ID__=hR,o})();function hR(o){return function fR(o,l,u){if(Di(o)&&!u){const h=er(o.index,l);return new Pp(h,h)}return 47&o.type?new Pp(l[16],l):null}(Pn(),De(),16==(16&o))}class vR{constructor(){}supports(l){return mh(l)}create(l){return new KD(l)}}const jB=(o,l)=>l;class KD{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||jB}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const v=!h||u&&u.currentIndex<JD(h,f,g)?u:h,E=JD(v,f,g),S=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const M=E-f,k=S-f;if(M!=k){for(let Z=0;Z<M;Z++){const ae=Z<g.length?g[Z]:g[Z]=0,we=ae+Z;k<=we&&we<M&&(g[Z]=ae+1)}g[v.previousIndex]=k-M}}E!==S&&l(v,E,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!mh(l))throw new ge(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)g=l[E],v=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,g,v,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,E),h=!0),u=u._next}else f=0,function gE(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Gu()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,E=>{v=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,E,v,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new jp(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new QD),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class jp{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hh{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class QD{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new Hh,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JD(o,l,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class Pb{constructor(){}supports(l){return l instanceof Map||zu(l)}create(){return new w_}}class w_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||zu(l)))throw new ge(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const h=new XD(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class XD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eT(){return new Nb([new vR])}let Nb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||eT()),deps:[[o,new Hi,new as]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new ge(901,"")}}return o.\u0275prov=Sn({token:o,providedIn:"root",factory:eT}),o})();function tT(){return new Fb([new Pb])}let Fb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||tT()),deps:[[o,new Hi,new as]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(h)return h;throw new ge(901,"")}}return o.\u0275prov=Sn({token:o,providedIn:"root",factory:tT}),o})();const bR=HD(null,"core",[]);let iT=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Re(Tb))},o.\u0275mod=oe({type:o}),o.\u0275inj=Qi({}),o})()},3942:(Ke,ye,L)=>{L.d(ye,{Z:()=>ge});var a=L(2090),G=L(4859),N=L(9681),ce=L(1877);class de{constructor(ve,Se){this._delegate=ve,this.firebase=Se,(0,N._addComponent)(ve,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ve,Se=N._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(ve);return!st.isInitialized()&&"EXPLICIT"===(null===(Be=st.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&st.initialize(),st.getImmediate({identifier:Se})}_removeServiceInstance(ve,Se=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Se)}_addComponent(ve){(0,N._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,N._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function ie(){const be=function re(be){const ve={},Se={__esModule:!0,initializeApp:function Ht(vt,Oe={}){const Me=N.initializeApp(vt,Oe);if((0,a.r3)(ve,Me.name))return ve[Me.name];const Ze=new be(Me,Se);return ve[Me.name]=Ze,Ze},app:st,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Nt(vt){const Oe=vt.name,Me=Oe.replace("-compat","");if(N._registerComponent(vt)&&"PUBLIC"===vt.type){const Ze=(yt=st())=>{if("function"!=typeof yt[Me])throw se.create("invalid-app-argument",{appName:Oe});return yt[Me]()};void 0!==vt.serviceProps&&(0,a.ZB)(Ze,vt.serviceProps),Se[Me]=Ze,be.prototype[Me]=function(...yt){return this._getService.bind(this,Oe).apply(this,vt.multipleInstances?yt:[])}}return"PUBLIC"===vt.type?Se[Me]:null},removeApp:function Be(vt){delete ve[vt]},useAsService:function Fn(vt,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:N}};function st(vt){if(!(0,a.r3)(ve,vt=vt||N._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:vt});return ve[vt]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function un(){return Object.keys(ve).map(vt=>ve[vt])}}),st.App=be,Se}(de);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function ve(Se){(0,a.ZB)(be,Se)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),be}(),$=new ce.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ge=V;!function _e(be){(0,N.registerVersion)("@firebase/app-compat","0.1.29",be)}()},9681:(Ke,ye,L)=>{L.r(ye),L.d(ye,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>wr,_DEFAULT_ENTRY_NAME:()=>yn,_addComponent:()=>ns,_addOrOverwriteComponent:()=>Sn,_apps:()=>vr,_clearComponents:()=>Ln,_components:()=>br,_getProvider:()=>Qi,_registerComponent:()=>Ki,_removeServiceInstance:()=>On,deleteApp:()=>ft,getApp:()=>Tn,getApps:()=>si,initializeApp:()=>Pe,onLog:()=>dn,registerVersion:()=>zn,setLogLevel:()=>Jn});var a=L(5861),G=L(4859),N=L(1877),ce=L(2090),de=L(8766);class te{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function se(z){const Y=z.getComponent();return"VERSION"===(null==Y?void 0:Y.type)}(K)){const Ae=K.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(K=>K).join(" ")}}const re="@firebase/app",V=new N.Yd("@firebase/app"),yn="[DEFAULT]",Gt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vr=new Map,br=new Map;function ns(z,Y){try{z.container.addComponent(Y)}catch(K){V.debug(`Component ${Y.name} failed to register with FirebaseApp ${z.name}`,K)}}function Sn(z,Y){z.container.addOrOverwriteComponent(Y)}function Ki(z){const Y=z.name;if(br.has(Y))return V.debug(`There were multiple attempts to register component ${Y}.`),!1;br.set(Y,z);for(const K of vr.values())ns(K,z);return!0}function Qi(z,Y){const K=z.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),z.container.getProvider(Y)}function On(z,Y,K=yn){Qi(z,Y).clearInstance(K)}function Ln(){br.clear()}const Pi=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Fr{constructor(Y,K,Ae){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}const wr="9.9.0";function Pe(z,Y={}){"object"!=typeof Y&&(Y={name:Y});const K=Object.assign({name:yn,automaticDataCollectionEnabled:!1},Y),Ae=K.name;if("string"!=typeof Ae||!Ae)throw Pi.create("bad-app-name",{appName:String(Ae)});const je=vr.get(Ae);if(je){if((0,ce.vZ)(z,je.options)&&(0,ce.vZ)(K,je.config))return je;throw Pi.create("duplicate-app",{appName:Ae})}const gt=new G.H0(Ae);for(const Xt of br.values())gt.addComponent(Xt);const on=new Fr(z,K,gt);return vr.set(Ae,on),on}function Tn(z=yn){const Y=vr.get(z);if(!Y)throw Pi.create("no-app",{appName:z});return Y}function si(){return Array.from(vr.values())}function ft(z){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(z){const Y=z.name;vr.has(Y)&&(vr.delete(Y),yield Promise.all(z.container.getProviders().map(K=>K.delete())),z.isDeleted=!0)})).apply(this,arguments)}function zn(z,Y,K){var Ae;let je=null!==(Ae=Gt[z])&&void 0!==Ae?Ae:z;K&&(je+=`-${K}`);const gt=je.match(/\s|\//),on=Y.match(/\s|\//);if(gt||on){const Xt=[`Unable to register library "${je}" with version "${Y}":`];return gt&&Xt.push(`library name "${je}" contains illegal characters (whitespace or "/")`),gt&&on&&Xt.push("and"),on&&Xt.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void V.warn(Xt.join(" "))}Ki(new G.wA(`${je}-version`,()=>({library:je,version:Y}),"VERSION"))}function dn(z,Y){if(null!==z&&"function"!=typeof z)throw Pi.create("invalid-log-argument");(0,N.Am)(z,Y)}function Jn(z){(0,N.Ub)(z)}const Vn="firebase-heartbeat-store";let Ni=null;function is(){return Ni||(Ni=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(z,Y)=>{0===Y&&z.createObjectStore(Vn)}}).catch(z=>{throw Pi.create("storage-open",{originalErrorMessage:z.message})})),Ni}function lt(){return(lt=(0,a.Z)(function*(z){var Y;try{return(yield is()).transaction(Vn).objectStore(Vn).get(hn(z))}catch(K){throw Pi.create("storage-get",{originalErrorMessage:null===(Y=K)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function ct(z,Y){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(z,Y){var K;try{const je=(yield is()).transaction(Vn,"readwrite");return yield je.objectStore(Vn).put(Y,hn(z)),je.done}catch(Ae){throw Pi.create("storage-set",{originalErrorMessage:null===(K=Ae)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function hn(z){return`${z.name}!${z.options.appId}`}class pi{constructor(Y){this.container=Y,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new cr(K),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var Y=this;return(0,a.Z)(function*(){const Ae=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=Cn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==je&&!Y._heartbeatsCache.heartbeats.some(gt=>gt.date===je))return Y._heartbeatsCache.heartbeats.push({date:je,agent:Ae}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(gt=>{const on=new Date(gt.date).valueOf();return Date.now()-on<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,a.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const K=Cn(),{heartbeatsToSend:Ae,unsentEntries:je}=function et(z,Y=1024){const K=[];let Ae=z.slice();for(const je of z){const gt=K.find(on=>on.agent===je.agent);if(gt){if(gt.dates.push(je.date),W(K)>Y){gt.dates.pop();break}}else if(K.push({agent:je.agent,dates:[je.date]}),W(K)>Y){K.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:K,unsentEntries:Ae}}(Y._heartbeatsCache.heartbeats),gt=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ae}));return Y._heartbeatsCache.lastSentHeartbeatDate=K,je.length>0?(Y._heartbeatsCache.heartbeats=je,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),gt})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class cr{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,a.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function qt(z){return lt.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var K=this;return(0,a.Z)(function*(){var Ae;if(yield K._canUseIndexedDBPromise){const gt=yield K.read();return ct(K.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:gt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var K=this;return(0,a.Z)(function*(){var Ae;if(yield K._canUseIndexedDBPromise){const gt=yield K.read();return ct(K.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...Y.heartbeats]})}})()}}function W(z){return(0,ce.L)(JSON.stringify({version:2,heartbeats:z})).length}!function q(z){Ki(new G.wA("platform-logger",Y=>new te(Y),"PRIVATE")),Ki(new G.wA("heartbeat",Y=>new pi(Y),"PRIVATE")),zn(re,"0.7.28",z),zn(re,"0.7.28","esm2017"),zn("fire-js","")}("")},4859:(Ke,ye,L)=>{L.d(ye,{H0:()=>re,wA:()=>N,zt:()=>de});var a=L(5861),G=L(2090);class N{constructor(V,$,H){this.name=V,this.instanceFactory=$,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ce="[DEFAULT]";class de{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const H=new G.BH;if(this.instancesDeferred.set($,H),this.isInitialized($)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:$});le&&H.resolve(le)}catch(le){}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const H=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),le=null!==($=null==V?void 0:V.optional)&&void 0!==$&&$;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(_e){if(le)return null;throw _e}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function se(ie){return"EAGER"===ie.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ce})}catch($){}for(const[$,H]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier($);try{const _e=this.getOrInitializeService({instanceIdentifier:le});H.resolve(_e)}catch(_e){}}}}clearInstance(V=ce){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...$.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ce){return this.instances.has(V)}getOptions(V=ce){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,H=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:H,options:$});for(const[_e,ge]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(_e)&&ge.resolve(le);return le}onInit(V,$){var H;const le=this.normalizeInstanceIdentifier($),_e=null!==(H=this.onInitCallbacks.get(le))&&void 0!==H?H:new Set;_e.add(V),this.onInitCallbacks.set(le,_e);const ge=this.instances.get(le);return ge&&V(ge,le),()=>{_e.delete(V)}}invokeOnInitCallbacks(V,$){const H=this.onInitCallbacks.get($);if(H)for(const le of H)try{le(V,$)}catch(_e){}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let H=this.instances.get(V);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=V,ie===ce?void 0:ie),options:$}),this.instances.set(V,H),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(H,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,H)}catch(le){}var ie;return H||null}normalizeInstanceIdentifier(V=ce){return this.component?this.component.multipleInstances?V:ce:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new de(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Ke,ye,L)=>{L.d(ye,{Am:()=>ie,Ub:()=>re,Yd:()=>se,in:()=>G});const a=[];var G=(()=>{return(V=G||(G={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",G;var V})();const N={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},ce=G.INFO,de={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},te=(V,$,...H)=>{if($<V.logLevel)return;const le=(new Date).toISOString(),_e=de[$];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[_e](`[${le}]  ${V.name}:`,...H)};class se{constructor($){this.name=$,this._logLevel=ce,this._logHandler=te,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in G))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...$),this._logHandler(this,G.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...$),this._logHandler(this,G.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,G.INFO,...$),this._logHandler(this,G.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,G.WARN,...$),this._logHandler(this,G.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...$),this._logHandler(this,G.ERROR,...$)}}function re(V){a.forEach($=>{$.setLogLevel(V)})}function ie(V,$){for(const H of a){let le=null;$&&$.level&&(le=N[$.level]),H.userLogHandler=null===V?null:(_e,ge,...be)=>{const ve=be.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Be){return null}}).filter(Se=>Se).join(" ");ge>=(null!=le?le:_e.logLevel)&&V({level:G[ge].toLowerCase(),message:ve,args:be,type:_e.name})}}}},8766:(Ke,ye,L)=>{L.d(ye,{Lj:()=>Ht,X3:()=>st});var a=L(5861);let N,ce;const se=new WeakMap,re=new WeakMap,ie=new WeakMap,V=new WeakMap,$=new WeakMap;let _e={get(Oe,Me,Ze){if(Oe instanceof IDBTransaction){if("done"===Me)return re.get(Oe);if("objectStoreNames"===Me)return Oe.objectStoreNames||ie.get(Oe);if("store"===Me)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return Se(Oe[Me])},set:(Oe,Me,Ze)=>(Oe[Me]=Ze,!0),has:(Oe,Me)=>Oe instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in Oe};function ve(Oe){return"function"==typeof Oe?function be(Oe){return Oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Oe)?function(...Me){return Oe.apply(Be(this),Me),Se(se.get(this))}:function(...Me){return Se(Oe.apply(Be(this),Me))}:function(Me,...Ze){const yt=Oe.call(Be(this),Me,...Ze);return ie.set(yt,Me.sort?Me.sort():[Me]),Se(yt)}}(Oe):(Oe instanceof IDBTransaction&&function le(Oe){if(re.has(Oe))return;const Me=new Promise((Ze,yt)=>{const tt=()=>{Oe.removeEventListener("complete",Et),Oe.removeEventListener("error",qe),Oe.removeEventListener("abort",qe)},Et=()=>{Ze(),tt()},qe=()=>{yt(Oe.error||new DOMException("AbortError","AbortError")),tt()};Oe.addEventListener("complete",Et),Oe.addEventListener("error",qe),Oe.addEventListener("abort",qe)});re.set(Oe,Me)}(Oe),((Oe,Me)=>Me.some(Ze=>Oe instanceof Ze))(Oe,function de(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Oe,_e):Oe)}function Se(Oe){if(Oe instanceof IDBRequest)return function H(Oe){const Me=new Promise((Ze,yt)=>{const tt=()=>{Oe.removeEventListener("success",Et),Oe.removeEventListener("error",qe)},Et=()=>{Ze(Se(Oe.result)),tt()},qe=()=>{yt(Oe.error),tt()};Oe.addEventListener("success",Et),Oe.addEventListener("error",qe)});return Me.then(Ze=>{Ze instanceof IDBCursor&&se.set(Ze,Oe)}).catch(()=>{}),$.set(Me,Oe),Me}(Oe);if(V.has(Oe))return V.get(Oe);const Me=ve(Oe);return Me!==Oe&&(V.set(Oe,Me),$.set(Me,Oe)),Me}const Be=Oe=>$.get(Oe);function st(Oe,Me,{blocked:Ze,upgrade:yt,blocking:tt,terminated:Et}={}){const qe=indexedDB.open(Oe,Me),Zi=Se(qe);return yt&&qe.addEventListener("upgradeneeded",Oi=>{yt(Se(qe.result),Oi.oldVersion,Oi.newVersion,Se(qe.transaction))}),Ze&&qe.addEventListener("blocked",()=>Ze()),Zi.then(Oi=>{Et&&Oi.addEventListener("close",()=>Et()),tt&&Oi.addEventListener("versionchange",()=>tt())}).catch(()=>{}),Zi}function Ht(Oe,{blocked:Me}={}){const Ze=indexedDB.deleteDatabase(Oe);return Me&&Ze.addEventListener("blocked",()=>Me()),Se(Ze).then(()=>{})}const un=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],Fn=new Map;function vt(Oe,Me){if(!(Oe instanceof IDBDatabase)||Me in Oe||"string"!=typeof Me)return;if(Fn.get(Me))return Fn.get(Me);const Ze=Me.replace(/FromIndex$/,""),yt=Me!==Ze,tt=Nt.includes(Ze);if(!(Ze in(yt?IDBIndex:IDBObjectStore).prototype)||!tt&&!un.includes(Ze))return;const Et=function(){var qe=(0,a.Z)(function*(Zi,...Oi){const ws=this.transaction(Zi,tt?"readwrite":"readonly");let yn=ws.store;return yt&&(yn=yn.index(Oi.shift())),(yield Promise.all([yn[Ze](...Oi),tt&&ws.done]))[0]});return function(Oi){return qe.apply(this,arguments)}}();return Fn.set(Me,Et),Et}!function ge(Oe){_e=Oe(_e)}(Oe=>eq(X6({},Oe),{get:(Me,Ze,yt)=>vt(Me,Ze)||Oe.get(Me,Ze,yt),has:(Me,Ze)=>!!vt(Me,Ze)||Oe.has(Me,Ze)}))},5861:(Ke,ye,L)=>{function a(N,ce,de,te,se,re,ie){try{var V=N[re](ie),$=V.value}catch(H){return void de(H)}V.done?ce($):Promise.resolve($).then(te,se)}function G(N){return function(){var ce=this,de=arguments;return new Promise(function(te,se){var re=N.apply(ce,de);function ie($){a(re,te,se,ie,V,"next",$)}function V($){a(re,te,se,ie,V,"throw",$)}ie(void 0)})}}L.d(ye,{Z:()=>G})}},Ke=>{Ke(Ke.s=8346)}]);